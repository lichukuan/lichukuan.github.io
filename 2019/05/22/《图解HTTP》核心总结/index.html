<!DOCTYPE html>



  



<script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="转载《图解HTTP》核心总结 HTTP协议的简介HTTP是超文本传输协议，用于客户端和服务器端之间的通信，属于TCP/IP中的应用层。 HTTP协议的基础知识客户端和服务器端客户端是服务请求方，服务器端是服务提供方。 URI和URLURI:URI是统一资源标识符； URL:是统一资源定位器;  URI的格式(了解即可)[scheme:][//user:password@]host[:port][/">
<meta property="og:type" content="article">
<meta property="og:title" content="《图解HTTP》核心总结">
<meta property="og:url" content="http://yoursite.com/2019/05/22/《图解HTTP》核心总结/index.html">
<meta property="og:site_name" content="我的个人博客">
<meta property="og:description" content="转载《图解HTTP》核心总结 HTTP协议的简介HTTP是超文本传输协议，用于客户端和服务器端之间的通信，属于TCP/IP中的应用层。 HTTP协议的基础知识客户端和服务器端客户端是服务请求方，服务器端是服务提供方。 URI和URLURI:URI是统一资源标识符； URL:是统一资源定位器;  URI的格式(了解即可)[scheme:][//user:password@]host[:port][/">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/5/7/16a920d85391f81d?w=784&h=287&f=jpeg&s=28546">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/5/7/16a920dec2814363?w=839&h=486&f=jpeg&s=41430">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/5/7/16a920e216daa2c1?w=848&h=408&f=jpeg&s=38171">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/5/7/16a920e93e0b67f3?w=780&h=437&f=jpeg&s=42989">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/5/7/16a920f051089f47?w=643&h=257&f=jpeg&s=14320">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/5/7/16a920f376c74a87?w=643&h=254&f=jpeg&s=14297">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/5/7/16a9214d497ab1f3?w=723&h=283&f=jpeg&s=43917">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/5/7/16a920fd0d3d332e?w=655&h=427&f=jpeg&s=44705">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/5/7/16a920ff9aa1a9f9?w=608&h=728&f=jpeg&s=101123">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/5/7/16a9210213d28f19?w=709&h=450&f=jpeg&s=53018">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/5/7/16a92106a075a602?w=655&h=455&f=jpeg&s=56957">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/5/7/16a920fd0d3d332e?w=655&h=427&f=jpeg&s=44705">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/5/7/16a9212af6e3f579">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/5/7/16a921303299bde9?w=781&h=470&f=jpeg&s=73135">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/5/8/16a96bf3f0296e25?w=720&h=315&f=jpeg&s=38966">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/5/7/16a92138ef2c4d6e?w=763&h=116&f=jpeg&s=18452">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/5/7/16a9213b90e5293a?w=759&h=451&f=jpeg&s=75608">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/5/7/16a920ff9aa1a9f9?w=608&h=728&f=jpeg&s=101123">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/5/7/16a92141eb9e0c68?w=770&h=665&f=jpeg&s=57956">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/5/7/16a92147f4f3e5ca?w=822&h=783&f=jpeg&s=74478">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/5/7/16a9210213d28f19?w=709&h=450&f=jpeg&s=53018">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/5/7/16a92106a075a602?w=655&h=455&f=jpeg&s=56957">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/5/7/16a92154eb3a0039?w=592&h=298&f=png&s=49918">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/5/7/16a92158084c1816?w=638&h=456&f=jpeg&s=32324">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/5/7/16a9215bfd8e5a8a?w=797&h=661&f=jpeg&s=57497">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/5/7/16a921608e553499?w=774&h=609&f=jpeg&s=85974">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/5/7/16a9216530d26350?w=742&h=894&f=jpeg&s=60050">
<meta property="og:updated_time" content="2019-05-22T12:12:29.298Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="《图解HTTP》核心总结">
<meta name="twitter:description" content="转载《图解HTTP》核心总结 HTTP协议的简介HTTP是超文本传输协议，用于客户端和服务器端之间的通信，属于TCP/IP中的应用层。 HTTP协议的基础知识客户端和服务器端客户端是服务请求方，服务器端是服务提供方。 URI和URLURI:URI是统一资源标识符； URL:是统一资源定位器;  URI的格式(了解即可)[scheme:][//user:password@]host[:port][/">
<meta name="twitter:image" content="https://user-gold-cdn.xitu.io/2019/5/7/16a920d85391f81d?w=784&h=287&f=jpeg&s=28546">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2019/05/22/《图解HTTP》核心总结/">





  <title>《图解HTTP》核心总结 | 我的个人博客</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">我的个人博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">哪有什么胜利可言，挺着就代表着一切</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/22/《图解HTTP》核心总结/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lichukuan">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/user.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">《图解HTTP》核心总结</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-22T20:08:27+08:00">
                2019-05-22
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/计算机网络/" itemprop="url" rel="index">
                    <span itemprop="name">计算机网络</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>转载<a href="https://juejin.im/post/5cd16ba251882541cc70cbf8" target="_blank" rel="noopener">《图解HTTP》核心总结</a></p>
<h2 id="HTTP协议的简介"><a href="#HTTP协议的简介" class="headerlink" title="HTTP协议的简介"></a>HTTP协议的简介</h2><p><code>HTTP</code>是超文本传输协议，用于客户端和服务器端之间的通信，属于<code>TCP/IP</code>中的应用层。</p>
<h2 id="HTTP协议的基础知识"><a href="#HTTP协议的基础知识" class="headerlink" title="HTTP协议的基础知识"></a>HTTP协议的基础知识</h2><h3 id="客户端和服务器端"><a href="#客户端和服务器端" class="headerlink" title="客户端和服务器端"></a>客户端和服务器端</h3><p>客户端是服务请求方，服务器端是服务提供方。</p>
<h3 id="URI和URL"><a href="#URI和URL" class="headerlink" title="URI和URL"></a>URI和URL</h3><p>URI:URI是统一资源标识符；</p>
<p>URL:是统一资源定位器;</p>
<blockquote>
<p>URI的格式(了解即可)<br><br><code>[scheme:][//user:password@]host[:port][/path][?query][#fragment]</code><br><br>如上是URI的具体格式，下面介绍其意义：</p>
<ul>
<li><code>scheme:</code>:是协议方案，比如<code>http:</code>,<code>https:</code>,<code>file:</code>等,此项可选可不选</li>
<li><code>[//[user:password@]</code>:指定用户名和密码作为从服务器获取资源时必要的登陆信息，此项是可选项</li>
<li><code>host</code>:服务器地址，例如<code>www.runoob.com</code></li>
<li><code>[:port]</code>：服务器端口号,例如：8080，此项是可选项</li>
<li><code>[/path]</code>:指定服务器上的文件路径来定位特指的资源</li>
<li><code>[?query]</code>:查询字符串，例如<code>?id=123&amp;pas=123</code></li>
<li><code>[#fragment]</code>:片段标识符</li>
</ul>
</blockquote>
<h3 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h3><p>见<a href="https://juejin.im/post/59c6201df265da064428b835" target="_blank" rel="noopener">DNS基础知识</a></p>
<h2 id="HTTP的特点"><a href="#HTTP的特点" class="headerlink" title="HTTP的特点"></a>HTTP的特点</h2><h3 id="HTTP通过请求和响应来达成通信"><a href="#HTTP通过请求和响应来达成通信" class="headerlink" title="HTTP通过请求和响应来达成通信"></a>HTTP通过请求和响应来达成通信</h3><p>如图：</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/5/7/16a920d85391f81d?w=784&amp;h=287&amp;f=jpeg&amp;s=28546" alt></p>
<h2 id="HTTP-是无状态协议"><a href="#HTTP-是无状态协议" class="headerlink" title="HTTP 是无状态协议"></a>HTTP 是无状态协议</h2><p>HTTP 是无状态协议，它不对之前发生过的请求和响应的状态进行管理。也就是说，无法根据之前的状态进行本次的请求处理。</p>
<blockquote>
<p>假设要求登录认证的 Web 页面本身无法进行状态的管理（不记录已 登录的状态），那么每次跳转新页面不是要再次登录，就是要在每次 请求报文中附加参数来管理登录状态。</p>
</blockquote>
<p>HTTP使用 Cookie 的状态管理，Cookie 技术通过在请求和响应报文中写入 Cookie 信 息来控制客户端的状态。</p>
<p><code>Cookie</code> 会根据从服务器端发送的响应报文内的一个叫做 <code>Set-Cookie</code> 的首部字段信息，通知客户端保存<code>Cookie</code>。当下次客户端再往该服务器发送请求时，客户端会自动在请求报文中加入 <code>Cookie</code> 值后发送出 去。服务器端发现客户端发送过来的 <code>Cookie</code> 后，会去检查究竟是从哪一 个客户端发来的连接请求，然后对比服务器上的记录，最后得到之前 的状态信息。</p>
<p>如下图：</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/5/7/16a920dec2814363?w=839&amp;h=486&amp;f=jpeg&amp;s=41430" alt></p>
<p><img src="https://user-gold-cdn.xitu.io/2019/5/7/16a920e216daa2c1?w=848&amp;h=408&amp;f=jpeg&amp;s=38171" alt></p>
<h2 id="HTTP报文"><a href="#HTTP报文" class="headerlink" title="HTTP报文"></a>HTTP报文</h2><p><code>HTTP报文</code>是HTTP请求和响应的单位。用于请求的报文叫做<code>请求报文</code>，而用于响应的报文叫做<br><code>响应报文</code>。</p>
<h3 id="报文的结构如图"><a href="#报文的结构如图" class="headerlink" title="报文的结构如图"></a>报文的结构如图</h3><p><img src="https://user-gold-cdn.xitu.io/2019/5/7/16a920e93e0b67f3?w=780&amp;h=437&amp;f=jpeg&amp;s=42989" alt></p>
<blockquote>
<p>报文主体和实体主体的差异 : <br><br>实体作为请求或响应的有效载荷数据（补充项）被传输，其内容由实体首部和实体主体组成。HTTP 报文的主体用于传输请求或响应的实体主体。<br>通常，报文主体等于实体主体。只有当传输中进行编码操作时，实体 主体的内容发生变化，才导致它和报文主体产生差异</p>
</blockquote>
<h3 id="HTTP首部字段的结构"><a href="#HTTP首部字段的结构" class="headerlink" title="HTTP首部字段的结构"></a>HTTP首部字段的结构</h3><p><code>首部字段名: 字段值</code></p>
<p>如果有多个值，则<code>首部字段名: 字段值1, 字段值2</code></p>
<blockquote>
<p>如果HTTP首部字段重复了会如何？<br><br>当HTTP报文首部中出现中出现了两个或两个以上具有相同首部字段名时会怎么样？这种情况<br>在规范中尚未明确，根据浏览器内部处理逻辑的不同，结果可能并不一致。</p>
</blockquote>
<p>HTTP首部字段分为四个部分：</p>
<ul>
<li>通用首部字段：请求报文和响应报文两方都会使用的首部字段</li>
<li>请求首部字段：从客户端向服务器端发送请求报文时使用的首部。补充了请求的附加内容、客户端信息、响应内容相关优先级等信息。</li>
<li>响应首部字段：从服务器端向客户端返回响应报文时使用的首部。补充了响应的附加内容，也会为客户端附加额外的内容信息</li>
<li>实体首部字段：针对请求报文和响应报文的实体部分使用的首部。补充了资源内容的更新时间等与实体有关的信息</li>
</ul>
<h2 id="实例分析"><a href="#实例分析" class="headerlink" title="实例分析"></a>实例分析</h2><p>现在以请求菜鸟教程的报文为例来进行分析：</p>
<p>请求报文</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">GET /HTTP/<span class="number">1.1</span>        <span class="comment">//请求行</span></span><br><span class="line">Host: www.runoob.com</span><br><span class="line">User-Agent: Mozilla/<span class="number">5.0</span> (Windows NT <span class="number">10.0</span>; Win64; x64; rv:<span class="number">66.0</span>) Gecko/<span class="number">20100101</span> Firefox/<span class="number">66.0</span></span><br><span class="line">Accept: text/html,application/xhtml+xml,application/xml;q=<span class="number">0.9</span>,*<span class="comment">/*;q=0.8</span></span><br><span class="line"><span class="comment">Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2</span></span><br><span class="line"><span class="comment">Accept-Encoding: gzip, deflate, br</span></span><br><span class="line"><span class="comment">Referer: https://cn.bing.com/</span></span><br><span class="line"><span class="comment">Connection: keep-alive</span></span><br><span class="line"><span class="comment">Cookie: Hm_lvt_3eec0b7da6548cf07db3bc477ea905ee=1554627142,1556799533; _ga=GA1.2.579069872.1554627144; Hm_lpvt_3eec0b7da6548cf07db3bc477ea905ee=1556799533; _gid=GA1.2.1514513796.1556799533; _gat_gtag_UA_84264393_2=1</span></span><br><span class="line"><span class="comment">Upgrade-Insecure-Requests: 1 </span></span><br><span class="line"><span class="comment">Cache-Control: max-age=0</span></span><br></pre></td></tr></table></figure>
<p>响应报文</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">HTTP/<span class="number">1.1</span> <span class="number">200</span> OK      <span class="comment">//状态行</span></span><br><span class="line">Server: Tengine</span><br><span class="line">Content-Type: text/html</span><br><span class="line">Content-Length: <span class="number">150124</span></span><br><span class="line">Connection: keep-alive</span><br><span class="line">Date: Thu, <span class="number">02</span> May <span class="number">2019</span> <span class="number">09</span>:<span class="number">27</span>:<span class="number">08</span> GMT</span><br><span class="line">Content-Encoding: gzip</span><br><span class="line">Vary: Accept-Encoding</span><br><span class="line">X-M-Log: QNM:xs446;QNM3:<span class="number">1</span></span><br><span class="line">X-M-Reqid: jVAAADsHtCKO05oV</span><br><span class="line">X-Powered-By: HHVM/<span class="number">3.28</span>.1</span><br><span class="line">X-Qnm-Cache: Hit</span><br><span class="line">Ali-Swift-Global-Savetime: <span class="number">1556270140</span></span><br><span class="line">Via: cache16.l2cn1807[<span class="number">0</span>,<span class="number">200</span>-<span class="number">0</span>,H], cache37.l2cn1807[<span class="number">1</span>,<span class="number">0</span>], cache9.cn1066[<span class="number">0</span>,<span class="number">200</span>-<span class="number">0</span>,H], cache5.cn1066[<span class="number">1</span>,<span class="number">0</span>]</span><br><span class="line">Age: <span class="number">10328</span></span><br><span class="line">X-Cache: HIT TCP_MEM_HIT dirn:<span class="number">11</span>:<span class="number">466942761</span></span><br><span class="line">X-Swift-SaveTime: Thu, <span class="number">02</span> May <span class="number">2019</span> <span class="number">10</span>:<span class="number">36</span>:<span class="number">54</span> GMT</span><br><span class="line">X-Swift-CacheTime: <span class="number">86400</span></span><br><span class="line">Timing-Allow-Origin: *</span><br><span class="line">EagleId: db971b1915567995564074785e</span><br></pre></td></tr></table></figure>
<h3 id="请求行和状态行"><a href="#请求行和状态行" class="headerlink" title="请求行和状态行"></a>请求行和状态行</h3><blockquote>
<p>请求行：请求行中包含用于请求的方法，请求的URI和HTTP版本<br><br>状态行：状态行包含响应结果的状态码，原因短语和HTTP版本</p>
</blockquote>
<p>在请求报文中<code>GET /HTTP/1.1</code>是请求行，其中<code>GET</code>代表请求的方法，<code>/HTTP/1.1</code>代表HTTP版本，在这个请求中未出现请求的<code>URI</code>。</p>
<p>在响应报文中<code>HTTP/1.1 200 OK</code>是状态行，其中<code>HTTP/1.1</code>是请求的版本，<code>200</code>是响应结果的状态码，而<code>OK</code><br>则是原因短语。</p>
<h3 id="请求的方法"><a href="#请求的方法" class="headerlink" title="请求的方法"></a>请求的方法</h3><p>GET：GET方法用来访问以被URI识别的资源。指定的资源经服务器解析后返回响应的内容。如下图</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/5/7/16a920f051089f47?w=643&amp;h=257&amp;f=jpeg&amp;s=14320" alt></p>
<p>POST: POST方法用来传输实体的主体。如下图</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/5/7/16a920f376c74a87?w=643&amp;h=254&amp;f=jpeg&amp;s=14297" alt></p>
<p>其他方法如<code>PUT HEAD DELETE OPTIONS TRACE CONNECT</code>一般不使用。下面简单介绍一下：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>作用</th>
<th>不使用的原因</th>
</tr>
</thead>
<tbody>
<tr>
<td>PUT</td>
<td>用来传输文件</td>
<td>PUT方法不采用任何验证机制，存在安全问题</td>
</tr>
<tr>
<td>HEAD</td>
<td>和GET方法一样，不过只返回响应首部</td>
<td>—</td>
</tr>
<tr>
<td>DELETE</td>
<td>用来删除文件</td>
<td>DELETE不采用任何验证机制，存在安全问题</td>
</tr>
<tr>
<td>OPTIONS</td>
<td>查询针对请求URI指定的资源支持的方法</td>
<td>—-</td>
</tr>
<tr>
<td>TRACE</td>
<td>让WEB服务器端将之前的请求通信返回给客户端</td>
<td>容易引发跨站追踪（XST）攻击</td>
</tr>
<tr>
<td>CONNECT</td>
<td>要求在与代理服务器通信时建立隧道，实现用隧道协议进行TCP通信</td>
<td>—-</td>
</tr>
</tbody>
</table>
<h3 id="状态码"><a href="#状态码" class="headerlink" title="状态码"></a>状态码</h3><p><img src="https://user-gold-cdn.xitu.io/2019/5/7/16a9214d497ab1f3?w=723&amp;h=283&amp;f=jpeg&amp;s=43917" alt></p>
<h4 id="2XX"><a href="#2XX" class="headerlink" title="2XX"></a>2XX</h4><h5 id="200-ok"><a href="#200-ok" class="headerlink" title="200 ok"></a>200 ok</h5><p>表示从客户端发来的请求在服务器端被正常处理了</p>
<h5 id="204-Not-Content"><a href="#204-Not-Content" class="headerlink" title="204 Not Content"></a>204 Not Content</h5><p>该状态码代表服务器接收的请求已经被成功处理，但是返回的响应报文中不包含实体的主体部分</p>
<h5 id="206-Partial-Content"><a href="#206-Partial-Content" class="headerlink" title="206 Partial Content"></a>206 Partial Content</h5><p>该状态码表示客户端进行了范围请求，而服务器成功执行了这部分的GET请求</p>
<h4 id="3XX"><a href="#3XX" class="headerlink" title="3XX"></a>3XX</h4><h5 id="301-Moved-Permanently"><a href="#301-Moved-Permanently" class="headerlink" title="301 Moved Permanently"></a>301 Moved Permanently</h5><p>永久性重定向，该状态码表示请求的资源已被分配到新的URI，以后应该<br>使用现在所指的URI。</p>
<h5 id="302-Found"><a href="#302-Found" class="headerlink" title="302 Found"></a>302 Found</h5><p>临时重定向。该状态码表明请求的资源已被分配了新的URI，希望用户本次能使用新的URI访问。</p>
<h5 id="303-See-Other"><a href="#303-See-Other" class="headerlink" title="303 See Other"></a>303 See Other</h5><p>该状态码表示由于请求资源存在另一个URI，应该使用GET方法定向获取请求的资源</p>
<h5 id="304-Not-Modified"><a href="#304-Not-Modified" class="headerlink" title="304 Not Modified"></a>304 Not Modified</h5><p>该状态码表示客户端发送附带条件请求时，服务器端允许请求访问资源，但因为请求未满足条件的情况后，<br>直接返回304.</p>
<h5 id="307-Temporary-Redirect"><a href="#307-Temporary-Redirect" class="headerlink" title="307 Temporary Redirect"></a>307 Temporary Redirect</h5><p>临时重定向，和302相似。但是307不会从Post变成GET</p>
<h4 id="4XX"><a href="#4XX" class="headerlink" title="4XX"></a>4XX</h4><h5 id="400-Bad-Request"><a href="#400-Bad-Request" class="headerlink" title="400 Bad Request"></a>400 Bad Request</h5><p>该状态码表示请求报文中存在语法错误。当错误发生时，需要修改请求的内容后再次发送请求</p>
<h5 id="401-Unauthorized"><a href="#401-Unauthorized" class="headerlink" title="401 Unauthorized"></a>401 Unauthorized</h5><p>该状态码表示发送的请求需要通过HTTP认证的认证信息。另外若之前已经进行过一次请求，则表示用户认证失败</p>
<h5 id="403-Forbidden"><a href="#403-Forbidden" class="headerlink" title="403 Forbidden"></a>403 Forbidden</h5><p>该状态码表明对请求资源的访问被服务器拒绝了</p>
<h5 id="404-Not-Found"><a href="#404-Not-Found" class="headerlink" title="404 Not Found"></a>404 Not Found</h5><p>该状态码表明服务器上无法找到请求的资源</p>
<h4 id="5XX"><a href="#5XX" class="headerlink" title="5XX"></a>5XX</h4><h5 id="500-Internal-Server-Error"><a href="#500-Internal-Server-Error" class="headerlink" title="500 Internal Server Error"></a>500 Internal Server Error</h5><p>该主题码表示服务器在执行请求时发生了错误</p>
<h5 id="503-Service-Unavailable"><a href="#503-Service-Unavailable" class="headerlink" title="503 Service Unavailable"></a>503 Service Unavailable</h5><p>该状态码表明服务器暂时处于超负载或正在进行停机维护，现在无法处理请求。</p>
<h3 id="HTTP所有的首部字段"><a href="#HTTP所有的首部字段" class="headerlink" title="HTTP所有的首部字段"></a>HTTP所有的首部字段</h3><p>HTTP/1.1定义了如下47种首部地段，如下</p>
<p>通用首部字段：</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/5/7/16a920fd0d3d332e?w=655&amp;h=427&amp;f=jpeg&amp;s=44705" alt></p>
<p>请求首部字段：</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/5/7/16a920ff9aa1a9f9?w=608&amp;h=728&amp;f=jpeg&amp;s=101123" alt></p>
<p>响应首部字段：</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/5/7/16a9210213d28f19?w=709&amp;h=450&amp;f=jpeg&amp;s=53018" alt></p>
<p>实体首部字段： </p>
<p><img src="https://user-gold-cdn.xitu.io/2019/5/7/16a92106a075a602?w=655&amp;h=455&amp;f=jpeg&amp;s=56957" alt></p>
<p>非HTTP/1.1首部字段（不属于47种中的字段）:<code>Cookie</code>、 <code>Set-Cookie</code>、 <code>Content-Disposition</code>等。</p>
<h3 id="端到端首部和逐跳首部"><a href="#端到端首部和逐跳首部" class="headerlink" title="端到端首部和逐跳首部"></a>端到端首部和逐跳首部</h3><p>HTTP将使用 <code>缓存代理</code>和<code>非缓存代理</code> 的首部字段分成两种类型：端到端首部（End-to-end Header）、逐跳首部(Hop-by-hop Header)</p>
<blockquote>
<p>缓存代理<br><br>代理转发响应时，缓存代理（Caching Proxy）会预先将资源的副本 （缓存）保存在代理服务器上。<br>当代理再次接收到对相同资源的请求时，就可以不从源服务器那里获 取资源，而是将之前缓存的资源作为响应返回。<br><br>透明代理<br><br>转发请求或响应时，不对报文做任何加工的代理类型被称为透明代理 （Transparent Proxy）。反之，对报文内容进行加工的代理被称为非 透明代理。<br><br></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">注意：这里的非缓存代理不等于透明代理；它们划分的标准不一样。`缓存代理`和`非缓存代理`是通过是否使用缓存来划分的；而`透明代理`和`非透明代理`是通过是否会修改报文来划分。</span><br></pre></td></tr></table></figure>
<p>端到端首部：分在此类别中的首部会转发给请求/响应对应的最终接收目标(即<strong>全程有效</strong>)，且必须保存在由缓存生成的响应中，另外规定它必须被转发</p>
<p>逐跳首部：分在此类别的首部只对<strong>单次转发有效</strong>，会因为通过缓存或代理而不再转发。在HTTP/1.1和以后版本中，如果要使用逐跳首部，需要通过Connection首部字段</p>
<p>逐跳首部字段为：</p>
<ul>
<li>Connection </li>
<li>Keep-Alive(新增字段，可忽略) </li>
<li>Proxy-Authenticate </li>
<li>Proxy-Authorization </li>
<li>Trailer </li>
<li>TE </li>
<li>Transfer-Encoding </li>
<li>Upgrade</li>
</ul>
<p>其他字段都为端到端首部</p>
<h3 id="通用首部字段"><a href="#通用首部字段" class="headerlink" title="通用首部字段"></a>通用首部字段</h3><p><img src="https://user-gold-cdn.xitu.io/2019/5/7/16a920fd0d3d332e?w=655&amp;h=427&amp;f=jpeg&amp;s=44705" alt></p>
<p>在实例的请求报文中出现的通用首部</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Connection: keep-alive</span><br><span class="line">Cache-Control: max-age=<span class="number">0</span></span><br></pre></td></tr></table></figure>
<p>在实例的响应报文中出现的通用首部</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Connection: keep-alive</span><br><span class="line">Date: Thu, <span class="number">02</span> May <span class="number">2019</span> <span class="number">09</span>:<span class="number">27</span>:<span class="number">08</span> GMT</span><br><span class="line">Via: cache16.l2cn1807[<span class="number">0</span>,<span class="number">200</span>-<span class="number">0</span>,H], cache37.l2cn1807[<span class="number">1</span>,<span class="number">0</span>], cache9.cn1066[<span class="number">0</span>,<span class="number">200</span>-<span class="number">0</span>,H], cache5.cn1066[<span class="number">1</span>,<span class="number">0</span>]</span><br></pre></td></tr></table></figure>
<h4 id="Cache-Control"><a href="#Cache-Control" class="headerlink" title="Cache-Control"></a>Cache-Control</h4><p>通过指定首部字段Cathe-Control的指令，就可以操作缓存的工作机制，如图：</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/5/7/16a9212af6e3f579" alt></p>
<p><img src="https://user-gold-cdn.xitu.io/2019/5/7/16a921303299bde9?w=781&amp;h=470&amp;f=jpeg&amp;s=73135" alt></p>
<p>请求报文中<code>Cache-Control: max-age=0</code>表示缓存服务器通常需要将请求转发给源服务器。</p>
<h4 id="Connection"><a href="#Connection" class="headerlink" title="Connection"></a>Connection</h4><p><code>Connection</code>的作用：</p>
<ol>
<li>控制不再转发给代理的首部字段</li>
<li>管理持久化连接</li>
</ol>
<h5 id="控制不再转发给代理的首部字段"><a href="#控制不再转发给代理的首部字段" class="headerlink" title="控制不再转发给代理的首部字段"></a>控制不再转发给代理的首部字段</h5><p><img src="https://user-gold-cdn.xitu.io/2019/5/8/16a96bf3f0296e25?w=720&amp;h=315&amp;f=jpeg&amp;s=38966" alt></p>
<blockquote>
<p>代理服务器的基本行为就是接收客户端发送的请求后转发给其他服务器。代理不改变请求 URI，会直接发送给前方持有资源的目标服务器。上面介绍的缓存代理是代理服务器作用的一种。</p>
</blockquote>
<h5 id="管理持久化连接"><a href="#管理持久化连接" class="headerlink" title="管理持久化连接"></a>管理持久化连接</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Connection: close <span class="comment">//表明服务器想断开连接</span></span><br><span class="line">Connection: Keep-Alive <span class="comment">//保持持久化连接（默认）</span></span><br></pre></td></tr></table></figure>
<h4 id="Via"><a href="#Via" class="headerlink" title="Via"></a>Via</h4><p>用来追踪客户端与服务器端之间的请求和响应报文的传输路径。<br><br>如<code>Via: cache16.l2cn1807[0,200-0,H], cache37.l2cn1807[1,0], cache9.cn1066[0,200-0,H], cache5.cn1066[1,0]</code></p>
<h4 id="Date"><a href="#Date" class="headerlink" title="Date"></a>Date</h4><p>首部字段Date表明创建HTTP报文的时间，如<code>Date: Thu, 02 May 2019 09:27:08 GMT</code>就表示创建报文的时间为2019年5月2日，星期二。</p>
<h4 id="Pragma"><a href="#Pragma" class="headerlink" title="Pragma"></a>Pragma</h4><p>Pragma是历史遗留字段，仅作为与HTTP/1.0的向后兼容而定义。</p>
<h4 id="Trailer"><a href="#Trailer" class="headerlink" title="Trailer"></a>Trailer</h4><p>用来说明在报文主体后记录了哪些首部字段</p>
<h4 id="Transfer-Encoding"><a href="#Transfer-Encoding" class="headerlink" title="Transfer-Encoding"></a>Transfer-Encoding</h4><p>规定传输报文主体时采用的编码方式（仅对分块传输编码有效）</p>
<h4 id="Upgrade"><a href="#Upgrade" class="headerlink" title="Upgrade"></a>Upgrade</h4><p>用来检测HTTP协议及其他协议是否可使用更高的版本进行通信。</p>
<h4 id="Warning"><a href="#Warning" class="headerlink" title="Warning"></a>Warning</h4><p>告诉用户一些与缓存有关的问题的警告</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/5/7/16a92138ef2c4d6e?w=763&amp;h=116&amp;f=jpeg&amp;s=18452" alt></p>
<p><img src="https://user-gold-cdn.xitu.io/2019/5/7/16a9213b90e5293a?w=759&amp;h=451&amp;f=jpeg&amp;s=75608" alt></p>
<h3 id="请求首部字段"><a href="#请求首部字段" class="headerlink" title="请求首部字段"></a>请求首部字段</h3><p><img src="https://user-gold-cdn.xitu.io/2019/5/7/16a920ff9aa1a9f9?w=608&amp;h=728&amp;f=jpeg&amp;s=101123" alt></p>
<p>请求报文（去除了通用首部字段）</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Host: www.runoob.com</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:66.0) Gecko/20100101 Firefox/66.0</span><br><span class="line">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8</span><br><span class="line">Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2</span><br><span class="line">Accept-Encoding: gzip, deflate, br</span><br><span class="line">Referer: https://cn.bing.com/</span><br><span class="line">Cookie: Hm_lvt_3eec0b7da6548cf07db3bc477ea905ee=1554627142,1556799533; _ga=GA1.2.579069872.1554627144; Hm_lpvt_3eec0b7da6548cf07db3bc477ea905ee=1556799533; _gid=GA1.2.1514513796.1556799533; _gat_gtag_UA_84264393_2=1</span><br><span class="line">Upgrade-Insecure-Requests: 1 </span><br><span class="line">Cache-Control: max-age=0</span><br></pre></td></tr></table></figure>
<h4 id="Host"><a href="#Host" class="headerlink" title="Host"></a>Host</h4><p>告诉服务器请求的资源所处的互联网主机名和端口号，如<code>Host: www.runoob.com</code>。<em>Host是唯一必须包含在请求内的首部字段</em></p>
<h4 id="User-Agent"><a href="#User-Agent" class="headerlink" title="User-Agent"></a>User-Agent</h4><p>用来将创建请求的浏览器和用户代理名称等信息传达给服务器。</p>
<p>例如上面的请求首部:<br><br><code>User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:66.0) Gecko/20100101 Firefox/66.0</code></p>
<h4 id="Accept"><a href="#Accept" class="headerlink" title="Accept"></a>Accept</h4><p>通知服务器可以处理的媒体类型及媒体类型的相对优先级</p>
<p>例如<code>Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8</code></p>
<h5 id="媒体类型"><a href="#媒体类型" class="headerlink" title="媒体类型"></a>媒体类型</h5><p>文本文件</p>
<p>text/html, text/plain, text/css …<br>application/xhtml+xml, application/xml …</p>
<p>图片文件</p>
<p>image/jpeg, image/gif, image/png …</p>
<p>视频文件</p>
<p>video/mpeg, video/quicktime …</p>
<p>应用程序使用的二进制文件</p>
<p>application/octet-stream, application/zip</p>
<h5 id="优先级"><a href="#优先级" class="headerlink" title="优先级"></a>优先级</h5><p>使用<code>q=</code>来额外表示权重值，用<code>;</code>进行分隔。权重值的范围是0~1（可精确到小数点后3位），且1为最大值。不指定<br>权重值时，默认权重为q=1.0.当服务器提供多个内容时会首先返回权重值最高的媒体类型。</p>
<h4 id="Accept-Charset"><a href="#Accept-Charset" class="headerlink" title="Accept-Charset"></a>Accept-Charset</h4><p><code>Accept-Charset</code>首部字段可用来通知服务器用户代理支持的字符集及字符集的相对优先顺序。另外可一次性指定多种字符集。与首部字段<br><code>Accept</code>相同的可用权重q值来表示相对优先级</p>
<h4 id="Accept-Encoding"><a href="#Accept-Encoding" class="headerlink" title="Accept-Encoding"></a>Accept-Encoding</h4><p>Accept-Encoding首部字段用来告知服务器用户代理支持的内容编码及内容编码的优先级顺序。可一次性指定多种内容编码，可用权重q来指定优先级<br>例如<code>Accept-Encoding: gzip, deflate, br</code></p>
<h4 id="Accept-Language"><a href="#Accept-Language" class="headerlink" title="Accept-Language"></a>Accept-Language</h4><p>首部字段Accept-Language用来告诉服务器用户代理能够处理的语言，可以指定多个语言，可以使用q来决定优先级。<br>例如<code>Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2</code></p>
<h4 id="Authorization"><a href="#Authorization" class="headerlink" title="Authorization"></a>Authorization</h4><p>用来告诉服务器，用户代理的认证信息</p>
<h4 id="Expect"><a href="#Expect" class="headerlink" title="Expect"></a>Expect</h4><p>告知服务器期望出现某种特定的行为</p>
<h4 id="From"><a href="#From" class="headerlink" title="From"></a>From</h4><p>告诉服务器使用用户代理的用户的电子邮箱地址</p>
<h4 id="If-Match"><a href="#If-Match" class="headerlink" title="If-Match"></a>If-Match</h4><p>告诉服务器匹配资源所用的实体标记（ETag）值，服务器会对比If-Match的字段值和资源的ETag值，仅<br>当两者一致时才执行请求.反之则返回状码412</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/5/7/16a92141eb9e0c68?w=770&amp;h=665&amp;f=jpeg&amp;s=57956" alt></p>
<h4 id="If-Modified-Since"><a href="#If-Modified-Since" class="headerlink" title="If-Modified-Since"></a>If-Modified-Since</h4><p>告诉服务器若If-Modified-Since字段值早于资源更新的时间，则希望能处理该请求。<br>反之如果在If-Modified-Since指定的时间日期之后，如果请求的资源都没有更新，则<br>返回的状态码 304</p>
<h4 id="If-None-Match"><a href="#If-None-Match" class="headerlink" title="If-None-Match"></a>If-None-Match</h4><p>与If-Match相反</p>
<h4 id="If-Range"><a href="#If-Range" class="headerlink" title="If-Range"></a>If-Range</h4><p>告诉服务器若指定的If-Range字段值（ETag值或者时间）和请求资源的ETag值或时间相一致时，则作为范围请求处理。<br>反之，则返回全体资源。如图：</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/5/7/16a92147f4f3e5ca?w=822&amp;h=783&amp;f=jpeg&amp;s=74478" alt></p>
<h4 id="If-Unmodified-Since"><a href="#If-Unmodified-Since" class="headerlink" title="If-Unmodified-Since"></a>If-Unmodified-Since</h4><p>与If-Modified-Since作用相反</p>
<h4 id="Range"><a href="#Range" class="headerlink" title="Range"></a>Range</h4><p>对于只需获取部分资源的范围请求，包含首部字段<code>Range</code>即可告知服务器资源的指定范围。<br>接收到附带<code>Range</code>首部字段请求的服务器，会在处理请求之后返回<code>206</code>.无法处理该范围的<br>请求时，则会返回<code>200</code>的响应及全部资源。</p>
<h4 id="Referer"><a href="#Referer" class="headerlink" title="Referer"></a>Referer</h4><p>告诉服务器请求的原始URI</p>
<p>例如：<code>Referer: https://cn.bing.com/</code>说明我是从微软必应请求的</p>
<h4 id="Upgrade-Insecure-Requests"><a href="#Upgrade-Insecure-Requests" class="headerlink" title="Upgrade-Insecure-Requests"></a>Upgrade-Insecure-Requests</h4><p><code>Upgrade-Insecure-Requests</code>是一个请求首部，用来向服务器端发送信号，表示客户端优先选择加密及带有身份验证的响应。不属于47种报文首部字段。</p>
<h4 id="TE"><a href="#TE" class="headerlink" title="TE"></a>TE</h4><p>告诉服务器，客户端能够处理的传输编码方式及相对优先级</p>
<h3 id="Transfer-Encoding-TE-Content-Encoding-Accept-Encoding四个首部字段的区别"><a href="#Transfer-Encoding-TE-Content-Encoding-Accept-Encoding四个首部字段的区别" class="headerlink" title="Transfer-Encoding,TE,Content-Encoding,Accept-Encoding四个首部字段的区别"></a>Transfer-Encoding,TE,Content-Encoding,Accept-Encoding四个首部字段的区别</h3><ul>
<li>Transfer-Encoding：用于指定传输报文主体时使用的编码方式，属于逐跳首部，即只在两个节点间有效。 </li>
<li>TE：用于告知服务器客户端能够处理的编码方式和相对优先级，属于逐跳首部，即只在两个节点间有效。 </li>
<li>Content-Encoding：用于指定报文主体已经采用的编码方式，属于端到端首部，即在整个传输过程中有效。 </li>
<li>Accept-Encoding：用于告知服务器客户端能够处理的编码方式和相对优先级，属于端到端首部，即在整个传输过程中有效。 </li>
</ul>
<p>很显然，<code>Transfer-Encoding</code>和<code>TE</code>是一组，<code>Content-Encoding</code>和<code>Accept-Encoding</code>是一组。<br>根本区别在于，<code>Content-Encoding</code>和<code>Accept-Encoding</code>限制的是报文主体在整个传输过程中使用的编码方式，全局有效；<code>Transfer-Encoding</code>和<code>TE</code>限制的是报文主体在两个节点间（源服务器和代理服务器之间、代理服务器和客户端之间等）传输时使用的编码方式，只在两节点间有效。</p>
<p>转自<a href="https://blog.csdn.net/swt369/article/details/77847896" target="_blank" rel="noopener">区分Transfer-Encoding,TE,Content-Encoding,Accept-Encoding四个首部字段</a></p>
<h3 id="响应首部字段"><a href="#响应首部字段" class="headerlink" title="响应首部字段"></a>响应首部字段</h3><p><img src="https://user-gold-cdn.xitu.io/2019/5/7/16a9210213d28f19?w=709&amp;h=450&amp;f=jpeg&amp;s=53018" alt></p>
<p>响应报文</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Server: Tengine</span><br><span class="line">Vary: Accept-Encoding</span><br><span class="line">X-M-Log: QNM:xs446;QNM3:<span class="number">1</span></span><br><span class="line">X-M-Reqid: jVAAADsHtCKO05oV</span><br><span class="line">X-Powered-By: HHVM/<span class="number">3.28</span>.1</span><br><span class="line">X-Qnm-Cache: Hit</span><br><span class="line">Ali-Swift-Global-Savetime: <span class="number">1556270140</span></span><br><span class="line">Age: <span class="number">10328</span></span><br><span class="line">X-Cache: HIT TCP_MEM_HIT dirn:<span class="number">11</span>:<span class="number">466942761</span></span><br><span class="line">X-Swift-SaveTime: Thu, <span class="number">02</span> May <span class="number">2019</span> <span class="number">10</span>:<span class="number">36</span>:<span class="number">54</span> GMT</span><br><span class="line">X-Swift-CacheTime: <span class="number">86400</span></span><br><span class="line">Timing-Allow-Origin: *</span><br><span class="line">EagleId: db971b1915567995564074785e</span><br></pre></td></tr></table></figure>
<h4 id="Accept-Ranges"><a href="#Accept-Ranges" class="headerlink" title="Accept-Ranges"></a>Accept-Ranges</h4><p>首部字段Accept-Ranges是用来告诉客户端服务器是否能处理范围请求，以指定获取服务器端<br>某个部分的资源。可以指定的值为<code>bytes</code>(表示接受范围请求)和<code>none</code>（表示不接受范围请求）.</p>
<h4 id="Age"><a href="#Age" class="headerlink" title="Age"></a>Age</h4><p>告诉客户端，源服务器在多久前创建了响应。字段值的单位为秒。</p>
<h4 id="ETag"><a href="#ETag" class="headerlink" title="ETag"></a>ETag</h4><p>主要用于检验缓存是否改变。它告诉客户端实体标识，是一种可将资源以字符串的形式做唯一标识的方式。服务器会为每份资源分配对应的ETag值</p>
<p>另外当资源更新时，ETag值也需要更新。当资源被缓存时，就会被分配唯一的标识。若在下载过程中<br>出现连接的中断，再连接的情况，都会依照ETag值来指定资源。</p>
<p>ETag中有强ETag值和弱ETag值</p>
<p>强ETag值，无论实体发生多么细微的变化都会改变其值。</p>
<p>弱ETag值，只用于提示资源是否相同。只有资源发生了根本改变，产生差异时才会改变<code>ETag</code>值。这时，<br>会在字段值最开始处附加 <code>W/</code></p>
<h4 id="Location"><a href="#Location" class="headerlink" title="Location"></a>Location</h4><p>将响应接受方引领到某个与请求URI位置不同的资源。基本上，该字段会配合3XX的响应，提供重定向的URI。</p>
<h4 id="Proxy-Authenticate"><a href="#Proxy-Authenticate" class="headerlink" title="Proxy-Authenticate"></a>Proxy-Authenticate</h4><p>会把由代理服务器所要求的认证信息发生给客户端</p>
<h4 id="Retry-After"><a href="#Retry-After" class="headerlink" title="Retry-After"></a>Retry-After</h4><p>告诉客户端应该在多久之后再发送请求。主要配合状态码503响应或3xx响应一起使用。字段值可以指定为具体的日期时间，也可以是创建响应后的秒数</p>
<h4 id="Server"><a href="#Server" class="headerlink" title="Server"></a>Server</h4><p>告诉客户端当前服务器上安装的HTTP服务器应用程序的信息</p>
<h4 id="Vary"><a href="#Vary" class="headerlink" title="Vary"></a>Vary</h4><p>对缓存进行控制。具体见<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Vary" target="_blank" rel="noopener">这里</a></p>
<h4 id="WWW-Authenticate"><a href="#WWW-Authenticate" class="headerlink" title="WWW-Authenticate"></a>WWW-Authenticate</h4><p>用于HTTP访问认证</p>
<h3 id="实体首部字段"><a href="#实体首部字段" class="headerlink" title="实体首部字段"></a>实体首部字段</h3><p><img src="https://user-gold-cdn.xitu.io/2019/5/7/16a92106a075a602?w=655&amp;h=455&amp;f=jpeg&amp;s=56957" alt></p>
<h4 id="Allow"><a href="#Allow" class="headerlink" title="Allow"></a>Allow</h4><p>告诉客户端支持的请求方法</p>
<h4 id="Content-Encoding"><a href="#Content-Encoding" class="headerlink" title="Content-Encoding"></a>Content-Encoding</h4><p>告知客户端服务器对实体的主体部分选用的内容编码方式。内容编码是指在不丢失实体信息的前提下所进行的压缩</p>
<p>主要采用以下4种内容编码的方式</p>
<ul>
<li>gzip</li>
<li>compress</li>
<li>deflate</li>
<li>identity</li>
</ul>
<h4 id="Content-Language"><a href="#Content-Language" class="headerlink" title="Content-Language"></a>Content-Language</h4><p>告诉客户端，实体使用的语言</p>
<h4 id="Content-Length"><a href="#Content-Length" class="headerlink" title="Content-Length"></a>Content-Length</h4><p>表明实体主体部分的大小，单位是字节。对实体主体进行内容编码传输时，不能再使用Content-Length<br>首部字段</p>
<h4 id="Content-Location"><a href="#Content-Location" class="headerlink" title="Content-Location"></a>Content-Location</h4><p>给出报文主体部分相对应的URI。和首部字段Location不同，Content-Location表示的是报文主体返回资源对应的URI</p>
<h4 id="Content-MD5"><a href="#Content-MD5" class="headerlink" title="Content-MD5"></a>Content-MD5</h4><p>首部字段 Content-MD5 是一串由 MD5 算法生成的值，其目的在于检 查报文主体在传输过程中是否保持完整，以及确认传输到达。</p>
<h4 id="Content-Range"><a href="#Content-Range" class="headerlink" title="Content-Range"></a>Content-Range</h4><p>针对范围请求，返回响应时使用的首部字段Content-Range，能告诉客户端作为响应返回的实体的哪个部分<br>符合范围请求。字段值以字节为单位，表示当前发送部分及整个实体大小。</p>
<h4 id="Content-Type"><a href="#Content-Type" class="headerlink" title="Content-Type"></a>Content-Type</h4><p>说明实体主体内对象的媒体类型，和首部字段<code>Accept</code>一样，字段值用<code>type/subtype</code>形式赋值</p>
<p><code>Http Header</code>里的<code>Content-Type</code>一般有这三种：</p>
<ul>
<li>application/x-www-form-urlencoded：数据被编码为名称/值对(这是标准的编码格式)。</li>
<li>multipart/form-data： 数据被编码为一条消息，页上的每个控件对应消息中的一个部分。</li>
<li>text/plain： 数据以纯文本形式(text/json/xml/html)进行编码，其中不含任何控件或格式字符(postman软件里标的是RAW)</li>
</ul>
<blockquote>
<p>form的enctype属性为编码方式，常用有两种：<code>application/x-www-form-urlencoded</code>和<code>multipart/form-data</code>，默认为<code>application/x-www-form-urlencoded</code>。<br><br>当<code>action</code>为<code>get</code>时候，浏览器用<code>x-www-form-urlencoded</code>的编码方式把<code>form</code>数据转换成一个字串<code>（name1=value1&amp;name2=value2...）</code>，然后把这个字串追加到url后面，用?分割，加载这个新的url。<br><br>当<code>action</code>为<code>post</code>时候，浏览器把<code>form</code>数据封装到<code>http body</code>中，然后发送到<code>server</code>。 如果没有<code>type=file</code>的控件，用默认的<code>application/x-www-form-urlencoded</code>就可以了。 但是如果有<code>type=file</code>的话，就要用到<code>multipart/form-data</code>了。<br><br>当<code>action</code>为<code>post</code>且<code>Content-Type</code>类型是<code>multipart/form-data</code>，浏览器会把整个表单以控件为单位分割，并为每个部分加上<code>Content-Disposition</code>(form-data或者file),<code>Content-Type</code>(默认为<code>text/plain</code>),<code>name</code>(控件name)等信息，并加上分割符。</p>
</blockquote>
<p>转自<a href="https://www.cnblogs.com/52fhy/p/5436673.html" target="_blank" rel="noopener">Http Header里的Content-Type </a></p>
<h4 id="Expires"><a href="#Expires" class="headerlink" title="Expires"></a>Expires</h4><p>会将资源失效的日期告诉客户端</p>
<h4 id="Last-Modified"><a href="#Last-Modified" class="headerlink" title="Last-Modified"></a>Last-Modified</h4><p>指明资源最终修改的时间</p>
<h3 id="为Cookie服务的首部字段"><a href="#为Cookie服务的首部字段" class="headerlink" title="为Cookie服务的首部字段"></a>为Cookie服务的首部字段</h3><h4 id="Set-Cookie"><a href="#Set-Cookie" class="headerlink" title="Set-Cookie"></a>Set-Cookie</h4><p>开始状态管理所使用的Cookie信息（响应首部字段）</p>
<h4 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h4><p>告诉服务器，当客户端想获取HTTP状态管理支持时，就会在请求中包含从服务器接受到的Cookie。接收到多个<br>Cookie时，同时可以以多个Cookie形式发送</p>
<h2 id="其他首部字段"><a href="#其他首部字段" class="headerlink" title="其他首部字段"></a>其他首部字段</h2><p>HTTP首部字段是可以自行扩展的。所以在WEB服务器和浏览器应用上，会出现各种非标准的首部字段</p>
<h3 id="X-Frame-Options"><a href="#X-Frame-Options" class="headerlink" title="X-Frame-Options"></a>X-Frame-Options</h3><p>属于响应首部，用于控制网站内容在其他web网站的Frame标签内的显示问题。其主要目的是为了防止<br>点击劫持攻击</p>
<p>有两个可指定的字段值<br>DENY:拒绝<br>SAMEORIGIN:仅在同源域名下的页面匹配时许可</p>
<h3 id="X-XSS-Protection"><a href="#X-XSS-Protection" class="headerlink" title="X-XSS-Protection"></a>X-XSS-Protection</h3><p>属于响应首部，它是针对跨站脚本攻击（XSS）的一种对策，用于控制浏览器XSS防护机制开关。</p>
<p>字段值：<br>0：将XSS过滤设置为无效状态<br>1：将XSS过滤设置为有效状态</p>
<h3 id="DNT"><a href="#DNT" class="headerlink" title="DNT"></a>DNT</h3><p>属于请求字段，意味拒绝个人信息被采集，是表示拒绝被精准广告追踪的一种方法</p>
<p>字段值<br>0：同意被追踪<br>1：拒绝被追踪</p>
<h3 id="P3P"><a href="#P3P" class="headerlink" title="P3P"></a>P3P</h3><p>属于响应首部，通过利用 P3P（The Platform for Privacy Preferences，在线隐私偏好平台）技术，可以让 Web 网站上 的个人隐私变成一种仅供程序可理解的形式，以达到保护用户隐私的 目的。</p>
<h2 id="协议中对X-前缀的废除"><a href="#协议中对X-前缀的废除" class="headerlink" title="协议中对X-前缀的废除"></a>协议中对X-前缀的废除</h2><p>在HTTP等多种协议中，通过给非标准参数加上前缀X-，来区别于标准参数，并使那些非标准参数作为扩展变成可能（如上面的响应首部）。但是这种简单粗暴的做法没有任何好处，因此被提议停止。然而对已经在使用中的X-前缀来说，不应该要求其变更。</p>
<h2 id="HTTP的缺点"><a href="#HTTP的缺点" class="headerlink" title="HTTP的缺点"></a>HTTP的缺点</h2><ul>
<li>通信使用明文（不加密），内容可能被窃听</li>
<li>不验证通信方的身份，因此有可能遭受伪装</li>
<li>无法证明报文的完整性，所以内容可能被篡改</li>
</ul>
<p>HTTP+ 加密 + 认证 + 完整性保护 =HTTPS </p>
<p>HTTPS 并非是应用层的一种新协议。只是 HTTP 通信接口部分用 SSL（Secure Socket Layer）和 TLS（Transport Layer Security）协议代 替而已。<br>通常，HTTP 直接和 TCP 通信。当使用 SSL 时，则演变成先和 SSL 通 信，再由 SSL 和 TCP 通信了。简言之，所谓 HTTPS，其实就是身披 SSL 协议这层外壳的 HTTP</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/5/7/16a92154eb3a0039?w=592&amp;h=298&amp;f=png&amp;s=49918" alt></p>
<p>在采用 SSL 后，HTTP 就拥有了 HTTPS 的加密、证书和完整性保护 这些功能。</p>
<p>SSL 是独立于 HTTP 的协议，所以不光是 HTTP 协议，其他运行在应 用层的 SMTP 和 Telnet 等协议均可配合 SSL 协议使用。可以说 SSL 是 当今世界上应用最为广泛的网络安全技术。</p>
<h2 id="加密"><a href="#加密" class="headerlink" title="加密"></a>加密</h2><p>加密和解密同用一个密钥的方式称为共享密钥加密（Common key crypto system），也被叫做对称密钥加密</p>
<p>共享密钥加密的困境</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/5/7/16a92158084c1816?w=638&amp;h=456&amp;f=jpeg&amp;s=32324" alt></p>
<p>以共享密钥方式加密时必须将密钥也发给对方。可究竟怎样才能 安全地转交？在互联网上转发密钥时，如果通信被监听那么密钥 就可会落入攻击者之手，同时也就失去了加密的意义。另外还得 设法安全地保管接收到的密钥。</p>
<p>公开密钥加密使用一对非对称的密钥。一把叫做私有密钥 （private key），另一把叫做公开密钥（public key）。顾名思 义，私有密钥不能让其他任何人知道，而公开密钥则可以随意发 布，任何人都可以获得。</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/5/7/16a9215bfd8e5a8a?w=797&amp;h=661&amp;f=jpeg&amp;s=57497" alt></p>
<h2 id="HTTPS-采用混合加密机制"><a href="#HTTPS-采用混合加密机制" class="headerlink" title="HTTPS 采用混合加密机制"></a>HTTPS 采用混合加密机制</h2><p>HTTPS 采用共享密钥加密和公开密钥加密两者并用的混合加密 机制。若密钥能够实现安全交换，那么有可能会考虑仅使用公开 密钥加密来通信。</p>
<p>但是公开密钥加密与共享密钥加密相比，其处 理速度要慢。<br>所以应充分利用两者各自的优势，将多种方法组合起来用于通 信。在交换密钥环节使用公开密钥加密方式，之后的建立通信交 换报文阶段则使用共享密钥加密方式。</p>
<h2 id="证明公开密钥正确性的证书"><a href="#证明公开密钥正确性的证书" class="headerlink" title="证明公开密钥正确性的证书"></a>证明公开密钥正确性的证书</h2><p>遗憾的是，公开密钥加密方式还是存在一些问题的。那就是无法证明 公开密钥本身就是货真价实的公开密钥。比如，正准备和某台服务器 建立公开密钥加密方式下的通信时，如何证明收到的公开密钥就是原 本预想的那台服务器发行的公开密钥。或许在公开密钥传输途中，真 正的公开密钥已经被攻击者替换掉了。</p>
<p>为了解决上述问题，可以使用由数字证书认证机构（CA，Certificate Authority）和其相关机关颁发的公开密钥证书</p>
<p>服务器会将这份由数字证书认证机构颁发的公钥证书发送给客户端，<br>以进行公开密钥加密方式通信。</p>
<p>公钥证书也可叫做数字证书或直接称 为证书。<br>接到证书的客户端可使用数字证书认证机构的公开密钥，对那张证书 上的数字签名进行验证，一旦验证通过，客户端便可明确两件事：</p>
<ul>
<li>认证服务器的公开密钥的是真实有效的数字证书认证机构。</li>
<li>服务器的公开密钥是值得信赖的。</li>
</ul>
<p>此处认证机关的公开密钥必须安全地转交给客户端。使用通信方式 时，如何安全转交是一件很困难的事，因此，多数浏览器开发商发布 版本时，会事先在内部植入常用认证机关的公开密钥。</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/5/7/16a921608e553499?w=774&amp;h=609&amp;f=jpeg&amp;s=85974" alt></p>
<h2 id="HTTPS-的通信步骤"><a href="#HTTPS-的通信步骤" class="headerlink" title="HTTPS 的通信步骤"></a>HTTPS 的通信步骤</h2><p><img src="https://user-gold-cdn.xitu.io/2019/5/7/16a9216530d26350?w=742&amp;h=894&amp;f=jpeg&amp;s=60050" alt></p>
<ul>
<li>步骤 1： 客户端通过发送 Client Hello 报文开始 SSL 通信。报文中包 含客户端支持的 SSL 的指定版本、加密组件（Cipher Suite）列表（所 使用的加密算法及密钥长度等）。</li>
<li>步骤 2： 服务器可进行 SSL 通信时，会以 Server Hello 报文作为应<br>答。和客户端一样，在报文中包含 SSL 版本以及加密组件。服务器的 加密组件内容是从接收到的客户端加密组件内筛选出来的。</li>
<li>步骤 3： 之后服务器发送 Certificate 报文。报文中包含公开密钥证 书。</li>
<li>步骤 4： 最后服务器发送 Server Hello Done 报文通知客户端，最初阶 段的 SSL 握手协商部分结束。 </li>
<li>步骤 5： SSL 第一次握手结束之后，客户端以 Client Key Exchange 报 文作为回应。报文中包含通信加密中使用的一种被称为 Pre-master secret 的随机密码串。该报文已用步骤 3 中的公开密钥进行加密。 </li>
<li>步骤 6： 接着客户端继续发送 Change Cipher Spec 报文。该报文会提 示服务器，在此报文之后的通信会采用 Pre-master secret 密钥加密。 </li>
<li>步骤 7： 客户端发送 Finished 报文。该报文包含连接至今全部报文的 整体校验值。这次握手协商是否能够成功，要以服务器是否能够正确 解密该报文作为判定标准。</li>
<li>步骤 8： 服务器同样发送 Change Cipher Spec 报文。 </li>
<li>步骤 9： 服务器同样发送 Finished 报文。 </li>
<li>步骤 10： 服务器和客户端的 Finished 报文交换完毕之后，SSL 连接 就算建立完成。当然，通信会受到 SSL 的保护。从此处开始进行应用 层协议的通信，即发送 HTTP 请求。 </li>
<li>步骤 11： 应用层协议通信，即发送 HTTP 响应。 </li>
<li>步骤 12： 最后由客户端断开连接。断开连接时，发送 close_notify 报 文。上图做了一些省略，这步之后再发送 TCP FIN 报文来关闭与 TCP 的通信。<br>在以上流程中，应用层发送数据时会附加一种叫做 MAC（Message Authentication Code）的报文摘要。MAC 能够查知报文是否遭到篡 改，从而保护报文的完整性。</li>
</ul>
<blockquote>
<p>SSL 和 TLS HTTPS 使用 SSL（Secure Socket Layer） 和 TLS（Transport Layer Security）这两个协议。 SSL 技术最初是由浏览器开发商网景通信公司率先倡导的，开发 过 SSL3.0 之前的版本。目前主导权已转移到 IETF（Internet Engineering Task Force，Internet 工程任务组）的手中。 IETF 以 SSL3.0 为基准，后又制定了 TLS1.0、TLS1.1 和 TLS1.2。TSL 是以 SSL 为原型开发的协议，有时会统一称该协议 为 SSL。当前主流的版本是 SSL3.0 和 TLS1.0。 由于 SSL1.0 协议在设计之初被发现出了问题，就没有实际投入 使用。SSL2.0 也被发现存在问题，所以很多浏览器直接废除了 该协议版本。</p>
</blockquote>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/05/22/DNS详解/" rel="next" title="DNS详解">
                <i class="fa fa-chevron-left"></i> DNS详解
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/05/22/java内存区域/" rel="prev" title="java内存区域">
                java内存区域 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/user.jpg" alt="lichukuan">
            
              <p class="site-author-name" itemprop="name">lichukuan</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">62</span>
                  <span class="site-state-item-name">博客</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">12</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP协议的简介"><span class="nav-number">1.</span> <span class="nav-text">HTTP协议的简介</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP协议的基础知识"><span class="nav-number">2.</span> <span class="nav-text">HTTP协议的基础知识</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#客户端和服务器端"><span class="nav-number">2.1.</span> <span class="nav-text">客户端和服务器端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#URI和URL"><span class="nav-number">2.2.</span> <span class="nav-text">URI和URL</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DNS"><span class="nav-number">2.3.</span> <span class="nav-text">DNS</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP的特点"><span class="nav-number">3.</span> <span class="nav-text">HTTP的特点</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP通过请求和响应来达成通信"><span class="nav-number">3.1.</span> <span class="nav-text">HTTP通过请求和响应来达成通信</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP-是无状态协议"><span class="nav-number">4.</span> <span class="nav-text">HTTP 是无状态协议</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP报文"><span class="nav-number">5.</span> <span class="nav-text">HTTP报文</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#报文的结构如图"><span class="nav-number">5.1.</span> <span class="nav-text">报文的结构如图</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP首部字段的结构"><span class="nav-number">5.2.</span> <span class="nav-text">HTTP首部字段的结构</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#实例分析"><span class="nav-number">6.</span> <span class="nav-text">实例分析</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#请求行和状态行"><span class="nav-number">6.1.</span> <span class="nav-text">请求行和状态行</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#请求的方法"><span class="nav-number">6.2.</span> <span class="nav-text">请求的方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#状态码"><span class="nav-number">6.3.</span> <span class="nav-text">状态码</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2XX"><span class="nav-number">6.3.1.</span> <span class="nav-text">2XX</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#200-ok"><span class="nav-number">6.3.1.1.</span> <span class="nav-text">200 ok</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#204-Not-Content"><span class="nav-number">6.3.1.2.</span> <span class="nav-text">204 Not Content</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#206-Partial-Content"><span class="nav-number">6.3.1.3.</span> <span class="nav-text">206 Partial Content</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3XX"><span class="nav-number">6.3.2.</span> <span class="nav-text">3XX</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#301-Moved-Permanently"><span class="nav-number">6.3.2.1.</span> <span class="nav-text">301 Moved Permanently</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#302-Found"><span class="nav-number">6.3.2.2.</span> <span class="nav-text">302 Found</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#303-See-Other"><span class="nav-number">6.3.2.3.</span> <span class="nav-text">303 See Other</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#304-Not-Modified"><span class="nav-number">6.3.2.4.</span> <span class="nav-text">304 Not Modified</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#307-Temporary-Redirect"><span class="nav-number">6.3.2.5.</span> <span class="nav-text">307 Temporary Redirect</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4XX"><span class="nav-number">6.3.3.</span> <span class="nav-text">4XX</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#400-Bad-Request"><span class="nav-number">6.3.3.1.</span> <span class="nav-text">400 Bad Request</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#401-Unauthorized"><span class="nav-number">6.3.3.2.</span> <span class="nav-text">401 Unauthorized</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#403-Forbidden"><span class="nav-number">6.3.3.3.</span> <span class="nav-text">403 Forbidden</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#404-Not-Found"><span class="nav-number">6.3.3.4.</span> <span class="nav-text">404 Not Found</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5XX"><span class="nav-number">6.3.4.</span> <span class="nav-text">5XX</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#500-Internal-Server-Error"><span class="nav-number">6.3.4.1.</span> <span class="nav-text">500 Internal Server Error</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#503-Service-Unavailable"><span class="nav-number">6.3.4.2.</span> <span class="nav-text">503 Service Unavailable</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP所有的首部字段"><span class="nav-number">6.4.</span> <span class="nav-text">HTTP所有的首部字段</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#端到端首部和逐跳首部"><span class="nav-number">6.5.</span> <span class="nav-text">端到端首部和逐跳首部</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#通用首部字段"><span class="nav-number">6.6.</span> <span class="nav-text">通用首部字段</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Cache-Control"><span class="nav-number">6.6.1.</span> <span class="nav-text">Cache-Control</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Connection"><span class="nav-number">6.6.2.</span> <span class="nav-text">Connection</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#控制不再转发给代理的首部字段"><span class="nav-number">6.6.2.1.</span> <span class="nav-text">控制不再转发给代理的首部字段</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#管理持久化连接"><span class="nav-number">6.6.2.2.</span> <span class="nav-text">管理持久化连接</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Via"><span class="nav-number">6.6.3.</span> <span class="nav-text">Via</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Date"><span class="nav-number">6.6.4.</span> <span class="nav-text">Date</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Pragma"><span class="nav-number">6.6.5.</span> <span class="nav-text">Pragma</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Trailer"><span class="nav-number">6.6.6.</span> <span class="nav-text">Trailer</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Transfer-Encoding"><span class="nav-number">6.6.7.</span> <span class="nav-text">Transfer-Encoding</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Upgrade"><span class="nav-number">6.6.8.</span> <span class="nav-text">Upgrade</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Warning"><span class="nav-number">6.6.9.</span> <span class="nav-text">Warning</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#请求首部字段"><span class="nav-number">6.7.</span> <span class="nav-text">请求首部字段</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Host"><span class="nav-number">6.7.1.</span> <span class="nav-text">Host</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#User-Agent"><span class="nav-number">6.7.2.</span> <span class="nav-text">User-Agent</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Accept"><span class="nav-number">6.7.3.</span> <span class="nav-text">Accept</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#媒体类型"><span class="nav-number">6.7.3.1.</span> <span class="nav-text">媒体类型</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#优先级"><span class="nav-number">6.7.3.2.</span> <span class="nav-text">优先级</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Accept-Charset"><span class="nav-number">6.7.4.</span> <span class="nav-text">Accept-Charset</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Accept-Encoding"><span class="nav-number">6.7.5.</span> <span class="nav-text">Accept-Encoding</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Accept-Language"><span class="nav-number">6.7.6.</span> <span class="nav-text">Accept-Language</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Authorization"><span class="nav-number">6.7.7.</span> <span class="nav-text">Authorization</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Expect"><span class="nav-number">6.7.8.</span> <span class="nav-text">Expect</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#From"><span class="nav-number">6.7.9.</span> <span class="nav-text">From</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#If-Match"><span class="nav-number">6.7.10.</span> <span class="nav-text">If-Match</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#If-Modified-Since"><span class="nav-number">6.7.11.</span> <span class="nav-text">If-Modified-Since</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#If-None-Match"><span class="nav-number">6.7.12.</span> <span class="nav-text">If-None-Match</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#If-Range"><span class="nav-number">6.7.13.</span> <span class="nav-text">If-Range</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#If-Unmodified-Since"><span class="nav-number">6.7.14.</span> <span class="nav-text">If-Unmodified-Since</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Range"><span class="nav-number">6.7.15.</span> <span class="nav-text">Range</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Referer"><span class="nav-number">6.7.16.</span> <span class="nav-text">Referer</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Upgrade-Insecure-Requests"><span class="nav-number">6.7.17.</span> <span class="nav-text">Upgrade-Insecure-Requests</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#TE"><span class="nav-number">6.7.18.</span> <span class="nav-text">TE</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Transfer-Encoding-TE-Content-Encoding-Accept-Encoding四个首部字段的区别"><span class="nav-number">6.8.</span> <span class="nav-text">Transfer-Encoding,TE,Content-Encoding,Accept-Encoding四个首部字段的区别</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#响应首部字段"><span class="nav-number">6.9.</span> <span class="nav-text">响应首部字段</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Accept-Ranges"><span class="nav-number">6.9.1.</span> <span class="nav-text">Accept-Ranges</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Age"><span class="nav-number">6.9.2.</span> <span class="nav-text">Age</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ETag"><span class="nav-number">6.9.3.</span> <span class="nav-text">ETag</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Location"><span class="nav-number">6.9.4.</span> <span class="nav-text">Location</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Proxy-Authenticate"><span class="nav-number">6.9.5.</span> <span class="nav-text">Proxy-Authenticate</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Retry-After"><span class="nav-number">6.9.6.</span> <span class="nav-text">Retry-After</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Server"><span class="nav-number">6.9.7.</span> <span class="nav-text">Server</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Vary"><span class="nav-number">6.9.8.</span> <span class="nav-text">Vary</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#WWW-Authenticate"><span class="nav-number">6.9.9.</span> <span class="nav-text">WWW-Authenticate</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#实体首部字段"><span class="nav-number">6.10.</span> <span class="nav-text">实体首部字段</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Allow"><span class="nav-number">6.10.1.</span> <span class="nav-text">Allow</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Content-Encoding"><span class="nav-number">6.10.2.</span> <span class="nav-text">Content-Encoding</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Content-Language"><span class="nav-number">6.10.3.</span> <span class="nav-text">Content-Language</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Content-Length"><span class="nav-number">6.10.4.</span> <span class="nav-text">Content-Length</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Content-Location"><span class="nav-number">6.10.5.</span> <span class="nav-text">Content-Location</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Content-MD5"><span class="nav-number">6.10.6.</span> <span class="nav-text">Content-MD5</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Content-Range"><span class="nav-number">6.10.7.</span> <span class="nav-text">Content-Range</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Content-Type"><span class="nav-number">6.10.8.</span> <span class="nav-text">Content-Type</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Expires"><span class="nav-number">6.10.9.</span> <span class="nav-text">Expires</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Last-Modified"><span class="nav-number">6.10.10.</span> <span class="nav-text">Last-Modified</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#为Cookie服务的首部字段"><span class="nav-number">6.11.</span> <span class="nav-text">为Cookie服务的首部字段</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Set-Cookie"><span class="nav-number">6.11.1.</span> <span class="nav-text">Set-Cookie</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Cookie"><span class="nav-number">6.11.2.</span> <span class="nav-text">Cookie</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#其他首部字段"><span class="nav-number">7.</span> <span class="nav-text">其他首部字段</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#X-Frame-Options"><span class="nav-number">7.1.</span> <span class="nav-text">X-Frame-Options</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#X-XSS-Protection"><span class="nav-number">7.2.</span> <span class="nav-text">X-XSS-Protection</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DNT"><span class="nav-number">7.3.</span> <span class="nav-text">DNT</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#P3P"><span class="nav-number">7.4.</span> <span class="nav-text">P3P</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#协议中对X-前缀的废除"><span class="nav-number">8.</span> <span class="nav-text">协议中对X-前缀的废除</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP的缺点"><span class="nav-number">9.</span> <span class="nav-text">HTTP的缺点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#加密"><span class="nav-number">10.</span> <span class="nav-text">加密</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTPS-采用混合加密机制"><span class="nav-number">11.</span> <span class="nav-text">HTTPS 采用混合加密机制</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#证明公开密钥正确性的证书"><span class="nav-number">12.</span> <span class="nav-text">证明公开密钥正确性的证书</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTPS-的通信步骤"><span class="nav-number">13.</span> <span class="nav-text">HTTPS 的通信步骤</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">lichukuan</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
