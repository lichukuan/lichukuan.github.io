<!DOCTYPE html>



  



<script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="我的个人博客">
<meta property="og:url" content="http://yoursite.com/page/3/index.html">
<meta property="og:site_name" content="我的个人博客">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="我的个人博客">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/3/">





  <title>我的个人博客</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">我的个人博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">哪有什么胜利可言，挺着就代表着一切</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/03/vscode的快捷键/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lichukuan">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/user.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/03/vscode的快捷键/" itemprop="url">vscode的快捷键</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-03T17:35:34+08:00">
                2019-04-03
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/工具的使用/" itemprop="url" rel="index">
                    <span itemprop="name">工具的使用</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>转载<a href="https://lzw.me/a/vscode-visual-studio-code-shortcut.html#" target="_blank" rel="noopener">vscode: Visual Studio Code 常用快捷键</a></p>
<h2 id="主命令框"><a href="#主命令框" class="headerlink" title="主命令框"></a>主命令框</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">F1 或 Ctrl+Shift+P : 打开命令面板。在打开的输入框内，可以输入任何命令，例如：</span><br><span class="line">按一下 Backspace 会进入到 Ctrl+P 模式</span><br><span class="line">在 Ctrl+P 下输入 &gt; 可以进入 Ctrl+Shift+P 模式</span><br><span class="line">在 Ctrl+P 窗口下还可以:</span><br><span class="line">-直接输入文件名，跳转到文件</span><br><span class="line"></span><br><span class="line">? 列出当前可执行的动作</span><br><span class="line">! 显示 Errors或 Warnings，也可以 Ctrl+Shift+M</span><br><span class="line">: 跳转到行数，也可以 Ctrl+G 直接进入</span><br><span class="line">@ 跳转到 symbol（搜索变量或者函数），也可以 Ctrl+Shift+O 直接进入</span><br><span class="line">@ 根据分类跳转 symbol，查找属性或函数，也可以 Ctrl+Shift+O 后输入:进入</span><br></pre></td></tr></table></figure>
<h2 id="根据名字查找-symbol，也可以-Ctrl-T"><a href="#根据名字查找-symbol，也可以-Ctrl-T" class="headerlink" title="根据名字查找 symbol，也可以 Ctrl+T"></a>根据名字查找 symbol，也可以 Ctrl+T</h2><h2 id="编辑器与窗口管理"><a href="#编辑器与窗口管理" class="headerlink" title="编辑器与窗口管理"></a>编辑器与窗口管理</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">打开一个新窗口： Ctrl+Shift+N</span><br><span class="line">关闭窗口： Ctrl+Shift+W</span><br><span class="line">同时打开多个编辑器（查看多个文件）</span><br><span class="line">新建文件 Ctrl+N</span><br><span class="line">文件之间切换 Ctrl+Tab</span><br><span class="line">切出一个新的编辑器（最多 <span class="number">3</span> 个） Ctrl+\，也可以按住 Ctrl 鼠标点击 Explorer 里的文件名</span><br><span class="line">左中右 <span class="number">3</span> 个编辑器的快捷键 Ctrl+<span class="number">1</span> Ctrl+<span class="number">2</span> Ctrl+<span class="number">3</span></span><br><span class="line"><span class="number">3</span> 个编辑器之间循环切换 Ctrl+</span><br><span class="line">编辑器换位置， Ctrl+k然后按 Left或 Right</span><br></pre></td></tr></table></figure>
<h2 id="代码编辑"><a href="#代码编辑" class="headerlink" title="代码编辑"></a>代码编辑</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">代码行缩进: Ctrl+[ 、 Ctrl+]</span><br><span class="line">Ctrl+C 、 Ctrl+V 复制或剪切当前行/当前选中内容</span><br><span class="line">代码格式化： Shift+Alt+F，或 Ctrl+Shift+P 后输入 format code</span><br><span class="line">上下移动一行： Alt+Up 或 Alt+Down</span><br><span class="line">向上向下复制一行： Shift+Alt+Up 或 Shift+Alt+Down</span><br><span class="line">在当前行下边插入一行: Ctrl+Enter</span><br><span class="line">在当前行上方插入一行 Ctrl+Shift+Enter</span><br></pre></td></tr></table></figure>
<h2 id="光标相关"><a href="#光标相关" class="headerlink" title="光标相关"></a>光标相关</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">移动到行首： Home</span><br><span class="line">移动到行尾： End</span><br><span class="line">移动到文件结尾： Ctrl+End</span><br><span class="line">移动到文件开头： Ctrl+Home</span><br><span class="line">移动到定义处： F12</span><br><span class="line">定义处缩略图：只看一眼而不跳转过去 Alt+F12</span><br><span class="line">移动到后半个括号： Ctrl+Shift+]</span><br><span class="line">选择从光标到行尾： Shift+End</span><br><span class="line">选择从行首到光标处： Shift+Home</span><br><span class="line">删除光标右侧的所有字： Ctrl+Delete</span><br><span class="line">扩展/缩小选取范围： Shift+Alt+Left 和 Shift+Alt+Right</span><br><span class="line">多行编辑(列编辑)：Alt+Shift+鼠标左键， Ctrl+Alt+Down/Up</span><br><span class="line">同时选中所有匹配： Ctrl+Shift+L</span><br><span class="line">Ctrl+D 下一个匹配的也被选中 (在 sublime 中是删除当前行，后面自定义快键键中，设置与 Ctrl+Shift+K 互换了)</span><br><span class="line">回退上一个光标操作： Ctrl+U</span><br><span class="line">选中所有匹配词批量编辑：鼠标高亮选中需要查找的词，按下 Ctrl + Shift + L键，即可快速选中当前文件中所有匹配的词，并在每一个词后面有一个编辑光标，可批量同步编辑</span><br></pre></td></tr></table></figure>
<h2 id="重构代码"><a href="#重构代码" class="headerlink" title="重构代码"></a>重构代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">找到所有的引用： Shift+F12</span><br><span class="line">同时修改本文件中所有匹配的： Ctrl+F12</span><br><span class="line">重命名：比如要修改一个方法名，可以选中后按 F2，输入新名字，回车，则所有该方法的引用也都同步更新了</span><br><span class="line">跳转到下一个 Error 或 Warning：当有多个错误时可以按 F8 逐个跳转</span><br><span class="line">查看 diff： 在 explorer 里选择文件右键 Set file tocompare，然后需要对比的文件上右键选择 Compare with file_name_you_chose</span><br><span class="line">查找替换</span><br><span class="line">查找 Ctrl+F</span><br><span class="line">查找替换 Ctrl+H</span><br><span class="line">整个文件夹中查找 Ctrl+Shift+F</span><br></pre></td></tr></table></figure>
<h2 id="显示相关"><a href="#显示相关" class="headerlink" title="显示相关"></a>显示相关</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">全屏：F11</span><br><span class="line">zoomIn/zoomOut：Ctrl +/-</span><br><span class="line">侧边栏显/隐： Ctrl+B</span><br><span class="line">显示资源管理器 Ctrl+Shift+E</span><br><span class="line">显示搜索 Ctrl+Shift+F</span><br><span class="line">显示 Git Ctrl+Shift+G</span><br><span class="line">显示 Debug Ctrl+Shift+D</span><br><span class="line">显示 Output Ctrl+Shift+U</span><br></pre></td></tr></table></figure>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">自动保存：File -&gt; AutoSave，或者 Ctrl+Shift+P，输入 auto</span><br><span class="line">修改默认快捷键</span><br><span class="line">打开默认键盘快捷方式设置：File -&gt; Preferences -&gt; Keyboard Shortcuts，或者：Alt+F -&gt; p -&gt; k</span><br></pre></td></tr></table></figure>
<h2 id="修改-keybindings-json："><a href="#修改-keybindings-json：" class="headerlink" title="修改 keybindings.json："></a>修改 keybindings.json：</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">// Place your key bindings in this file to overwrite the defaults</span><br><span class="line">[</span><br><span class="line">    // ctrl+space 被切换输入法快捷键占用</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"key"</span>: <span class="string">"ctrl+alt+space"</span>,</span><br><span class="line">        <span class="attr">"command"</span>: <span class="string">"editor.action.triggerSuggest"</span>,</span><br><span class="line">        <span class="attr">"when"</span>: <span class="string">"editorTextFocus"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    // ctrl+d 删除一行</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"key"</span>: <span class="string">"ctrl+d"</span>,</span><br><span class="line">        <span class="attr">"command"</span>: <span class="string">"editor.action.deleteLines"</span>,</span><br><span class="line">        <span class="attr">"when"</span>: <span class="string">"editorTextFocus"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    // 与删除一行的快捷键互换</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"key"</span>: <span class="string">"ctrl+shift+k"</span>,</span><br><span class="line">        <span class="attr">"command"</span>: <span class="string">"editor.action.addSelectionToNextFindMatch"</span>,</span><br><span class="line">        <span class="attr">"when"</span>: <span class="string">"editorFocus"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    // ctrl+shift+/多行注释</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"key"</span>:<span class="string">"ctrl+shift+/"</span>,</span><br><span class="line">        <span class="attr">"command"</span>: <span class="string">"editor.action.blockComment"</span>,</span><br><span class="line">        <span class="attr">"when"</span>: <span class="string">"editorTextFocus"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    // 定制与 sublime 相同的大小写转换快捷键</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"key"</span>: <span class="string">"ctrl+k ctrl+u"</span>,</span><br><span class="line">        <span class="attr">"command"</span>: <span class="string">"editor.action.transformToUppercase"</span>,</span><br><span class="line">        <span class="attr">"when"</span>: <span class="string">"editorTextFocus"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"key"</span>: <span class="string">"ctrl+k ctrl+l"</span>,</span><br><span class="line">        <span class="attr">"command"</span>: <span class="string">"editor.action.transformToLowercase"</span>,</span><br><span class="line">        <span class="attr">"when"</span>: <span class="string">"editorTextFocus"</span></span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h2 id="前端开发必备插件"><a href="#前端开发必备插件" class="headerlink" title="前端开发必备插件"></a>前端开发必备插件</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">PostCSS Sorting</span><br><span class="line">stylelint</span><br><span class="line">stylefmt</span><br><span class="line">ESLint</span><br><span class="line">javascript standard format</span><br><span class="line">beautify</span><br><span class="line">Babel ES6/ES7</span><br><span class="line">Debugger <span class="keyword">for</span> Chrome</span><br><span class="line">Add jsdoc comments</span><br><span class="line">javascript(ES6) code snippets</span><br><span class="line">vue</span><br><span class="line">weex</span><br><span class="line">Reactjs code snippets</span><br><span class="line">React Native Tools</span><br><span class="line">Npm Intellisense</span><br><span class="line">Instant Markdown</span><br><span class="line">Markdown Shortcuts</span><br><span class="line">TextTransform</span><br><span class="line">使用等宽字体：</span><br><span class="line">Fira Code</span><br></pre></td></tr></table></figure>
<h2 id="vscode-自定义配置参考："><a href="#vscode-自定义配置参考：" class="headerlink" title="vscode 自定义配置参考："></a>vscode 自定义配置参考：</h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"editor.fontSize"</span>: <span class="number">16</span>,</span><br><span class="line">    <span class="attr">"editor.tabSize"</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="attr">"editor.fontLigatures"</span>: <span class="literal">true</span>,</span><br><span class="line">        // 使用等宽字体 Fira Code</span><br><span class="line">    "editor.fontFamily": "Fira Code, 'Noto Sans CJK SC Medium', Consolas, 'Courier New', monospace",</span><br><span class="line">        // 关闭右侧的 minimap</span><br><span class="line">    "editor.minimap.enabled": false,</span><br><span class="line">    "editor.minimap.renderCharacters": false,</span><br><span class="line">    "files.associations": &#123;</span><br><span class="line">        "*.es": "javascript",</span><br><span class="line">        "*.es6": "javascript"</span><br><span class="line">    &#125;,</span><br><span class="line">    // 控制编辑器是否应呈现空白字符</span><br><span class="line">    "editor.renderWhitespace": "all",</span><br><span class="line">    // 启用后，将在保存文件时剪裁尾随空格。</span><br><span class="line">    "files.trimTrailingWhitespace": true,</span><br><span class="line">    // File extensions that can be beautified as javascript or JSON.</span><br><span class="line">    "beautify.JSfiles": [</span><br><span class="line">        "",</span><br><span class="line">        "es",</span><br><span class="line">        "es6",</span><br><span class="line">        "js",</span><br><span class="line">        "json",</span><br><span class="line">        "jsbeautifyrc",</span><br><span class="line">        <span class="string">"jshintrc"</span></span><br><span class="line">    ],</span><br><span class="line">    // 关闭 git 自动刷新、fetch、add 操作</span><br><span class="line">    "git.enableSmartCommit": false,</span><br><span class="line">    "git.enabled": true,</span><br><span class="line">    "git.autorefresh": false,</span><br><span class="line">    "git.autofetch": false,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>更多参考官方快捷键大全：<a href="https://code.visualstudio.com/docs/customization/keybindings" target="_blank" rel="noopener">https://code.visualstudio.com/docs/customization/keybindings</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/02/java流库/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lichukuan">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/user.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/02/java流库/" itemprop="url">java流库</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-02T20:22:30+08:00">
                2019-04-02
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="流与集合的差异"><a href="#流与集合的差异" class="headerlink" title="流与集合的差异"></a>流与集合的差异</h2><ul>
<li>流并不储存其元素，这些元素可能存储于底层的集合中，或者按需生成的</li>
<li>流的操作不会修改数据源</li>
<li>流的操作是尽可能惰性的，这意味着直至需要其结果时，操作才进行。</li>
</ul>
<h2 id="流的创建"><a href="#流的创建" class="headerlink" title="流的创建"></a>流的创建</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        list.add(<span class="string">"123"</span>);</span><br><span class="line">        list.add(<span class="string">"456"</span>);</span><br><span class="line">        list.add(<span class="string">"789"</span>);</span><br><span class="line"></span><br><span class="line">        Stream&lt;String&gt; stream = list.stream();<span class="comment">//通过集合创建流</span></span><br><span class="line"></span><br><span class="line">        Stream&lt;String&gt; stream1 =  Stream.of(<span class="keyword">new</span> String[]&#123;<span class="string">"123"</span>,<span class="string">"456"</span>,<span class="string">"789"</span>&#125;);<span class="comment">//通过数组创建流</span></span><br><span class="line"></span><br><span class="line">        Stream&lt;String&gt; stream2 =  Stream.of(<span class="string">"123"</span>,<span class="string">"456"</span>,<span class="string">"789"</span>);<span class="comment">//通过具体数据创建流</span></span><br><span class="line"></span><br><span class="line">        Stream&lt;Double&gt; stream3 = Stream.generate(Math::random); <span class="comment">//创建无限流，上面的都是有限流</span></span><br><span class="line"></span><br><span class="line">        Stream&lt;Integer&gt; stream4 = Stream.iterate(<span class="number">0</span>, integer -&gt; ++integer);<span class="comment">//创建无限序列</span></span><br><span class="line"></span><br><span class="line">        Stream&lt;String&gt; stream5 = Stream.empty();<span class="comment">//产生空的流</span></span><br><span class="line"></span><br><span class="line">        String[] strings = <span class="keyword">new</span> String[]&#123;<span class="string">"123"</span>,<span class="string">"456"</span>,<span class="string">"789"</span>&#125;;<span class="comment">//使用Arrays创建流</span></span><br><span class="line">        Stream stream6 = Arrays.stream(strings);</span><br></pre></td></tr></table></figure>
<h2 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h2><p><code>filter</code>方法产生一个流，其中包含当前流中满足指定条件的所有元素</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        list.add(<span class="string">"12345"</span>);</span><br><span class="line">        list.add(<span class="string">"123"</span>);</span><br><span class="line">        list.add(<span class="string">"6789"</span>);</span><br><span class="line">        Stream filterTest = list.stream().filter(p-&gt;p.length() &gt;= <span class="number">4</span>);<span class="comment">//获取长度大于等于4的字符串的流</span></span><br><span class="line">        filterTest.forEach(System.out::println);</span><br><span class="line"></span><br><span class="line">输出结果：</span><br><span class="line"></span><br><span class="line"><span class="number">12345</span></span><br><span class="line"><span class="number">6789</span></span><br></pre></td></tr></table></figure>
<h2 id="map"><a href="#map" class="headerlink" title="map"></a>map</h2><p>将目标流转化为指定流。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        list.add(<span class="string">"12345"</span>);</span><br><span class="line">        list.add(<span class="string">"123"</span>);</span><br><span class="line">        list.add(<span class="string">"6789"</span>);</span><br><span class="line">        Stream mapTest = list.stream().map(String::length);</span><br><span class="line">        mapTest.forEach(System.out::println);</span><br><span class="line"></span><br><span class="line">等同于</span><br><span class="line"></span><br><span class="line">List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        list.add(<span class="string">"12345"</span>);</span><br><span class="line">        list.add(<span class="string">"123"</span>);</span><br><span class="line">        list.add(<span class="string">"6789"</span>);</span><br><span class="line">        Stream mapTest = list.stream().map(<span class="keyword">new</span> Function&lt;String, Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> Integer <span class="title">apply</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> s.length();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        mapTest.forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<h2 id="flatMap"><a href="#flatMap" class="headerlink" title="flatMap"></a>flatMap</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;R&gt; <span class="function">Stream&lt;R&gt; <span class="title">flatMap</span><span class="params">(Function&lt;? <span class="keyword">super</span> T, ? extends Stream&lt;? extends R&gt;&gt; mapper)</span></span>;</span><br><span class="line">&lt;R&gt; <span class="function">Stream&lt;R&gt; <span class="title">map</span><span class="params">(Function&lt;? <span class="keyword">super</span> T, ? extends R&gt; mapper)</span></span>;</span><br></pre></td></tr></table></figure>
<p><code>flatMap</code>与<code>map</code>的区别：</p>
<p><code>map</code>是将<code>mapper</code>应用于当前流中所有的元素产生的结果，而<code>flatMap</code>是通过将<code>mapper</code>应用于当前流<br>中所有元素产生的结果连接在一起而获得。</p>
<h2 id="limit、skip和concat"><a href="#limit、skip和concat" class="headerlink" title="limit、skip和concat"></a>limit、skip和concat</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        list.add(<span class="string">"12345"</span>);</span><br><span class="line">        list.add(<span class="string">"123"</span>);</span><br><span class="line">        list.add(<span class="string">"6789"</span>);</span><br><span class="line">        list.stream().limit(<span class="number">2</span>).forEach(System.out::println);<span class="comment">//limit只保留前面指定元素个数</span></span><br><span class="line">        list.stream().skip(<span class="number">1</span>).forEach(System.out::println);<span class="comment">//skip跳过前面指定元素个数</span></span><br><span class="line">        System.out.println(<span class="string">"==============="</span>);</span><br><span class="line">        <span class="comment">//concat连接两个流(a,b)，它产生的流是a元素后面跟着b元素，注意：第一个流不能是无限流，比如第二个元素永远不能得到处理的机会</span></span><br><span class="line">        Stream.concat(list.stream(),list.stream()).forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<h2 id="流转换"><a href="#流转换" class="headerlink" title="流转换"></a>流转换</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Stream&lt;T&gt; <span class="title">distinct</span><span class="params">()</span> <span class="comment">//产生一个流，包含原来流中所有不同的元素</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">Stream&lt;T&gt; <span class="title">sorted</span><span class="params">()</span><span class="comment">//排序流，要求流中元素都实现 Comparable 接口</span></span></span><br><span class="line"><span class="function">Stream&lt;T&gt; <span class="title">sorted</span><span class="params">(Comparator&lt;? <span class="keyword">super</span> T&gt; comparator)</span><span class="comment">//排序流</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">//peek方法会产生另一个流，它的元素与原来流中相同，但是在每一次获取一个元素时</span></span></span><br><span class="line"><span class="function"><span class="comment">//都会调用action中的方法，这对于调试很方便</span></span></span><br><span class="line"><span class="function">Stream&lt;T&gt; <span class="title">peek</span><span class="params">(Consumer&lt;? <span class="keyword">super</span> T&gt; action)</span></span></span><br></pre></td></tr></table></figure>
<h2 id="流操作"><a href="#流操作" class="headerlink" title="流操作"></a>流操作</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        list.add(<span class="string">"12345"</span>);</span><br><span class="line">        list.add(<span class="string">"123"</span>);</span><br><span class="line">        list.add(<span class="string">"6789"</span>);</span><br><span class="line"></span><br><span class="line">        Optional&lt;String&gt; v =  list.stream().max(Comparator.comparingInt(String::length));</span><br><span class="line">        Optional&lt;String&gt; v1 =  list.stream().min(Comparator.comparingInt(String::length));</span><br><span class="line">        Optional&lt;String&gt; v2 =  list.stream().findFirst();</span><br><span class="line">        Optional&lt;String&gt; v3 =  list.stream().findAny();</span><br><span class="line">        <span class="keyword">boolean</span> v4 =  list.stream().anyMatch(t-&gt;t.length()&gt;<span class="number">3</span>);<span class="comment">//是否有任意个匹配</span></span><br><span class="line">        <span class="keyword">boolean</span> v5 = list.stream().noneMatch(t-&gt;t.length()&gt;<span class="number">3</span>);<span class="comment">//是否没有一个匹配</span></span><br><span class="line">        <span class="keyword">boolean</span> v6 = list.stream().allMatch(t-&gt;t.length()&gt;<span class="number">3</span>);<span class="comment">//是否都匹配</span></span><br><span class="line">        System.out.println(v.get());</span><br><span class="line">        System.out.println(v1.get());</span><br><span class="line">        System.out.println(v2.get());</span><br><span class="line">        System.out.println(v3.get());</span><br><span class="line">        System.out.println(v4);</span><br><span class="line">        System.out.println(v5);</span><br><span class="line">        System.out.println(v6);</span><br><span class="line"></span><br><span class="line">结果为：</span><br><span class="line"></span><br><span class="line"><span class="number">12345</span></span><br><span class="line"><span class="number">123</span></span><br><span class="line"><span class="number">12345</span></span><br><span class="line"><span class="number">12345</span></span><br><span class="line"><span class="keyword">true</span></span><br><span class="line"><span class="keyword">false</span></span><br><span class="line"><span class="keyword">false</span></span><br></pre></td></tr></table></figure>
<h2 id="Optional"><a href="#Optional" class="headerlink" title="Optional"></a>Optional</h2><p>创建<code>Optional</code>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//of 方法产生具有给定值的Optional</span></span><br><span class="line">Optional&lt;String&gt; value = Optional.of(<span class="string">"123"</span>);</span><br><span class="line"><span class="comment">//产生一个空的Optional,不能使用 get 方法，否则会保错</span></span><br><span class="line">Optional&lt;String&gt; value1 = Optional.empty();</span><br><span class="line"><span class="comment">//如果给定的值为null,则产生一个空的Optional,否则产生具有给定值的Optional</span></span><br><span class="line">Optional&lt;String&gt; value2 = Optional.ofNullable(<span class="keyword">null</span>);</span><br></pre></td></tr></table></figure>
<p>常用方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Optional&lt;String&gt; value = Optional.empty();</span><br><span class="line">String result = value.orElse(<span class="string">""</span>);<span class="comment">//如果Optional的给定值为null,则会返回默认值 ""</span></span><br><span class="line">String result1 = value.orElseGet(()-&gt;<span class="string">""</span>);<span class="comment">//如果Optional的给定值为null,则会调用指定方法返回值</span></span><br><span class="line">String result2 =value.orElseThrow(IllegalStateException::<span class="keyword">new</span>);<span class="comment">//如果Optional的给定值为null,则会抛出错误</span></span><br><span class="line">value.ifPresent(System.out::println);<span class="comment">//只有Optional的值不为null时，才执行指定方法</span></span><br><span class="line"></span><br><span class="line">Optional&lt;String&gt; value = Optional.of(<span class="string">"12345"</span>);</span><br><span class="line"><span class="comment">//Optional的 map 和流的 map 方法差不多，它可以转换Optional的类型，例如下面从 Optional&lt;String&gt; 转换为 Optional&lt;Integer&gt;</span></span><br><span class="line"><span class="comment">//注意：如果上面的 value 为空的Optional，或者 value.map(v-&gt;null) ,则会返回空的Optional(即Optional.empty())</span></span><br><span class="line">Optional&lt;Integer&gt; optional = value.map(String::length);</span><br><span class="line">System.out.println(optional);</span><br><span class="line"></span><br><span class="line"><span class="comment">//和map差不多</span></span><br><span class="line"> Optional&lt;String&gt; value = Optional.of(<span class="string">"12345"</span>);</span><br><span class="line"> Optional&lt;Integer&gt; integer = value.flatMap(s-&gt;Optional.of(s.length()));</span><br></pre></td></tr></table></figure>
<h2 id="流转换为集合"><a href="#流转换为集合" class="headerlink" title="流转换为集合"></a>流转换为集合</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">//流转化为数组</span></span><br><span class="line">    String[] array = (String[]) stream.toArray();</span><br><span class="line">    String[] arrays = stream.toArray(String[]::<span class="keyword">new</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//流转化为指定的集合</span></span><br><span class="line">    List&lt;String&gt; list1 = stream.collect(Collectors.toList());</span><br><span class="line">    Set&lt;String&gt; set = stream.collect(Collectors.toSet());</span><br><span class="line">    ArrayList&lt;String&gt; arrayList = stream.collect(Collectors.toCollection(ArrayList::<span class="keyword">new</span>));</span><br><span class="line">    <span class="comment">//映射表</span></span><br><span class="line">    Map&lt;Integer,String&gt; map = stream.collect(Collections.toMap(Person::getId,Person::getName))</span><br><span class="line">    Map&lt;Integer,Person&gt; map = stream.collect(Collections.toMap(Person::getId,Function.identity()))</span><br><span class="line">    <span class="comment">//第三个参数用来处理键发生冲突的情况，默认是抛出异常</span></span><br><span class="line">    Map&lt;Integer,String&gt; map = stream.collect(Collections.toMap(Person::getId,Person::getName,(existValue,newValue)-&gt;existValue))</span><br><span class="line">    <span class="comment">//转化为指定的 Map</span></span><br><span class="line">    Map&lt;Integer,String&gt; map = stream.collect(Collections.toMap(Person::getId,Person::getName),TreeMap::<span class="keyword">new</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//连接流中的元素，可以指定分隔符</span></span><br><span class="line">    String result = stream.collect(Collectors.joining());</span><br><span class="line">    String result1 = stream.collect(Collectors.joining(<span class="string">","</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//有(Double|Long|Int)三种，下面只列举了Int，其他类似</span></span><br><span class="line">    IntSummaryStatistics summaryStatistics = stream.collect(Collectors.summarizingInt(String::length));</span><br><span class="line">    <span class="keyword">double</span> average = summaryStatistics.getAverage();<span class="comment">//平均值</span></span><br><span class="line">    <span class="keyword">double</span> maxWordLength = summaryStatistics.getMax();<span class="comment">//最大值</span></span><br><span class="line">    <span class="keyword">long</span> sum = summaryStatistics.getSum();<span class="comment">//总和</span></span><br><span class="line">    <span class="keyword">long</span> count = summaryStatistics.getCount();<span class="comment">//元素个数</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//通过群组和分区来指定映射表</span></span><br><span class="line">    List&lt;Student&gt; students = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    Student student1=<span class="keyword">new</span> Student(<span class="number">1</span>,<span class="string">"小明"</span>);</span><br><span class="line">    Student student2=<span class="keyword">new</span> Student(<span class="number">2</span>,<span class="string">"小军"</span>);</span><br><span class="line">    Student student3=<span class="keyword">new</span> Student(<span class="number">1</span>,<span class="string">"小红"</span>);</span><br><span class="line">    Student student4=<span class="keyword">new</span> Student(<span class="number">1</span>,<span class="string">"小键"</span>);</span><br><span class="line">    students.add(student1);</span><br><span class="line">    students.add(student2);</span><br><span class="line">    students.add(student3);</span><br><span class="line">    students.add(student4);</span><br><span class="line">    <span class="comment">//通过班级的名字来分组</span></span><br><span class="line">    Map&lt;Integer,List&lt;Student&gt;&gt; cl=students.stream().collect(Collectors.groupingBy(Student::getClassName));</span><br><span class="line">    <span class="comment">//通过判断班级名是否为2来分组</span></span><br><span class="line">    Map&lt;Boolean,List&lt;Student&gt;&gt; cl1=students.stream().collect(Collectors.partitioningBy(l-&gt;l.getClassName()==<span class="number">2</span>));</span><br><span class="line"></span><br><span class="line">    List&lt;Teacher&gt; teachers = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    Teacher teacher1=<span class="keyword">new</span> Teacher(<span class="string">"北京"</span>,<span class="string">"小明"</span>,<span class="number">26</span>);</span><br><span class="line">    Teacher teacher2=<span class="keyword">new</span> Teacher(<span class="string">"重庆"</span>,<span class="string">"小军"</span>,<span class="number">30</span>);</span><br><span class="line">    Teacher teacher3=<span class="keyword">new</span> Teacher(<span class="string">"上海"</span>,<span class="string">"小红"</span>,<span class="number">26</span>);</span><br><span class="line">    Teacher teacher4=<span class="keyword">new</span> Teacher(<span class="string">"北京"</span>,<span class="string">"小键"</span>,<span class="number">34</span>);</span><br><span class="line">    teachers.add(teacher1);</span><br><span class="line">    teachers.add(teacher2);</span><br><span class="line">    teachers.add(teacher3);</span><br><span class="line">    teachers.add(teacher4);</span><br><span class="line">    <span class="comment">//通过工作地点把教师分组后，使用 Collectors.counting() 方法计算每组的人数</span></span><br><span class="line">    <span class="comment">//和 Collectors.counting() 类似的对分好组的集合进行操作的方法有:</span></span><br><span class="line">    <span class="comment">//summingInt/Long/Double 通过传递一个 返回值为 int/long/double 的函数来对已经分好组的集合进行操作，并求其和</span></span><br><span class="line">    <span class="comment">//maxBy和minBy 获取分好组集合中的最大值或最小值</span></span><br><span class="line">    Map&lt;String,Long&gt; c=teachers.stream().collect(Collectors.groupingBy(Teacher::getWorkplace,Collectors.counting()));</span><br><span class="line">    <span class="comment">//通过工作地点把教师分组后，通过 Collectors.mapping() 方法对已经分好组的集合使用 getAge()方法获取这个集合中各个老师的年龄</span></span><br><span class="line">    <span class="comment">//并放在一个新的集合中</span></span><br><span class="line">   Map&lt;String,Set&lt;Integer&gt;&gt; c =</span><br><span class="line">   teachers.stream().collect(Collectors.groupingBy(Teacher::getWorkplace,Collectors.mapping(Teacher::getAge,Collectors.toSet())));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="基本类型流"><a href="#基本类型流" class="headerlink" title="基本类型流"></a>基本类型流</h2><p><code>IntStream</code>:可以存储<code>short</code>、<code>char</code>、<code>byte</code>和<code>boolean</code><br><code>DoubleStream</code>:存储<code>float</code>和<code>double</code><br><code>LongStream</code>:存储<code>long</code></p>
<p>基本类型流的方法和上面介绍的方法类似，下面介绍基本类型流的特有方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//独有构造方法</span></span><br><span class="line"><span class="comment">//range()、rangeClosed(),IntStream和LongStream独有</span></span><br><span class="line">IntStream t=IntStream.range(<span class="number">0</span>,<span class="number">10</span>);<span class="comment">//范围 [0,10)</span></span><br><span class="line">IntStream t1=IntStream.rangeClosed(<span class="number">0</span>,<span class="number">10</span>);<span class="comment">//[0,10]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//codePonts chars 生成由字符的Unicode码或由UTF-16编码机制的码元构成的IntStream,这两个方法的区别暂时还不清楚</span></span><br><span class="line">String s = <span class="string">"gkdl;iofk;slaksdk,sdki\uD835"</span>;</span><br><span class="line">IntStream i1 = s.chars();</span><br><span class="line">IntStream i2 = s.codePoints();</span><br><span class="line"></span><br><span class="line"><span class="comment">//mapToInt mapToLong mapToDouble</span></span><br><span class="line">IntStream stream = teachers.stream().mapToInt(Teacher::getAge);</span><br><span class="line"></span><br><span class="line"><span class="comment">//将基本类型流转化为对象流</span></span><br><span class="line">Stream&lt;Integer&gt; t=IntStream.range(<span class="number">0</span>,<span class="number">10</span>).boxed();</span><br><span class="line"></span><br><span class="line"><span class="comment">//这里的OptionalInt和Optional类似</span></span><br><span class="line">OptionalInt o1= t.max();<span class="comment">//最大值</span></span><br><span class="line">OptionalInt o2=t.min();<span class="comment">//最小值</span></span><br><span class="line">OptionalDouble o3=t.average();<span class="comment">//平均值</span></span><br><span class="line"><span class="keyword">int</span> sum = t.sum();<span class="comment">//总和</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//返回由随机数构成的基本类型</span></span><br><span class="line">Random random = <span class="keyword">new</span> Random();</span><br><span class="line">IntStream r1 = random.ints();</span><br><span class="line">DoubleStream r2 = random.doubles();</span><br><span class="line">LongStream r3 = random.longs();</span><br></pre></td></tr></table></figure>
<h2 id="并行流"><a href="#并行流" class="headerlink" title="并行流"></a>并行流</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建并行流</span></span><br><span class="line">Collection.parallelStream()<span class="comment">//集合转为并行流</span></span><br><span class="line"></span><br><span class="line">Stream.parallel()<span class="comment">//流转为并行流</span></span><br></pre></td></tr></table></figure>
<p>并行流正常工作的条件</p>
<ul>
<li>数据应该在内存中，等待数据到达是低效的</li>
<li>流一个分为高效的几部分，由数组或平衡二叉树支撑的流都可以正常工作，但是<code>Stream.iterate</code>不行</li>
<li>流操作的工作量应该有很大的规模，不然使用并行流没有意义</li>
<li>流操作不应该被堵塞</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/02/java图片处理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lichukuan">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/user.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/02/java图片处理/" itemprop="url">java图片处理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-02T19:32:46+08:00">
                2019-04-02
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>转载<a href="https://juejin.im/entry/5b205d49f265da6e3e37ed79" target="_blank" rel="noopener">Thumbnailator轻松搞定图片缩放、旋转、加水印</a></p>
<p><a href="https://github.com/coobird/thumbnailator" target="_blank" rel="noopener">Thumbnailator的GitHub地址</a></p>
<h2 id="Maven依赖"><a href="#Maven依赖" class="headerlink" title="Maven依赖"></a>Maven依赖</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>net.coobird<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>thumbnailator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.4.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="Gradle依赖"><a href="#Gradle依赖" class="headerlink" title="Gradle依赖"></a>Gradle依赖</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">implementation group: &apos;net.coobird&apos;, name: &apos;thumbnailator&apos;, version: &apos;0.4.1&apos;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/02/json的处理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lichukuan">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/user.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/02/json的处理/" itemprop="url">json的处理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-02T19:32:32+08:00">
                2019-04-02
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="JAVA中常用的JSON解析方式"><a href="#JAVA中常用的JSON解析方式" class="headerlink" title="JAVA中常用的JSON解析方式"></a>JAVA中常用的JSON解析方式</h2><ul>
<li>JSON官方,<a href="http://www.json.org/json-zh.html" target="_blank" rel="noopener">官网下载</a></li>
<li>GSON 谷歌的框架</li>
<li>FastJSON 阿里的框架</li>
<li>jackson Spring自带框架</li>
</ul>
<h2 id="Gson的下载"><a href="#Gson的下载" class="headerlink" title="Gson的下载"></a>Gson的下载</h2><h3 id="Gradle依赖"><a href="#Gradle依赖" class="headerlink" title="Gradle依赖"></a>Gradle依赖</h3><p>在<code>Gradle</code>中添加依赖</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">implementation &apos;com.google.code.gson:gson:2.8.5&apos;</span><br></pre></td></tr></table></figure>
<h3 id="Maven依赖"><a href="#Maven依赖" class="headerlink" title="Maven依赖"></a>Maven依赖</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.google.code.gson<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>gson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.8.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="Gson教程"><a href="#Gson教程" class="headerlink" title="Gson教程"></a>Gson教程</h2><ul>
<li><a href="https://www.jianshu.com/p/e740196225a4" target="_blank" rel="noopener">你真的会用Gson吗?Gson使用指南（一）</a></li>
<li><a href="https://www.jianshu.com/p/c88260adaf5e" target="_blank" rel="noopener">你真的会用Gson吗?Gson使用指南（二）</a></li>
<li><a href="https://www.jianshu.com/p/0e40a52c0063" target="_blank" rel="noopener">你真的会用Gson吗?Gson使用指南（三）</a></li>
<li><a href="https://www.jianshu.com/p/3108f1e44155" target="_blank" rel="noopener">你真的会用Gson吗?Gson使用指南（四）</a></li>
</ul>
<h2 id="FastJson的下载"><a href="#FastJson的下载" class="headerlink" title="FastJson的下载"></a>FastJson的下载</h2><h3 id="Gradle"><a href="#Gradle" class="headerlink" title="Gradle"></a>Gradle</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">compile &apos;com.alibaba:fastjson:1.2.55&apos;</span><br><span class="line">compile &apos;com.alibaba:fastjson:1.1.70.android&apos;</span><br></pre></td></tr></table></figure>
<h3 id="Maven"><a href="#Maven" class="headerlink" title="Maven"></a>Maven</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>fastjson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.55<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>fastjson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.70.android<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="FastJson的教程"><a href="#FastJson的教程" class="headerlink" title="FastJson的教程"></a>FastJson的教程</h2><p><a href="http://www.runoob.com/w3cnote/fastjson-intro.html" target="_blank" rel="noopener">菜鸟教程</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/02/lambda表达式/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lichukuan">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/user.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/02/lambda表达式/" itemprop="url">lambda表达式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-02T15:48:44+08:00">
                2019-04-02
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="函数式接口"><a href="#函数式接口" class="headerlink" title="函数式接口"></a>函数式接口</h2><p>函数式接口是指接口中只有一个抽象方法(Java8中接口中可以声明非抽象方法)，例如<code>Comparator</code>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Comparator</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">compare</span><span class="params">(T o1, T o2)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//重新声明Object中的方法会让方法不再是抽象方法</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">default</span> Comparator&lt;T&gt; <span class="title">reversed</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Collections.reverseOrder(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">Comparator&lt;T&gt; <span class="title">nullsFirst</span><span class="params">(Comparator&lt;? <span class="keyword">super</span> T&gt; comparator)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Comparators.NullComparator&lt;&gt;(<span class="keyword">true</span>, comparator);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ....</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用实例</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//注意：由于带Comparator的sort方法参数声明为泛型，所有无法使用基本类型</span></span><br><span class="line">Integer word[] =   <span class="keyword">new</span> Integer[]&#123;<span class="number">12</span>,<span class="number">23</span>&#125;;</span><br><span class="line">Arrays.sort(word,(e1, e2)-&gt; e1 - e2);</span><br><span class="line"></span><br><span class="line"><span class="comment">//上面的代码相当于下面的代码，可以看出lambda可以使代码简洁</span></span><br><span class="line">Integer word[] =   <span class="keyword">new</span> Integer[]&#123;<span class="number">12</span>,<span class="number">23</span>&#125;;</span><br><span class="line">Arrays.sort(word, <span class="keyword">new</span> Comparator&lt;Integer&gt;() &#123;</span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Integer e1, Integer e2)</span> </span>&#123;</span><br><span class="line">              <span class="keyword">return</span> e1 - e2;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Predicate&lt;Boolean&gt; isNull = Objects::isNull;</span><br><span class="line">System.out.println(isNull.test(<span class="keyword">null</span>));</span><br><span class="line"><span class="comment">//等同于</span></span><br><span class="line">Predicate&lt;Boolean&gt; isNull = <span class="keyword">new</span> Predicate&lt;Boolean&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">test</span><span class="params">(Boolean aBoolean)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> Objects.isNull(aBoolean);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    System.out.println(isNull.test(<span class="keyword">null</span>));</span><br></pre></td></tr></table></figure>
<h2 id="lambda表达式的方法引用"><a href="#lambda表达式的方法引用" class="headerlink" title="lambda表达式的方法引用"></a>lambda表达式的方法引用</h2><p>方法引用的三种情况</p>
<ul>
<li>object::instanceMethod（对象方法）</li>
<li>Class::staticMethod (静态方法)</li>
<li>Class::instanceMethod (对象方法)</li>
</ul>
<p>前两种情况中，方法引用等价于提供方法参数的<code>lambda</code>，例如<code>Math::pow</code>等价于<code>(x,y)-&gt;Math.pow(x,y)</code></p>
<p>第三种情况，第一个参数会成为方法的目标,例如<code>String::compareToIgnoreCase</code>等价于<code>(x,y)-&gt;x.compareToIgnore(y)</code></p>
<h2 id="lambda表达式的构造器引用"><a href="#lambda表达式的构造器引用" class="headerlink" title="lambda表达式的构造器引用"></a>lambda表达式的构造器引用</h2><p>例如<code>A::new</code>是A的构造器引用，至于使用哪一个构造器，取决于上下文。</p>
<h2 id="lambda表达式变量的作用域"><a href="#lambda表达式变量的作用域" class="headerlink" title="lambda表达式变量的作用域"></a>lambda表达式变量的作用域</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">requestMessage</span><span class="params">(String text,<span class="keyword">int</span> delay)</span></span>&#123;</span><br><span class="line">       ActionListener actionListener = e -&gt; &#123;</span><br><span class="line">           System.out.println(text);<span class="comment">//使用变量text</span></span><br><span class="line">           ...</span><br><span class="line">       &#125;;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p>可以把一个lambda表达式转化为包含一个方法的对象，这样自由变量的值就会复制到这个对象的实例变量中去</p>
<p>注意：lambda表达式中捕获的变量必须是最终值；而且在lambda中声明于一个局部变量同名的参数或局部变量是不合法的；在lambda表达式中使用this关键字时，是指创建这个lambda表达式的方法的this参数</p>
<h2 id="常用的函数式接口"><a href="#常用的函数式接口" class="headerlink" title="常用的函数式接口"></a>常用的函数式接口</h2><table>
<thead>
<tr>
<th>函数式接口</th>
<th>参数类型</th>
<th>返回类型</th>
<th>抽象方法名</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Runnable</code></td>
<td>无</td>
<td>void</td>
<td>run</td>
<td>作为无参数或返回值的动作运行</td>
</tr>
<tr>
<td><code>Predicate&lt;T&gt;</code></td>
<td>T</td>
<td>boolean</td>
<td>test</td>
<td>布尔值函数</td>
</tr>
<tr>
<td><code>BiPredicate&lt;T,U&gt;</code></td>
<td>T,U</td>
<td>boolean</td>
<td>test</td>
<td>有两个参数的boolean函数</td>
</tr>
<tr>
<td><code>Supplier&lt;T&gt;</code></td>
<td>无</td>
<td>T</td>
<td>get</td>
<td>提供一个T型的值</td>
</tr>
<tr>
<td><code>Consumer&lt;T&gt;</code></td>
<td>T</td>
<td>void</td>
<td>accept</td>
<td>处理一个T类型的值</td>
</tr>
<tr>
<td><code>BiConsumer&lt;T,U&gt;</code></td>
<td>T,U</td>
<td>void</td>
<td>accept</td>
<td>处理T和U类型的值</td>
</tr>
<tr>
<td><code>Function&lt;T,R&gt;</code></td>
<td>T</td>
<td>R</td>
<td>apply</td>
<td>由T转化为R类型</td>
</tr>
<tr>
<td><code>BiFunction&lt;T,U,R&gt;</code></td>
<td>T,U</td>
<td>R</td>
<td>apply</td>
<td>由T，U类型转化为R类型</td>
</tr>
<tr>
<td><code>UnaryOperator&lt;T&gt;</code></td>
<td>T</td>
<td>T</td>
<td>applay</td>
<td>UnaryOperator继承Function，由T类型返回T类型</td>
</tr>
<tr>
<td><code>BinaryOperator&lt;T&gt;</code></td>
<td>T,T</td>
<td>T</td>
<td>applay</td>
<td>BinaryOperator继承BiFunction</td>
</tr>
</tbody>
</table>
<h2 id="基本类型的函数式接口"><a href="#基本类型的函数式接口" class="headerlink" title="基本类型的函数式接口"></a>基本类型的函数式接口</h2><p>为了减少自动装箱，一个尽量使用基本类型的函数式接口，如图：</p>
<p><img src="/2019/04/02/lambda表达式/lambda.jpg" alt="函数式接口"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/02/java文件操作-概述/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lichukuan">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/user.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/02/java文件操作-概述/" itemprop="url">java文件操作---概述</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-02T14:20:11+08:00">
                2019-04-02
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="字符与字节"><a href="#字符与字节" class="headerlink" title="字符与字节"></a>字符与字节</h2><p>该部分转载<a href="https://lrh1993.gitbooks.io/android_interview_guide/content/java/basis/java-io1.html" target="_blank" rel="noopener">字符与字节</a></p>
<p>在Java中有输入、输出两种IO流，每种输入、输出流又分为字节流和字符流两大类。关于字节，我们在学习8大基本数据类型中都有了解，每个字节(byte)有8bit组成，每种数据类型又几个字节组成等。关于字符，我们可能知道代表一个汉字或者英文字母。</p>
<p>但是字节与字符之间的关系是怎样的？</p>
<p>Java采用<code>unicode</code>编码，2个字节来表示一个字符，这点与C语言中不同，C语言中采用ASCII，在大多数系统中，一个字符通常占1个字节，但是在0~127整数之间的字符映射，unicode向下兼容ASCII。而Java采用unicode来表示字符，一个中文或英文字符的unicode编码都占2个字节。但如果采用其他编码方式，一个字符占用的字节数则各不相同。可能有点晕，举个例子解释下。</p>
<p>例如：Java中的<code>String</code>类是按照<code>unicode</code>进行编码的，当使用<code>String(byte[] bytes, String encoding)</code>构造字符串时，encoding所指的是bytes中的数据是按照那种方式编码的，而不是最后产生的String是什么编码方式，换句话说，是让系统把bytes中的数据由<code>encoding</code>编码方式转换成<code>unicode</code>编码。如果不指明，bytes的编码方式将由jdk根据操作系统决定。</p>
<p><code>getBytes(String charsetName)</code>使用指定的编码方式将此<code>String</code>编码为<code>byte</code>序列，并将结果存储到一个新的 byte 数组中。如果不指定将使用操作系统默认的编码方式，我的电脑默认的是GBK编码。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Hel</span> </span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;  </span><br><span class="line">        String str = <span class="string">"你好hello"</span>;  </span><br><span class="line">            <span class="keyword">int</span> byte_len = str.getBytes().length;  </span><br><span class="line">            <span class="keyword">int</span> len = str.length();  </span><br><span class="line">            System.out.println(<span class="string">"字节长度为："</span> + byte_len);  </span><br><span class="line">        System.out.println(<span class="string">"字符长度为："</span> + len);  </span><br><span class="line">        System.out.println(<span class="string">"系统默认编码方式："</span> + System.getProperty(<span class="string">"file.encoding"</span>));  </span><br><span class="line">       &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">字节长度为：9</span><br><span class="line">字符长度为：7</span><br><span class="line">系统默认编码方式：GBK</span><br></pre></td></tr></table></figure>
<p>这是因为：在 GB 2312 编码或 GBK 编码中，一个英文字母字符存储需要1个字节，一个汉字字符存储需要2个字节。 在UTF-8编码中，一个英文字母字符存储需要1个字节，一个汉字字符储存需要3到4个字节。在UTF-16编码中，一个英文字母字符存储需要2个字节，一个汉字字符储存需要3到4个字节（Unicode扩展区的一些汉字存储需要4个字节）。在UTF-32编码中，世界上任何字符的存储都需要4个字节。</p>
<p>简单来讲，一个字符表示一个汉字或英文字母，具体字符与字节之间的大小比例视编码情况而定。有时候读取的数据是乱码，就是因为编码方式不一致，需要进行转换，然后再按照unicode进行编码。</p>
<h2 id="字节输入-输出流"><a href="#字节输入-输出流" class="headerlink" title="字节输入/输出流"></a>字节输入/输出流</h2><p>这类流的操作是基于单个字节因此不便于处理以<code>Unicode</code>形式储存的信息，比如用这个操作中文字符会出现乱码</p>
<p><img src="/2019/04/02/java文件操作-概述/input.png" alt="字节输入流"><br><img src="/2019/04/02/java文件操作-概述/output.png" alt="字节输出流"></p>
<h2 id="字符输入-输出流"><a href="#字符输入-输出流" class="headerlink" title="字符输入/输出流"></a>字符输入/输出流</h2><p>这类流的操作都是基于两个字节的<code>char</code>值的(即，Unicode码元)，而不是基于<code>byte</code>值的。</p>
<p><img src="/2019/04/02/java文件操作-概述/reader.png" alt="字符输入流"><br><img src="/2019/04/02/java文件操作-概述/writer.png" alt="字符输出流"></p>
<h2 id="流的接口"><a href="#流的接口" class="headerlink" title="流的接口"></a>流的接口</h2><h3 id="Closeable"><a href="#Closeable" class="headerlink" title="Closeable"></a>Closeable</h3><p><code>InputStream</code>,<code>OutputStream</code>,<code>Reader</code>和<code>Writer</code>都实现了<code>Closeable</code>接口。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Closeable</span> <span class="keyword">extends</span> <span class="title">AutoCloseable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>从上面的定义可知<code>Closeable</code>扩展<code>AutoCloseable</code>.实现<code>AutoCloseable</code>的类都可以使用<code>try-with-resource</code>.</p>
<blockquote>
<p>为什么需要两个接口，因为<code>AutoCloseable.close</code>方法可以抛出任何异常，而<code>Closeable.close</code>方法<br>只能抛出<code>IOException</code></p>
</blockquote>
<h3 id="Flushable"><a href="#Flushable" class="headerlink" title="Flushable"></a>Flushable</h3><p><code>OutputStream</code>和<code>Writer</code>实现了<code>Flushable</code></p>
<h3 id="Readable"><a href="#Readable" class="headerlink" title="Readable"></a>Readable</h3><p><code>Reader</code>实现了<code>Readable</code>接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Readable</span> </span>&#123;</span><br><span class="line">    <span class="comment">//CharBuffer可以按顺序或随机进行读写</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">(java.nio.CharBuffer cb)</span> <span class="keyword">throws</span> IOException</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Appendable"><a href="#Appendable" class="headerlink" title="Appendable"></a>Appendable</h3><p>只有<code>Writer</code>实现了<code>Appendable</code>接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Appendable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function">Appendable <span class="title">append</span><span class="params">(CharSequence csq)</span> <span class="keyword">throws</span> IOException</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">Appendable <span class="title">append</span><span class="params">(CharSequence csq, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> <span class="keyword">throws</span> IOException</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">Appendable <span class="title">append</span><span class="params">(<span class="keyword">char</span> c)</span> <span class="keyword">throws</span> IOException</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="文件的操作"><a href="#文件的操作" class="headerlink" title="文件的操作"></a>文件的操作</h2><h3 id="File"><a href="#File" class="headerlink" title="File"></a>File</h3><p>File 是磁盘文件和目录路径名的一种抽象形式，其直接继承自 Object，实现了 Serializable 接口和 Comparable 接口；实现 Serializable 接口意味着 File 对象可以被序列化，而实现 Comparable 接口意味着 File 对象可以比较大小；此外 File 并没有什么特殊之处，就是对文件的一种上层抽象封装实现，方便操作文件。</p>
<p>File类共提供了四个不同的构造函数，以不同的参数形式灵活地接收文件和目录名信息。构造函数：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">File (String pathname)</span><br><span class="line">File（URI uri）</span><br><span class="line">File (String parent , String child)</span><br><span class="line">File (File parent , String child)</span><br></pre></td></tr></table></figure>
<h3 id="File的常用方法"><a href="#File的常用方法" class="headerlink" title="File的常用方法"></a>File的常用方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">exists</span><span class="params">( )</span> 判断文件或目录是否存在</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isFile</span><span class="params">( )</span> 判断是文件还是目录</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isDirectory</span><span class="params">( )</span> 判断是文件还是目录</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">( )</span> 返回文件名或目录名</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getPath</span><span class="params">( )</span> 返回文件或目录的路径。</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">length</span><span class="params">( )</span> 获取文件的长度</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String[ ] <span class="title">list</span> <span class="params">()</span> 将目录中所有文件名和目录名保存在字符串数组中返回</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> File[] <span class="title">listFiles</span><span class="params">()</span> 返回某个目录下所有文件和目录的绝对路径，返回的是File数组</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getAbsolutePath</span><span class="params">()</span> 返回文件或目录的绝对路径</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">renameTo</span><span class="params">( File newFile )</span></span>; 重命名文件</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">( )</span></span>;   删除文件</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">mkdir</span><span class="params">( )</span></span>; 创建单个文件夹</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">mkdirs</span><span class="params">()</span></span>;可以建立多级文件夹</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">createNewFile</span><span class="params">()</span></span>; 创建文件</span><br></pre></td></tr></table></figure>
<p>注意：当需要创建<code>D:\\test\\test1.txt</code>文件时，如果<code>test</code>目录不存在，则不可以直接使用<code>createNewFile()</code>创建；<br>同样不能使用<code>mkdir()</code>,因为<code>mkdir()</code>会把<code>D:\\test\\test1.txt</code>中的<code>test</code>和<code>test1.txt</code>都当做文件夹而<code>mkdir()</code><br>只能创建一个文件夹；如果使用<code>mkdirs()</code>则会生成<code>test</code>和<code>test1.txt</code>两个文件.</p>
<p>创建一个文件夹和文件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">File file = <span class="keyword">new</span> File(<span class="string">"D:\\test"</span>);</span><br><span class="line"><span class="keyword">if</span>(file.mkdir())&#123;</span><br><span class="line">    File f = <span class="keyword">new</span> File(file,<span class="string">"test1.txt"</span>);</span><br><span class="line">    f.createNewFile();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="FileDescriptor"><a href="#FileDescriptor" class="headerlink" title="FileDescriptor"></a>FileDescriptor</h3><p>转载<a href="https://lrh1993.gitbooks.io/android_interview_guide/content/java/basis/java-io1.html" target="_blank" rel="noopener">Little丶Jerry</a></p>
<p>File 是磁盘文件和目录路径名的一种抽象形式，其直接继承自 Object，实现了 Serializable 接口和 Comparable 接口；实现 Serializable 接口意味着 File 对象可以被序列化，而实现 Comparable 接口意味着 File 对象可以比较大小；此外 File 并没有什么特殊之处，就是对文件的一种上层抽象封装实现，方便操作文件。</p>
<p>FileDescriptor 是文件描述符，用来表示开放文件、开放套接字等。当 FileDescriptor 表示文件时，我们可以通俗的将 FileDescriptor 看成是该文件，但是不能直接通过 FileDescriptor 对该文件进行操作，若要通过 FileDescriptor 对该文件进行操作，则需要新创建 FileDescriptor 对应的 FileOutputStream，然后再对文件进行操作。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">FileDescriptor</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 在形式上是一个非负整数。</span></span><br><span class="line"><span class="comment">     * 实质是一个索引值，指向内核为每一个进程所维护的该进程打开文件的记录表。</span></span><br><span class="line"><span class="comment">     * 当程序打开一个现有文件或者创建一个新文件时内核向进程返回一个文件描述符。</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> descriptor;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="comment">/**/ FileDescriptor() &#123;</span></span><br><span class="line"><span class="comment">        descriptor = -1;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    private /**/</span> FileDescriptor(<span class="keyword">int</span> descriptor) &#123;</span><br><span class="line">        <span class="keyword">this</span>.descriptor = descriptor;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * (03)err -- 标准错误输出(屏幕)的描述符</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span>     java.lang.System#in</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> FileDescriptor in = dupFd(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * (01)in -- 标准输入(键盘)的描述符 </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span>     java.lang.System#out</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> FileDescriptor out = dupFd(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * (02)out -- 标准输出(屏幕)的描述符  </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span>     java.lang.System#err</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> FileDescriptor err = dupFd(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">    ......</span><br><span class="line">    <span class="comment">//工具构造方法</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> FileDescriptor <span class="title">dupFd</span><span class="params">(<span class="keyword">int</span> fd)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> FileDescriptor(Os.fcntlInt(<span class="keyword">new</span> FileDescriptor(fd), F_DUPFD_CLOEXEC, <span class="number">0</span>));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ErrnoException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>所以，针对 System.X 的 API 来说 FileDescriptor 是一种更加底层的操作，其不与文件名相互关联，只与操作系统中对应文件的句柄关联。</p>
<h3 id="RandomAccessFile"><a href="#RandomAccessFile" class="headerlink" title="RandomAccessFile"></a>RandomAccessFile</h3><p><code>RandomAccessFile</code>类可以在文件的任何位置查找或写入数据</p>
<p>构造方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//模式有四种：r 表示只读 rw 表示读写模式  rws 表示每次更新时都对数据和元数据</span></span><br><span class="line"><span class="comment">//的写磁盘操作进行同步  rwd 表示每次更新时，只对数据的写磁盘操作进行同步</span></span><br><span class="line"><span class="comment">//注：元数据即数据的信息，比如数据的创建修改时间，数据是文件还是目录等</span></span><br><span class="line">RandomAccessFile file = <span class="keyword">new</span> RandomAccessFile(<span class="string">"文件名"</span>,<span class="string">"模式"</span>);</span><br><span class="line"></span><br><span class="line">RandomAccessFile file1 = <span class="keyword">new</span> RandomAccessFile(File,<span class="string">"mode"</span>);</span><br></pre></td></tr></table></figure>
<p>常用方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">getFilePointer</span><span class="params">()</span> 返回文件指针的位置</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">seek</span><span class="params">(<span class="keyword">long</span> pos)</span> 将文件指针设置到距文件开头的pos字节处</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">length</span><span class="params">()</span> 返回文件按照字节来度量的长度</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">final</span> <span class="keyword">void</span>     <span class="title">writeBoolean</span><span class="params">(<span class="keyword">boolean</span> val)</span></span></span><br><span class="line"><span class="function"><span class="keyword">final</span> <span class="keyword">void</span>     <span class="title">writeByte</span><span class="params">(<span class="keyword">int</span> val)</span></span></span><br><span class="line"><span class="function"><span class="keyword">final</span> <span class="keyword">void</span>     <span class="title">writeBytes</span><span class="params">(String str)</span></span></span><br><span class="line"><span class="function"><span class="keyword">final</span> <span class="keyword">void</span>     <span class="title">writeChar</span><span class="params">(<span class="keyword">int</span> val)</span></span></span><br><span class="line"><span class="function"><span class="keyword">final</span> <span class="keyword">void</span>     <span class="title">writeChars</span><span class="params">(String str)</span></span></span><br><span class="line"><span class="function"><span class="keyword">final</span> <span class="keyword">void</span>     <span class="title">writeDouble</span><span class="params">(<span class="keyword">double</span> val)</span></span></span><br><span class="line"><span class="function"><span class="keyword">final</span> <span class="keyword">void</span>     <span class="title">writeFloat</span><span class="params">(<span class="keyword">float</span> val)</span></span></span><br><span class="line"><span class="function"><span class="keyword">final</span> <span class="keyword">void</span>     <span class="title">writeInt</span><span class="params">(<span class="keyword">int</span> val)</span></span></span><br><span class="line"><span class="function"><span class="keyword">final</span> <span class="keyword">void</span>     <span class="title">writeLong</span><span class="params">(<span class="keyword">long</span> val)</span></span></span><br><span class="line"><span class="function"><span class="keyword">final</span> <span class="keyword">void</span>     <span class="title">writeShort</span><span class="params">(<span class="keyword">int</span> val)</span></span></span><br><span class="line"><span class="function"><span class="keyword">final</span> <span class="keyword">void</span>     <span class="title">writeUTF</span><span class="params">(String str)</span> 使用utf-8编码格式写入字符串</span></span><br><span class="line"><span class="function"><span class="keyword">final</span> <span class="keyword">void</span>     <span class="title">write</span><span class="params">()</span> 写入字节</span></span><br></pre></td></tr></table></figure>
<p>注：在Java中<code>char</code>有两个字节，<code>double</code>有八个字节，<code>int</code>有四个字节<br><code>float</code>有四个字节，<code>boolean</code>有一个字节</p>
<p>详细的参考：</p>
<p><a href="https://www.cnblogs.com/skywang12345/p/io_26.html" target="_blank" rel="noopener">java io系列26之 RandomAccessFile</a><br><a href="https://blog.csdn.net/nightcurtis/article/details/51384126" target="_blank" rel="noopener">RandomAccessFile类使用详解</a><br><a href="https://www.cnblogs.com/laobiao/p/5585862.html" target="_blank" rel="noopener">RandomAccessFile 文件读写中文乱码解决方案</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/30/java集合-Collection/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lichukuan">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/user.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/30/java集合-Collection/" itemprop="url">java集合---Collection</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-30T20:24:18+08:00">
                2019-03-30
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Collection类"><a href="#Collection类" class="headerlink" title="Collection类"></a>Collection类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Collection</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">Iterable</span>&lt;<span class="title">E</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>如上，我们知道<code>Collection</code>是一个泛型类，并且实现了<code>Iterable</code>接口。</p>
<h3 id="Iterable接口"><a href="#Iterable接口" class="headerlink" title="Iterable接口"></a>Iterable接口</h3><p>实现<code>Iterable</code>的类可以通过<code>for each</code>循环进行遍历</p>
<p>Iterable中有三个方法，如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 返回一个迭代器</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function">Iterator&lt;T&gt; <span class="title">iterator</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *Java 8的新特性，之后介绍</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">forEach</span><span class="params">(Consumer&lt;? <span class="keyword">super</span> T&gt; action)</span> </span>&#123;</span><br><span class="line">    Objects.requireNonNull(action);</span><br><span class="line">    <span class="keyword">for</span> (T t : <span class="keyword">this</span>) &#123;</span><br><span class="line">        action.accept(t);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Java 8的新特性，之后介绍</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">default</span> Spliterator&lt;T&gt; <span class="title">spliterator</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> Spliterators.spliteratorUnknownSize(iterator(), <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Iterator迭代器"><a href="#Iterator迭代器" class="headerlink" title="Iterator迭代器"></a>Iterator迭代器</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Iterator</span>&lt;<span class="title">E</span>&gt; </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *判断集合中是否还存在元素</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *返回下一个元素</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">E <span class="title">next</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *将迭代器新返回的元素删除</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException(<span class="string">"remove"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *Java 8新特性，之后介绍</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">forEachRemaining</span><span class="params">(Consumer&lt;? <span class="keyword">super</span> E&gt; action)</span> </span>&#123;</span><br><span class="line">        Objects.requireNonNull(action);</span><br><span class="line">        <span class="keyword">while</span> (hasNext())</span><br><span class="line">            action.accept(next());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Java集合框架中的类都在内部实现了<code>Iterator</code>接口，例如，在ArrayList中：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayList</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">AbstractList</span>&lt;<span class="title">E</span>&gt;</span></span><br><span class="line"><span class="class">        <span class="keyword">implements</span> <span class="title">List</span>&lt;<span class="title">E</span>&gt;, <span class="title">RandomAccess</span>, <span class="title">Cloneable</span>, <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> Iterator&lt;E&gt; <span class="title">iterator</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Itr();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">Itr</span> <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">E</span>&gt; </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Collection"><a href="#Collection" class="headerlink" title="Collection"></a>Collection</h2><p><code>Collection</code>是一个容器接口，其中定义操作容器的方法，如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">add</span><span class="params">(Object o)</span>添加对象到集合</span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(Object o)</span>删除指定的对象</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">size</span><span class="params">()</span>返回当前集合中元素的数量</span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(Object o)</span>查找集合中是否有指定的对象</span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span>判断集合是否为空</span></span><br><span class="line"><span class="function">Iterator <span class="title">iterator</span><span class="params">()</span>返回一个迭代器</span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">containsAll</span><span class="params">(Collection c)</span>查找集合中是否有集合c中的元素</span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">addAll</span><span class="params">(Collection c)</span>将集合c中所有的元素添加给该集合</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span>删除集合中所有元素</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">removeAll</span><span class="params">(Collection c)</span>从集合中删除c集合中也有的元素</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">retainAll</span><span class="params">(Collection c)</span>从集合中删除集合c中不包含的元素</span></span><br></pre></td></tr></table></figure>
<h2 id="AbstractCollection"><a href="#AbstractCollection" class="headerlink" title="AbstractCollection"></a>AbstractCollection</h2><p><code>AbstractCollection</code>继承<code>Collection</code>，是一个抽象类，它实现了<code>Collection</code>中的部分方法，如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(Object o)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Object[] <span class="title">toArray</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> &lt;T&gt; T[] <span class="title">toArray</span><span class="params">(T[] a)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(Object o)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">containsAll</span><span class="params">(Collection&lt;?&gt; c)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">addAll</span><span class="params">(Collection&lt;? extends E&gt; c)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">removeAll</span><span class="params">(Collection&lt;?&gt; c)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">retainAll</span><span class="params">(Collection&lt;?&gt; c)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure>
<h2 id="Colections"><a href="#Colections" class="headerlink" title="Colections"></a>Colections</h2><p>Collections 是一个包装类。它包含有各种有关集合操作的静态多态方法。此类不能实例化，就像一个工具类，服务于Java的Collection框架。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/30/java集合-线程安全的集合/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lichukuan">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/user.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/30/java集合-线程安全的集合/" itemprop="url">java集合---线程安全的集合</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-30T10:29:19+08:00">
                2019-03-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/30/java集合-Map/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lichukuan">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/user.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/30/java集合-Map/" itemprop="url">java集合---Map</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-30T10:27:31+08:00">
                2019-03-30
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>如图:</p>
<p><img src="/2019/03/30/java集合-Map/Map.png" alt="Map"></p>
<h2 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h2><p>存储键/值对的接口，一个键只能对应一个值。</p>
<h2 id="SortedMap"><a href="#SortedMap" class="headerlink" title="SortedMap"></a>SortedMap</h2><p>通过<code>Comparable</code>或<code>Comparator</code>对key值进行进行排序的接口。</p>
<h2 id="NavigableMap"><a href="#NavigableMap" class="headerlink" title="NavigableMap"></a>NavigableMap</h2><p><code>NavigableMap</code>继承<code>SortedMap</code>接口，具有了为给定搜索目标报告最接近匹配项的导航方法。<br>方法 <code>lowerEntry</code>，<code>floorEntry</code>，<code>ceilingEntry</code>，<code>higherEntry</code> 和<code>higherEntry</code>返回与<code>key</code>相<br>关联的<code>Entry</code>对象分别小于，小于或等于大于或等于，大于给定键，如果没有这样的键，则返回null<br>。类似地，方法<code>lowerKey</code>,<code>floorKey</code>,<code>ceilingKey</code>和<code>higherKey</code>仅返回关联的键。所有这些方法<br>都是为了定位而不是遍历条目而设计的</p>
<h2 id="AbstractMap"><a href="#AbstractMap" class="headerlink" title="AbstractMap"></a>AbstractMap</h2><p><code>AbstractMap</code>是抽象类，它实现了<code>Map</code>接口，其中它只定义了<code>public abstract Set&lt;Entry&lt;K,V&gt;&gt; entrySet();</code>一个抽象方法</p>
<h2 id="TreeMap"><a href="#TreeMap" class="headerlink" title="TreeMap"></a>TreeMap</h2><p><code>TreeMap</code> 是一个有序的<code>key-value</code>集合，它是通过红黑树实现的。该映射根据其键的自然顺序进行排序，<br>或者根据创建映射时提供的 <code>Comparator</code> 进行排序，具体取决于使用的构造方法<br><br><code>TreeMap</code> 继承于<code>AbstractMap</code>，所以它是一个<code>Map</code>，即一个<code>key-value</code>集合。<br><br><code>TreeMap</code> 实现了<code>NavigableMap</code>接口，意味着它支持一系列的导航方法。比如返回有序的<code>key</code>集合。</p>
<h2 id="EnumMap"><a href="#EnumMap" class="headerlink" title="EnumMap"></a>EnumMap</h2><p><code>EnumMap</code>的key不允许为<code>null</code>，value可以为<code>null</code></p>
<h2 id="WeakHashMap"><a href="#WeakHashMap" class="headerlink" title="WeakHashMap"></a>WeakHashMap</h2><p>WeakHashMap实现了Map接口，是HashMap的一种实现，他使用弱引用作为内部数据的存储方案，WeakHashMap可以作为简单缓存表的解决方案，当系统内存不够的时候，垃圾收集器会自动的清除没有在其他任何地方被引用的键值对。</p>
<h2 id="IdentityHashMap"><a href="#IdentityHashMap" class="headerlink" title="IdentityHashMap"></a>IdentityHashMap</h2><p>区别与其他的键不能重复的容器，IdentityHashMap允许key值重复，但是——key必须是两个不同的对象，即对于k1和k2，当<code>k1==k2</code>时，<code>IdentityHashMap</code>认为两个key相等，而HashMap只有在<code>k1.equals(k2) == true</code> 时才会认为两个key相等。</p>
<h2 id="HashMap"><a href="#HashMap" class="headerlink" title="HashMap"></a>HashMap</h2><p>HashMap 是一个散列表，它存储的内容是键值对(key-value)映射。<br>HashMap 继承于AbstractMap，实现了Map、Cloneable、java.io.Serializable接口。<br>HashMap 的实现不是同步的，这意味着它不是线程安全的。它的key、value都可以为null。此外，HashMap中的映射不是有序的。</p>
<h2 id="LinkedHashMap"><a href="#LinkedHashMap" class="headerlink" title="LinkedHashMap"></a>LinkedHashMap</h2><p>LinkedHashMap是HashMap的一个子类，它保留插入的顺序，如果需要输出的顺序和输入时的相同，那么就选用LinkedHashMap</p>
<h2 id="HashTable"><a href="#HashTable" class="headerlink" title="HashTable"></a>HashTable</h2><p>转载<a href="http://www.importnew.com/7010.html" target="_blank" rel="noopener">这里</a></p>
<p>HashMap和Hashtable的区别</p>
<ul>
<li>HashMap几乎可以等价于Hashtable，除了HashMap是非synchronized的，并可以接受null(HashMap可以接受为null的键值(key)和值(value)，而Hashtable则不行)。<br>HashMap是非synchronized，而Hashtable是synchronized，这意味着Hashtable是线程安全的，多个线程可以共享一个Hashtable；而如果没有正确的同步的话，多个线程是不能共享HashMap的。Java 5提供了ConcurrentHashMap，它是HashTable的替代，比HashTable的扩展性更好。</li>
<li>另一个区别是HashMap的迭代器(Iterator)是fail-fast迭代器，而Hashtable的enumerator迭代器不是fail-fast的。所以当有其它线程改变了HashMap的结构（增加或者移除元素），将会抛出ConcurrentModificationException，但迭代器本身的remove()方法移除元素则不会抛出ConcurrentModificationException异常。但这并不是一个一定发生的行为，要看JVM。这条同样也是Enumeration和Iterator的区别。</li>
<li>由于Hashtable是线程安全的也是synchronized，所以在单线程环境下它比HashMap要慢。如果你不需要同步，只需要单一线程，那么使用HashMap性能要好过Hashtable。<br>HashMap不能保证随着时间的推移Map中的元素次序是不变的。</li>
</ul>
<p>要注意的一些重要术语：</p>
<ol>
<li>sychronized意味着在一次仅有一个线程能够更改Hashtable。就是说任何线程要更新Hashtable时要首先获得同步锁，其它线程要等到同步锁被释放之后才能再次获得同步锁更新Hashtable。</li>
<li>Fail-safe和iterator迭代器相关。如果某个集合对象创建了Iterator或者ListIterator，然后其它的线程试图“结构上”更改集合对象，将会抛出ConcurrentModificationException异常。但其它线程可以通过set()方法更改集合对象是允许的，因为这并没有从“结构上”更改集合。但是假如已经从结构上进行了更改，再调用set()方法，将会抛出IllegalArgumentException异常。</li>
<li>结构上的更改指的是删除或者插入一个元素，这样会影响到map的结构。</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/30/java集合-Queue/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lichukuan">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/user.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/30/java集合-Queue/" itemprop="url">java集合---Queue</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-30T10:26:54+08:00">
                2019-03-30
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>如图:</p>
<p><img src="/2019/03/30/java集合-Queue/Queue.png" alt="Queue"></p>
<h2 id="Queue"><a href="#Queue" class="headerlink" title="Queue"></a>Queue</h2><p><code>Queue</code>是一个队列接口</p>
<h2 id="Deque"><a href="#Deque" class="headerlink" title="Deque"></a>Deque</h2><p><code>Deque</code>是<code>Queue</code>的子接口,<code>Queue</code>是一种队列形式,而<code>Deque</code>则是双向队列,它支持从两个端点方向检索和插入元素,<br>因此<code>Deque</code>既可以支持<code>LIFO</code>(后进先出)形式也可以支持<code>FIFO</code>（先进先出）形式.<code>Deque</code>接口是一种比<code>Stack</code>和<code>Vector</code>更为丰富的抽象数据形式,<br>因为它同时实现了以上两者.</p>
<h2 id="AbstractQueue"><a href="#AbstractQueue" class="headerlink" title="AbstractQueue"></a>AbstractQueue</h2><p><code>AbstractQueue</code>是<code>Queue</code>的抽象类，它实现了下面这些方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">add(E e);</span><br><span class="line">remove();</span><br><span class="line">element();</span><br><span class="line">clear();</span><br><span class="line">addAll(Collection&lt;? extends E&gt; c);</span><br></pre></td></tr></table></figure>
<h2 id="PriorityQueue"><a href="#PriorityQueue" class="headerlink" title="PriorityQueue"></a>PriorityQueue</h2><p><code>PriorityQueue</code>根据优先级来来储存元素，优先级根据<code>Comparable</code>或<code>Comparator</code>来决定（使用哪个取决于使用哪个<br>构造方法）</p>
<h2 id="ArrayQueue"><a href="#ArrayQueue" class="headerlink" title="ArrayQueue"></a>ArrayQueue</h2><p><code>ArrayQueue</code>是用数组实现的队列，它实现了<code>Deque</code>接口。<code>ArrayQueue</code>里面不允许放入<code>null</code>,并且它不是线程安全的。</p>
<h2 id="LinkedList"><a href="#LinkedList" class="headerlink" title="LinkedList"></a>LinkedList</h2><p>见<a href="https://lichukuan.github.io/2019/03/30/Java集合-List/" target="_blank" rel="noopener">这里</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/user.jpg" alt="lichukuan">
            
              <p class="site-author-name" itemprop="name">lichukuan</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">62</span>
                  <span class="site-state-item-name">博客</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">12</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">lichukuan</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
