<!DOCTYPE html>



  



<script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="我的个人博客">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="我的个人博客">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="我的个人博客">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/">





  <title>我的个人博客</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">我的个人博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">哪有什么胜利可言，挺着就代表着一切</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/05/java并发/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lichukuan">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/user.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/05/java并发/" itemprop="url">java并发</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-05T21:26:16+08:00">
                2019-04-05
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="线程创建的方法"><a href="#线程创建的方法" class="headerlink" title="线程创建的方法"></a>线程创建的方法</h2><h3 id="Runnable"><a href="#Runnable" class="headerlink" title="Runnable"></a>Runnable</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RunnableTest</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;<span class="comment">//执行具体的逻辑</span></span><br><span class="line">        System.out.println(Thread.currentThread()+<span class="string">"启动"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">   Runnable runnable = <span class="keyword">new</span> RunnableTest();</span><br><span class="line">   Thread thread = <span class="keyword">new</span> Thread(runnable);</span><br><span class="line">   thread.start();<span class="comment">//启动线程</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Thread"><a href="#Thread" class="headerlink" title="Thread"></a>Thread</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyThread</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyThread</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(getName()+<span class="string">"启动"</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            sleep(<span class="number">1000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(currentThread());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">  Thread thread = <span class="keyword">new</span> MyThread(<span class="string">"线程"</span>);</span><br><span class="line">  thread.start();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Callable和Future"><a href="#Callable和Future" class="headerlink" title="Callable和Future"></a>Callable和Future</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyCallable</span> <span class="keyword">implements</span> <span class="title">Callable</span>&lt;<span class="title">String</span>&gt; </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"完成了"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">   Callable&lt;String&gt; callable = <span class="keyword">new</span> MyCallable();</span><br><span class="line">   FutureTask&lt;String&gt; task = <span class="keyword">new</span> FutureTask&lt;&gt;(callable);</span><br><span class="line">   Thread t = <span class="keyword">new</span> Thread(task);</span><br><span class="line">   t.start();</span><br><span class="line">   System.out.println(task.get());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>Callable</code>和<code>Runnable</code>的主要区别是，<code>Callable</code>是有返回值的。</p>
<p><code>FutureTask</code>是包装类，可将<code>Callable</code>转换为<code>Future</code>和<code>Runable</code>，它同时实现<br>了二者的接口。<code>Future</code>接口如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Future</span>&lt;<span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">    <span class="comment">//取消未开始执行的方法，如果方法已经执行，并且mayInterruptIfRunning=true，则中断</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">cancel</span><span class="params">(<span class="keyword">boolean</span> mayInterruptIfRunning)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">isCancelled</span><span class="params">()</span></span>;<span class="comment">//判断是否被取消</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">isDone</span><span class="params">()</span></span>;<span class="comment">//判断call是否执行完了</span></span><br><span class="line"></span><br><span class="line">    <span class="function">V <span class="title">get</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException, ExecutionException</span>;<span class="comment">//get()方法的调用会被堵塞，直到call方法中方法执行完成</span></span><br><span class="line"></span><br><span class="line">    <span class="function">V <span class="title">get</span><span class="params">(<span class="keyword">long</span> timeout, TimeUnit unit)</span><span class="comment">//调用超时时，会抛出异常</span></span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> InterruptedException, ExecutionException, TimeoutException</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="线程的状态"><a href="#线程的状态" class="headerlink" title="线程的状态"></a>线程的状态</h2><p>线程有六种状态，分别如下：</p>
<ul>
<li>New (新创建)</li>
<li>Runnable (可运行)</li>
<li>Blocked (被阻塞)</li>
<li>Waiting (等待)</li>
<li>Timed waitting (计时等待)</li>
<li>Terminated (被终止)</li>
</ul>
<p>可以通过<code>getState()</code>获取线程所处的状态</p>
<h2 id="线程中断"><a href="#线程中断" class="headerlink" title="线程中断"></a>线程中断</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">interrupt</span><span class="params">()</span> <span class="comment">//请求线程中断，线程不一定会中断</span></span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">isInterrupted</span><span class="params">()</span> <span class="comment">//检测当前线程是否中断，不会改变中断状态</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">interrupted</span><span class="params">()</span> <span class="comment">//检测当前线程是否中断，会重置中断状态为false</span></span></span><br></pre></td></tr></table></figure>
<p><code>isInterrupted()</code>和<code>interrupted()</code>的源码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">interrupted</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> currentThread().isInterrupted(<span class="keyword">true</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isInterrupted</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> isInterrupted(<span class="keyword">false</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//true表示重置中断状态为false，false表示不改变中断状态</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">native</span> <span class="keyword">boolean</span> <span class="title">isInterrupted</span><span class="params">(<span class="keyword">boolean</span> ClearInterrupted)</span></span>;</span><br></pre></td></tr></table></figure>
<p>注意：当线程处于<code>New</code>或<code>Terminated</code>状态时，中断操作无效，即中断状态不会改变；<br>当线程处于<code>Runnable</code>或<code>Blocked</code>时，中断操作只会改变中断状态，并不会中断程序，<br>这时需要我们使用<code>if(Thread.currentThread().isInterrupted())</code>来判断是否处于中断状态，<br>自己处理，这样增加了灵活性；当线程处于<code>Waiting</code>或<code>Timed waitting</code>时，中断操作会<br>抛出异常，并且结束程序。</p>
<p>过时的方法:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">stop</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">suspend</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">resume</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure>
<h2 id="join方法"><a href="#join方法" class="headerlink" title="join方法"></a>join方法</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">join</span><span class="params">()</span> 等待终止指定的线程</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">join</span><span class="params">(<span class="keyword">long</span> millis)</span> 等待指定的线程死亡或者经过指定的毫秒数</span></span><br></pre></td></tr></table></figure>
<p>等待所有的线程执行后执行<code>main</code>方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Thread&gt; list = <span class="keyword">new</span> Vector&lt;&gt;();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;<span class="number">10</span> ; i++) &#123;</span><br><span class="line">    Thread thread = <span class="keyword">new</span> MyThread(<span class="string">"线程"</span>+i);</span><br><span class="line">    thread.start();</span><br><span class="line">    list.add(thread);</span><br><span class="line">&#125;</span><br><span class="line">list.forEach(t -&gt; &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        t.join();<span class="comment">//注意，join方法只有在start方法之后调用才有效</span></span><br><span class="line">    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line">System.out.println(<span class="string">"主线程执行"</span>);</span><br></pre></td></tr></table></figure>
<h2 id="线程优先级"><a href="#线程优先级" class="headerlink" title="线程优先级"></a>线程优先级</h2><p>每一个线程都有一个优先级，在默认的情况下，一个线程继承它父类线程的优先级。<br>可以使用<code>setPriority(int newPriority)</code>设置优先级。</p>
<p>优先级的等级在<code>MIN_PRIORITY</code>（默认值为1）和<code>MAX_PRIORITY</code>（默认值为10）之间；默认为<br><code>NORM_PRIORITY</code>(默认值为5).</p>
<h2 id="守护线程"><a href="#守护线程" class="headerlink" title="守护线程"></a>守护线程</h2><p>守护线程的唯一用途是为其他线程通过服务。注意：守护线程应该永远不去<br>访问固有资源，如文件，数据库，因为它会在任何时刻甚至在一个操作中间<br>发生中断。</p>
<p>设置守护线程的方法<code>setDaemon(boolean isDaemon)</code></p>
<h2 id="未捕获异常处理器"><a href="#未捕获异常处理器" class="headerlink" title="未捕获异常处理器"></a>未捕获异常处理器</h2><p>当线程发生非受查异常时，我们可以设置异常处理器来处理这个异常，比如打印log或者报告给日志文件。</p>
<p>设置未捕获异常处理器的方法有</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setUncaughtExceptionHandler</span><span class="params">(UncaughtExceptionHandler eh)</span><span class="comment">//UncaughtExceptionHandler处理异常的接口</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">setDefaultUncaughtExceptionHandler</span><span class="params">(UncaughtExceptionHandler eh)</span></span></span><br></pre></td></tr></table></figure>
<p>注意：<code>setUncaughtExceptionHandler</code>的优先级高用<code>setDefaultUncaughtExceptionHandler</code></p>
<p>未捕获异常处理器的工作流程：</p>
<p>当线程发生异常时，会判断该线程是否通过<code>setUncaughtExceptionHandler(UncaughtExceptionHandler eh)</code>设置默认处理器；<br>如果设置了，就直接调用，否则调用<code>ThreadGroup</code>(ThreadGroup实现了UncaughtExceptionHandler接口)<br>的<code>void uncaughtException(Thread t, Throwable e);</code>方法。<code>ThreadGroup</code>中的<code>uncaughtException</code>的实现如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">uncaughtException</span><span class="params">(Thread t, Throwable e)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (parent != <span class="keyword">null</span>) &#123;<span class="comment">//判断该线程是否有父线程组</span></span><br><span class="line">            parent.uncaughtException(t, e);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//在这里会判断atic void setDefaultUncaughtExceptionHandler(UncaughtExceptionHandler eh)</span></span><br><span class="line">            <span class="comment">//方法是否设置了默认的处理器</span></span><br><span class="line">            Thread.UncaughtExceptionHandler ueh =</span><br><span class="line">                Thread.getDefaultUncaughtExceptionHandler();</span><br><span class="line">            <span class="keyword">if</span> (ueh != <span class="keyword">null</span>) &#123;</span><br><span class="line">                ueh.uncaughtException(t, e);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!(e <span class="keyword">instanceof</span> ThreadDeath)) &#123;<span class="comment">//如果没有设置默认处理器，则输出到控制台上</span></span><br><span class="line">                System.err.print(<span class="string">"Exception in thread \""</span></span><br><span class="line">                                 + t.getName() + <span class="string">"\" "</span>);</span><br><span class="line">                e.printStackTrace(System.err);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="竞争条件详解"><a href="#竞争条件详解" class="headerlink" title="竞争条件详解"></a>竞争条件详解</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Bank</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MAX_AMOUNT = <span class="number">1000</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span>[] account;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Bank</span><span class="params">(<span class="keyword">int</span> money)</span> </span>&#123;</span><br><span class="line">        account = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>];</span><br><span class="line">        Arrays.fill(account,money);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">transfer</span><span class="params">(<span class="keyword">int</span> from,<span class="keyword">int</span> to,<span class="keyword">int</span> money)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (money&gt;account[from])<span class="comment">//转账数量大于账户余额</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        System.out.print(Thread.currentThread());</span><br><span class="line">        account[from]-=money;</span><br><span class="line">        System.out.print(from+<span class="string">"中的余额为 "</span>+account[from]);</span><br><span class="line">        account[to]+=money;</span><br><span class="line">        System.out.print(<span class="string">" "</span>+to+<span class="string">"中余额为 "</span> + account[to]);</span><br><span class="line">        System.out.println(<span class="string">"  "</span>+Thread.currentThread()+<span class="string">" 总余额为 "</span>+total());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">total</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> total = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> value:account) &#123;</span><br><span class="line">            total+=value;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> total;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">boolean</span> isContinue = <span class="keyword">true</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        Bank bank = <span class="keyword">new</span> Bank(<span class="number">100</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;<span class="number">10</span> ; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> from = i;</span><br><span class="line">            Runnable runnable = ()-&gt;&#123;</span><br><span class="line">                <span class="keyword">while</span> (isContinue)&#123;</span><br><span class="line">                    <span class="keyword">int</span> toAccount = (<span class="keyword">int</span>) (Math.random()*<span class="number">10</span>);</span><br><span class="line">                    <span class="keyword">int</span> money = (<span class="keyword">int</span>) (Math.random()*Bank.MAX_AMOUNT);</span><br><span class="line">                    bank.transfer(from,toAccount,money);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">            Thread thread = <span class="keyword">new</span> Thread(runnable);</span><br><span class="line">            thread.start();</span><br><span class="line">        &#125;</span><br><span class="line">          Thread.sleep(<span class="number">3000</span>);</span><br><span class="line">          isContinue = <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果为：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">....</span><br><span class="line">Thread[Thread-<span class="number">6</span>,<span class="number">5</span>,main]<span class="number">6</span>中的余额为 <span class="number">28</span> <span class="number">5</span>中余额为 <span class="number">40</span>  Thread[Thread-<span class="number">6</span>,<span class="number">5</span>,main] 总余额为 <span class="number">934</span></span><br><span class="line">Thread[Thread-<span class="number">6</span>,<span class="number">5</span>,main]<span class="number">6</span>中的余额为 <span class="number">23</span> <span class="number">5</span>中余额为 <span class="number">45</span>  Thread[Thread-<span class="number">6</span>,<span class="number">5</span>,main] 总余额为 <span class="number">934</span></span><br><span class="line">Thread[Thread-<span class="number">6</span>,<span class="number">5</span>,main]<span class="number">6</span>中的余额为 <span class="number">18</span> <span class="number">6</span>中余额为 <span class="number">23</span>  Thread[Thread-<span class="number">6</span>,<span class="number">5</span>,main] 总余额为 <span class="number">934</span></span><br><span class="line">Thread[Thread-<span class="number">6</span>,<span class="number">5</span>,main]<span class="number">6</span>中的余额为 <span class="number">16</span> <span class="number">2</span>中余额为 <span class="number">127</span>  Thread[Thread-<span class="number">6</span>,<span class="number">5</span>,main] 总余额为 <span class="number">934</span></span><br><span class="line">Thread[Thread-<span class="number">6</span>,<span class="number">5</span>,main]<span class="number">6</span>中的余额为 <span class="number">0</span> <span class="number">7</span>中余额为 <span class="number">491</span>  Thread[Thread-<span class="number">6</span>,<span class="number">5</span>,main] 总余额为 <span class="number">934</span></span><br><span class="line">  Thread[Thread-<span class="number">7</span>,<span class="number">5</span>,main] 总余额为 <span class="number">995</span></span><br><span class="line">Thread[Thread-<span class="number">4</span>,<span class="number">5</span>,main]<span class="number">4</span>中的余额为 <span class="number">0</span> <span class="number">1</span>中余额为 <span class="number">163</span>  Thread[Thread-<span class="number">4</span>,<span class="number">5</span>,main] 总余额为 <span class="number">934</span></span><br><span class="line">Thread[Thread-<span class="number">9</span>,<span class="number">5</span>,main]<span class="number">9</span>中的余额为 <span class="number">42</span> <span class="number">6</span>中余额为 <span class="number">39</span>Thread[Thread-<span class="number">1</span>,<span class="number">5</span>,main]<span class="number">1</span>中的余额为 <span class="number">159</span> <span class="number">1</span>中余额为 <span class="number">163</span>  Thread[Thread-<span class="number">1</span>,<span class="number">5</span>,main] 总余额为 <span class="number">934</span></span><br><span class="line">Thread[Thread-<span class="number">1</span>,<span class="number">5</span>,main]<span class="number">1</span>中的余额为 <span class="number">19</span> <span class="number">1</span>中余额为 <span class="number">1632</span>中的余额为 <span class="number">120</span> <span class="number">9</span>中余额为 <span class="number">101</span>Thread[Thread-<span class="number">5</span>,<span class="number">5</span>,main]<span class="number">5</span>中的余额为 <span class="number">42</span> <span class="number">6</span>中余额为 <span class="number">42</span>  Thread[Thread-<span class="number">5</span>,<span class="number">5</span>,main] 总余额为 <span class="number">993</span></span><br><span class="line">  Thread[Thread-<span class="number">0</span>,<span class="number">5</span>,main] 总余额为 <span class="number">977</span></span><br><span class="line"><span class="number">8</span>中的余额为 <span class="number">2</span> <span class="number">4</span>中余额为 <span class="number">03</span>中的余额为 <span class="number">1</span> <span class="number">8</span>中余额为 <span class="number">25</span>Thread[Thread-<span class="number">0</span>,<span class="number">5</span>,main]<span class="number">0</span>中的余额为 <span class="number">6</span>  Thread[Thread-<span class="number">8</span>,<span class="number">5</span>,main] 总余额为 <span class="number">993</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>从运行结果可知，程序出现了问题。下面详细介绍下问题的原因：</p>
<p>问题在于这不是原子操作，指令可能被处理如下：</p>
<ol>
<li>将<code>accounts[to]</code>加载到寄存器</li>
<li>增加<code>amount</code></li>
<li>将结果写回<code>accounts[to]</code></li>
</ol>
<p>现在假设第一个线程执行了步骤1和2，然后，它被剥夺了优先权。假设第2个线程被唤醒并修改了<code>accounts</code>数组中同一项，然后第一个线程被唤醒并完成第3步。<br>这样，这一动作擦去了第二个线程所做的更新，于是总金额不再正确。</p>
<h2 id="锁对象"><a href="#锁对象" class="headerlink" title="锁对象"></a>锁对象</h2><p>Java中提供了两种机制防止代码块受并发访问的干扰</p>
<h3 id="synchronized"><a href="#synchronized" class="headerlink" title="synchronized"></a>synchronized</h3><p><code>synchronized</code>实现同步的基础：</p>
<ul>
<li>Java中每个对象都可以作为锁。当线程试图访问同步代码时，必须先获得对象锁，退出或抛出异常时必须释放锁。</li>
<li><code>Synchronzied</code>实现同步的表现形式分为：代码块同步 和 方法同步。</li>
</ul>
<p><code>synchronized</code>的使用场景</p>
<p>方法同步:</p>
<p><code>public synchronized void method1</code></p>
<p>(1)锁住的是该对象,类的其中一个实例，当该对象(仅仅是这一个对象)在不同线程中执行这个同步方法时，线程之间会形成互斥。达到同步效果，但如果不同线程同时对该类的不同对象执行这个同步方法时，则线程之间不会形成互斥，因为他们拥有的是不同的锁。</p>
<p>代码块同步:</p>
<p><code>synchronized(this){ //TODO }</code></p>
<p>描述同(1)</p>
<p>方法同步:</p>
<p><code>public synchronized static void method3</code></p>
<p>(2)锁住的是该类，当所有该类的对象(多个对象)在不同线程中调用这个static同步方法时，线程之间会形成互斥，达到同步效果。</p>
<p>代码块同步</p>
<p><code>synchronized(Test.class){ //TODO}</code></p>
<p>描述同(2)</p>
<p>代码块同步:</p>
<p><code>synchronized(o) {}</code></p>
<p>这里面的o可以是一个任何Object对象或数组，并不一定是它本身对象或者类，谁拥有o这个锁，谁就能够操作该块程序代码</p>
<h3 id="ReentranLock"><a href="#ReentranLock" class="headerlink" title="ReentranLock"></a>ReentranLock</h3><p><code>ReentranLock</code>的使用：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">lock.lock();<span class="comment">//获取锁对象</span></span><br><span class="line"><span class="keyword">try</span>&#123;<span class="comment">//如果使用锁，就不能使用带资源的`try`语句。</span></span><br><span class="line"><span class="comment">//具体方法体</span></span><br><span class="line">&#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">    lock.unlock();<span class="comment">//确保释放锁</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>为<code>Bank</code>类加上锁：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Bank</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">private</span> Lock lock = <span class="keyword">new</span> ReentrantLock();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">transfer</span><span class="params">(<span class="keyword">int</span> from,<span class="keyword">int</span> to,<span class="keyword">int</span> money)</span></span>&#123;</span><br><span class="line">        lock.lock();</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (money&gt;account[from])<span class="comment">//转账数量大于账户余额</span></span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            System.out.print(Thread.currentThread());</span><br><span class="line">            account[from]-=money;</span><br><span class="line">            System.out.print(from+<span class="string">"中的余额为 "</span>+account[from]);</span><br><span class="line">            account[to]+=money;</span><br><span class="line">            System.out.print(<span class="string">" "</span>+to+<span class="string">"中余额为 "</span> + account[to]);</span><br><span class="line">            System.out.println(<span class="string">"  "</span>+Thread.currentThread()+<span class="string">" 总余额为 "</span>+total());</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>每一个<code>Bank</code>对象都有自己的<code>ReentrantLock</code>对象。如果两个线程试图访问同一个<code>Bank</code>对象，那么锁以串行方式提供服务。但是，如果两个线程<br>访问不同的<code>Bank</code>对象，每一个线程得到不同的锁对象，两个线程都不会发生堵塞，因为线程在操作不同的<code>Bank</code>实例时，线程之间不会相互影响。</p>
<p><code>ReentranLock</code>的常用方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">lock</span><span class="params">()</span>: 执行此方法时，如果锁处于空闲状态，当前线程将获取到锁。相反，如果锁已经被其他线程持有，将禁用当前线程，直到当前线程获取到锁。</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">tryLock</span><span class="params">()</span>： 如果锁可用，则获取锁，并立即返回<span class="keyword">true</span>，否则返回<span class="keyword">false</span>. 该方法和<span class="title">lock</span><span class="params">()</span>的区别在于，<span class="title">tryLock</span><span class="params">()</span>只是"试图"获取锁，如果锁不可用，不会导致当前线程被禁用，当前线程仍然继续往下执行代码。而<span class="title">lock</span><span class="params">()</span>方法则是一定要获取到锁，如果锁不可用，就一直等待，在未获得锁之前,当前线程并不继续向下执行. 通常采用如下的代码形式调用<span class="title">tryLock</span><span class="params">()</span>方法：</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">unlock</span><span class="params">()</span>： 执行此方法时，当前线程将释放持有的锁. 锁只能由持有者释放，如果线程并不持有锁，却执行该方法，可能导致异常的发生.</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">Condition <span class="title">newCondition</span><span class="params">()</span>： 条件对象，获取等待通知组件。该组件和当前的锁绑定，当前线程只有获取了锁，才能调用该组件的<span class="title">await</span><span class="params">()</span>方法，而调用后，当前线程将释放锁</span></span><br></pre></td></tr></table></figure>
<h2 id="条件对象"><a href="#条件对象" class="headerlink" title="条件对象"></a>条件对象</h2><p>在上面对转款超过自己余额的操作是直接取消这次操作，这个符合一般的常识。但是有时候我们我们会等待别人转账过来。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (money&gt;account[from])</span><br><span class="line">    <span class="keyword">return</span>;</span><br></pre></td></tr></table></figure>
<p>例如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (money&gt;account[from])</span><br><span class="line">    wait();</span><br></pre></td></tr></table></figure>
<p>但是由于这个线程获得了锁，具有排他性，因此没有别的线程可以转账，为了解决这个问题，我们可以使用条件对象(或者叫做条件变量)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.Condition;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.Lock;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Bank</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Lock lock = <span class="keyword">new</span> ReentrantLock();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Condition condition = lock.newCondition();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">transfer</span><span class="params">(<span class="keyword">int</span> from,<span class="keyword">int</span> to,<span class="keyword">int</span> money)</span></span>&#123;</span><br><span class="line">        lock.lock();</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (money&gt;account[from])<span class="comment">//转账数量大于账户余额</span></span><br><span class="line">                condition.await();<span class="comment">//让线程等待，进入阻塞状态，并放弃锁</span></span><br><span class="line">            System.out.print(Thread.currentThread());</span><br><span class="line">            account[from]-=money;</span><br><span class="line">            System.out.print(from+<span class="string">"中的余额为 "</span>+account[from]);</span><br><span class="line">            account[to]+=money;</span><br><span class="line">            System.out.print(<span class="string">" "</span>+to+<span class="string">"中余额为 "</span> + account[to]);</span><br><span class="line">            System.out.println(<span class="string">"  "</span>+Thread.currentThread()+<span class="string">" 总余额为 "</span>+total());</span><br><span class="line">            condition.signalAll();<span class="comment">//解除所有该条件等待线程的阻塞状态</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   ...</span><br></pre></td></tr></table></figure>
<p>注意：<code>signalAll()</code>方法不会立即激活一个等待线程，它仅仅解除阻塞状态，以便这些线程可以在当前线程退出同步方法后，通过<br>竞争实现对对象的访问。另一个方法<code>signal()</code>只会随机解除一个线程的阻塞状态，如果随机选择的线程仍然不能运行，就会再次阻塞，<br>如果没有其他线程再次调用<code>signal()</code>，那么系统就死锁了。</p>
<h2 id="重入锁"><a href="#重入锁" class="headerlink" title="重入锁"></a>重入锁</h2><p>转载<a href="https://lrh1993.gitbooks.io/android_interview_guide/content/java/concurrence/synchronized-reentrantlock.html" target="_blank" rel="noopener">线程同步问题的产生及解决方案</a></p>
<p>当一个线程得到一个对象后，再次请求该对象锁时是可以再次得到该对象的锁的。<br>具体概念就是：自己可以再次获取自己的内部锁。<br>Java里面内置锁(synchronized)和Lock(ReentrantLock)都是可重入的。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SynchronizedTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">synchronized</span> (SynchronizedTest.class) &#123;</span><br><span class="line">            System.out.println(<span class="string">"方法1获得ReentrantTest的锁运行了"</span>);</span><br><span class="line">            method2();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">synchronized</span> (SynchronizedTest.class) &#123;</span><br><span class="line">            System.out.println(<span class="string">"方法1里面调用的方法2重入锁,也正常运行了"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> SynchronizedTest().method1();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面便是synchronized的重入锁特性，即调用method1()方法时，已经获得了锁，此时内部调用method2()方法时，由于本身已经具有该锁，所以可以再次获取。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReentrantLockTest</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Lock lock = <span class="keyword">new</span> ReentrantLock();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        lock.lock();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"方法1获得ReentrantLock锁运行了"</span>);</span><br><span class="line">            method2();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        lock.lock();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"方法1里面调用的方法2重入ReentrantLock锁,也正常运行了"</span>);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> ReentrantLockTest().method1();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面便是ReentrantLock的重入锁特性，即调用method1()方法时，已经获得了锁，此时内部调用method2()方法时， 由于本身已经具有该锁，所以可以再次获取。</p>
<h2 id="公平锁"><a href="#公平锁" class="headerlink" title="公平锁"></a>公平锁</h2><p>转载<a href="https://lrh1993.gitbooks.io/android_interview_guide/content/java/concurrence/synchronized-reentrantlock.html" target="_blank" rel="noopener">线程同步问题的产生及解决方案</a></p>
<p>CPU在调度线程的时候是在等待队列里随机挑选一个线程，由于这种随机性所以是无法保证线程先到先得的（synchronized控制的锁就是这种非公平锁）。</p>
<p>但这样就会产生饥饿现象，即有些线程（优先级较低的线程）可能永远也无法获取CPU的执行权，优先级高的线程会不断的强制它的资源。</p>
<p>那么如何解决饥饿问题呢，这就需要公平锁了。公平锁可以保证线程按照时间的先后顺序执行，避免饥饿现象的产生。但公平锁的效率比较低，因为要实现顺序执行，需要维护一个有序队列。</p>
<p>ReentrantLock便是一种公平锁，通过在构造方法中传入true就是公平锁，传入false，就是非公平锁。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">ReentrantLock</span><span class="params">(<span class="keyword">boolean</span> fair)</span> </span>&#123;</span><br><span class="line">        sync = fair ? <span class="keyword">new</span> FairSync() : <span class="keyword">new</span> NonfairSync();</span><br><span class="line">    &#125;</span><br><span class="line">以下是使用公平锁实现的效果：</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LockFairTest</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    <span class="comment">//创建公平锁</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> ReentrantLock lock=<span class="keyword">new</span> ReentrantLock(<span class="keyword">true</span>);</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">            lock.lock();</span><br><span class="line">            <span class="keyword">try</span>&#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName()+<span class="string">"获得锁"</span>);</span><br><span class="line">            &#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">                lock.unlock();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        LockFairTest lft=<span class="keyword">new</span> LockFairTest();</span><br><span class="line">        Thread th1=<span class="keyword">new</span> Thread(lft);</span><br><span class="line">        Thread th2=<span class="keyword">new</span> Thread(lft);</span><br><span class="line">        th1.start();</span><br><span class="line">        th2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">输出结果：</span><br><span class="line">Thread-<span class="number">1</span>获得锁 </span><br><span class="line">Thread-<span class="number">0</span>获得锁 </span><br><span class="line">Thread-<span class="number">1</span>获得锁 </span><br><span class="line">Thread-<span class="number">0</span>获得锁 </span><br><span class="line">Thread-<span class="number">1</span>获得锁 </span><br><span class="line">Thread-<span class="number">0</span>获得锁 </span><br><span class="line">Thread-<span class="number">1</span>获得锁 </span><br><span class="line">Thread-<span class="number">0</span>获得锁 </span><br><span class="line">Thread-<span class="number">1</span>获得锁 </span><br><span class="line">Thread-<span class="number">0</span>获得锁 </span><br><span class="line">Thread-<span class="number">1</span>获得锁 </span><br><span class="line">Thread-<span class="number">0</span>获得锁 </span><br><span class="line">Thread-<span class="number">1</span>获得锁 </span><br><span class="line">Thread-<span class="number">0</span>获得锁 </span><br><span class="line">Thread-<span class="number">1</span>获得锁 </span><br><span class="line">Thread-<span class="number">0</span>获得锁</span><br></pre></td></tr></table></figure>
<p>这是截取的部分执行结果，分析结果可看出两个线程是交替执行的，几乎不会出现同一个线程连续执行多次。</p>
<h2 id="synchronized和ReentrantLock的比较"><a href="#synchronized和ReentrantLock的比较" class="headerlink" title="synchronized和ReentrantLock的比较"></a>synchronized和ReentrantLock的比较</h2><p>转载<a href="https://lrh1993.gitbooks.io/android_interview_guide/content/java/concurrence/synchronized-reentrantlock.html" target="_blank" rel="noopener">线程同步问题的产生及解决方案</a></p>
<h3 id="区别："><a href="#区别：" class="headerlink" title="区别："></a>区别：</h3><ul>
<li>Lock是一个接口，而synchronized是Java中的关键字，synchronized是内置的语言实现；</li>
<li>synchronized在发生异常时，会自动释放线程占有的锁，因此不会导致死锁现象发生；而Lock在发生异常时，如果没有主动通过unLock()去释放锁，则很可能造成死锁现象，因此使用Lock时需要在finally块中释放锁；</li>
<li>Lock可以让等待锁的线程响应中断，而synchronized却不行，使用synchronized时，等待的线程会一直等待下去，不能够响应中断；</li>
<li>通过Lock可以知道有没有成功获取锁，而synchronized却无法办到。</li>
<li>Lock可以提高多个线程进行读操作的效率。</li>
</ul>
<p>总结：ReentrantLock相比synchronized，增加了一些高级的功能。但也有一定缺陷。<br>在ReentrantLock类中定义了很多方法，比如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">isFair()      <span class="comment">//判断锁是否是公平锁</span></span><br><span class="line"></span><br><span class="line">isLocked()    <span class="comment">//判断锁是否被任何线程获取了</span></span><br><span class="line"></span><br><span class="line">isHeldByCurrentThread()   <span class="comment">//判断锁是否被当前线程获取了</span></span><br><span class="line"></span><br><span class="line">hasQueuedThreads()   <span class="comment">//判断是否有线程在等待该锁</span></span><br></pre></td></tr></table></figure>
<p>两者在锁的相关概念上区别：</p>
<p>1)可中断锁<br><br>顾名思义，就是可以响应中断的锁。<br><br>在Java中，synchronized就不是可中断锁，而Lock是可中断锁。如果某一线程A正在执行锁中的代码，另一线程B正在等待获取该锁，可能由于等待时间过长，线程B不想等待了，想先处理其他事情，我们可以让它中断自己或者在别的线程中中断它，这种就是可中断锁。<br>lockInterruptibly()的用法体现了Lock的可中断性。</p>
<p>2)公平锁<br><br>公平锁即尽量以请求锁的顺序来获取锁。比如同是有多个线程在等待一个锁，当这个锁被释放时，等待时间最久的线程（最先请求的线程）会获得该锁（并不是绝对的，大体上是这种顺序），这种就是公平锁。<br>非公平锁即无法保证锁的获取是按照请求锁的顺序进行的。这样就可能导致某个或者一些线程永远获取不到锁。<br>在Java中，synchronized就是非公平锁，它无法保证等待的线程获取锁的顺序。ReentrantLock可以设置成公平锁。</p>
<p>3)读写锁<br><br>读写锁将对一个资源（比如文件）的访问分成了2个锁，一个读锁和一个写锁。<br>正因为有了读写锁，才使得多个线程之间的读操作可以并发进行，不需要同步，而写操作需要同步进行，提高了效率。<br>ReadWriteLock就是读写锁，它是一个接口，ReentrantReadWriteLock实现了这个接口。<br>可以通过readLock()获取读锁，通过writeLock()获取写锁。</p>
<p>4)绑定多个条件<br><br>一个ReentrantLock对象可以同时绑定多个Condition对象，而在synchronized中，锁对象的wait()和notify()或notifyAll()方法可以实现一个隐含的条件，如果要和多余一个条件关联的时候，就不得不额外地添加一个锁，而ReentrantLock则无须这么做，只需要多次调用new Condition()方法即可。</p>
<p>3.性能比较</p>
<p>在性能上来说，如果竞争资源不激烈，两者的性能是差不多的，而 当竞争资源非常激烈时（即有大量线程同时竞争），此时ReentrantLock的性能要远远优于synchronized 。所以说，在具体使用时要根据适当情况选择。</p>
<p>在JDK1.5中，synchronized是性能低效的。因为这是一个重量级操作，它对性能最大的影响是阻塞的是实现，挂起线程和恢复线程的操作都需要转入内核态中完成，这些操作给系统的并发性带来了很大的压力。相比之下使用Java提供的ReentrankLock对象，性能更高一些。</p>
<p>到了JDK1.6，发生了变化，对synchronize加入了很多优化措施，有自适应自旋，锁消除，锁粗化，轻量级锁，偏向锁等等。导致在JDK1.6上synchronize的性能并不比Lock差。官方也表示，他们也更支持synchronize，在未来的版本中还有优化余地，所以还是提倡在synchronized能实现需求的情况下，优先考虑使用synchronized来进行同步。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/05/windows的路径/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lichukuan">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/user.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/05/windows的路径/" itemprop="url">windows的路径</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-05T20:48:40+08:00">
                2019-04-05
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/基础知识/" itemprop="url" rel="index">
                    <span itemprop="name">基础知识</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>转载<a href="http://www.cnblogs.com/zplutor/archive/2010/08/21/1805335.html" target="_blank" rel="noopener">这里</a></p>
<h2 id="Windows路径探究"><a href="#Windows路径探究" class="headerlink" title="Windows路径探究"></a>Windows路径探究</h2><p>Windows路径是我们经常使用的东西，它看似简单，实际上隐含许多细节，这些都是在平常的使用过程中注意不到的。下面让我们来看看各种各样的Windows路径。</p>
<p>提起路径，我们都会想到“绝对路径”和“相对路径”，实际上绝对路径是一个广泛的概念，它表示的是可以唯一定位一个文件或文件夹的路径，有多种形式的路径都属于绝对路径的范畴</p>
<h3 id="完整路径（Full-path）"><a href="#完整路径（Full-path）" class="headerlink" title="完整路径（Full path）"></a>完整路径（Full path）</h3><p>我们平时所说的“绝对路径”通常就是指完整路径，它的格式如下：<br><code>C:\Windows\System32\calc.exe</code></p>
<h3 id="UNC（Universal-Naming-Convention通用命名规范）路径"><a href="#UNC（Universal-Naming-Convention通用命名规范）路径" class="headerlink" title="UNC（Universal Naming Convention通用命名规范）路径"></a>UNC（Universal Naming Convention通用命名规范）路径</h3><p>UNC路径用于在局域网上定位文件或文件夹，在通过网上邻居访问其它系统上的共享文件时使用的就是UNC路径。UNC路径的格式如下：<br><code>\\PC101\ShareFiles\job.doc</code></p>
<p>其中PC101是目标系统的计算机名，ShareFiles是目标系统上的共享文件夹名称。</p>
<h3 id="以-开头的路径"><a href="#以-开头的路径" class="headerlink" title="以\?\开头的路径"></a>以\?\开头的路径</h3><p>在某些手工辅助杀毒的工具中可以看到以<code>\\?\</code>开头的路径，这种路径我还找不到正式的名称。完整路径和UNC路径都可以以<code>\\?\</code>开头：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">\\?\C:\Windows\System32\calc.exe</span><br><span class="line">\\?\UNC\PC101\ShareFiles\job.doc</span><br></pre></td></tr></table></figure>
<h3 id="相对路径（Relative-path）"><a href="#相对路径（Relative-path）" class="headerlink" title="相对路径（Relative path）"></a>相对路径（Relative path）</h3><p>上面四种路径都可以在本地或网络上绝对定位一个文件，因此属于绝对路径。另一种我们常常使用的是相对路径，这种路径需要与进程的当前文件夹（Current directory）一起合作才可以定位一个文件或文件夹。</p>
<p>进程的当前文件夹并不是指EXE文件所在的文件夹，它是每个进程都有的一个属性。例如在命令提示符中显示的路径就是这个cmd.exe进程的当前文件夹，使用cd命令可以改变当前文件夹，无论当前文件夹如何改变，cmd.exe文件所在的文件夹总是不变的。</p>
<p>在进程启动的时候可以指定它的当前文件夹，例如在快捷方式的属性中有一个“起始位置”输入框，这个就是进程启动后的当前文件夹。如果在启动时不指定进程的当前文件夹（直接双击EXE文件的情况），那么EXE文件的所在文件夹就会作为它的当前文件夹。</p>
<p>纯粹的相对路径格式如下：<br><code>Windows\System32\calc.exe</code></p>
<p>要注意的是相对路径的开头不能有\，很多人以为有没有\都是一样的，其实不然，以\开头的路径是另外一种路径，下文会详细介绍这种路径。</p>
<p>如果在进程中操作文件时传递一个相对路径，那么进程会将当前文件夹的路径与这个相对路径合并，得到一个完整路径。例如命令提示符的当前文件夹是<code>C:\Windows</code>，如果执行<code>start System32\calc.exe</code>命令，程序就会将两个路径合并得到<code>C:\Windows\System32\calc.exe。</code></p>
<p>由于这样的特性，当前文件夹又称为工作文件夹，因为进程使用相对路径时都是针对该文件夹的。<br>除了上面所说的纯粹的相对路径，还有两种特殊的相对路径，为了不至于混淆，不再将它们称为相对路径。</p>
<h3 id="以-开头的路径-1"><a href="#以-开头的路径-1" class="headerlink" title="以\开头的路径"></a>以\开头的路径</h3><p>上面说过相对路径不能以\开头，一旦如此，它就表示相对于当前文件夹根目录的路径。例如进程的当前文件夹是<code>C:\Windows</code>，那么<code>\System32\calc.exe</code>就表示<code>C:\System32\calc.exe</code>。不论当前文件夹的路径有多深，只取根目录进行合并。</p>
<p>可以在命令提示符中进行验证：首先将<code>C:\Windows</code>设置为当前文件夹，然后执行<code>start \System32\calc.exe</code>命令，将会提示错误，所找不到文件。再执行<code>start \Windows\System32\calc.exe</code>命令，这时计算器程序成功启动了，证明了上面的说法。</p>
<h3 id="以盘符和冒号开头的路径"><a href="#以盘符和冒号开头的路径" class="headerlink" title="以盘符和冒号开头的路径"></a>以盘符和冒号开头的路径</h3><p>这种路径就像是拼写错误的完整路径，它的格式如下：<br><code>C:System32\calc.exe</code></p>
<p>盘符加冒号是一种特殊的表示法，表示的是进程在“该分区上的当前文件夹”。这里又蹦出来了一个当前文件夹，这与上文的当前文件夹是不同的。简单来说，对于每一个分区，进程都会保存在这个分区上最后使用的当前文件夹。可能解析的不够好，那么可以使用命令提示符来操作一遍以加深理解。 </p>
<p>运行cmd，执行cd /d C:\Windows\System32命令进入该文件夹，然后切换到其它的分区，再执行C:calc.exe命令，可以看到计算器程序启动了。 </p>
<p>我们在执行cd命令进入C:\Windows\System32文件夹后，进程便以此为当前文件夹，当切换到其余的分区时，进程先将这个文件夹的路径保存起来，再进行切换。使用盘符和冒号的形式读取指定分区上的当前文件夹。</p>
<h3 id="路径中的限制"><a href="#路径中的限制" class="headerlink" title="路径中的限制"></a>路径中的限制</h3><p>除了路径格式上的限制，还有很多字符上的限制，下面一一来看看各种路径有什么限制。</p>
<p>除了以<code>\\?\</code>开头的路径之外，其它路径的长度都不能超过<code>260</code>个字符（包括结尾的\0字符），而<code>\\?\</code>开头的路径长度可以达到约<code>32000</code>个字符（系统在处理<code>\\?\</code>前缀的时候可能将它扩展成更长的字符串）。网络上流传的一则技巧：文件路径太长而不能被删除，可以在执行del命令时在路径前加上<code>\\?\</code>前缀</p>
<p>文件或文件夹名称的最后一个字符不能为空格或句点。但在路径中，最后一个字符可以为句点，因为路径中的句点表示的是当期文件夹（这与上文的当前文件夹完全不同），两个句点表示的是上一级文件夹。以\?\开头的路径中不能使用句点表示当前文件夹或上一级文件夹，在资源管理器的地址栏中虽然可以这么做，那是因为资源管理器对其作了处理。 </p>
<p>文件或文件夹名称不能包含的字符:<br><code>&lt; &gt; : &quot; / \ | ? *</code></p>
<p>在路径中可以使用 <code>: \ ?</code>，冒号是与盘符一起使用的，问号是<code>\\?\</code>前缀中特有的，除此之外不能出现这两个字符；而<code>\</code>是文件夹分割符。虽然我们也能使用<code>/</code>作为分隔符，实际上这是不允许的，系统在处理路径时会将<code>/</code>替换成<code>\</code>。另外，如果路径最后一个字符是<code>\</code>，那么该路径表示的是文件夹；否则表示的是一个文件。</p>
<p>UNC路径的计算机名部分不能出现以下字符：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~ ` ! @ # $ % ^ &amp; * ( ) = + _ [ ] &#123; &#125; \ | ; : . ‘ “ , &lt; &gt; / ?</span><br></pre></td></tr></table></figure>
<p>确实是够多的了，实际上标准的计算机名推荐只使用26个英文字母、10个数字以及-（连字符），否则可能会出现找不到计算机的情况。在更改计算机名的时候如果出现非标准字符，系统会作出提示。</p>
<p>作者：Zplutor<br><br>出处：<a href="http://www.cnblogs.com/zplutor/" target="_blank" rel="noopener">http://www.cnblogs.com/zplutor/</a> <br><br>本文版权归作者和博客园共有，欢迎转载。但未经作者同意必须保留此段声明，且在文章页面明显位置给出原文连接，否则保留追究法律责任的权利<br></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/05/图解-从单个服务器扩展到百万用户的系统/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lichukuan">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/user.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/05/图解-从单个服务器扩展到百万用户的系统/" itemprop="url">图解:从单个服务器扩展到百万用户的系统</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-05T10:41:25+08:00">
                2019-04-05
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web/" itemprop="url" rel="index">
                    <span itemprop="name">web</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>作者 | Wolfram Hempel<br>翻译 | Join</p>
<p>你开发了一个网站（例如网上商店、社交网站或者其他任何东西），之后你把它发布到了网上，网站运行良好，每天有几百的访问量，能快速地相响应用户的请求。<br>但是有一天，不知道什么原因，你的网站出名了<br>每分每秒都有成千上万的用户蜂拥而至，你的网站变得越来越慢……<br>对你来讲，这是个好消息，但是对你的Web应用来说这是个坏消息。因为现在它需要扩展了，你的应用需要为全球用户提供7*24不宕机服务。</p>
<p>如何进行扩展？</p>
<p>几年前，我讨论过水平扩展与垂直扩展。简而言之， 垂直扩展意味着在性能更强的计算机上运行同样的服务，而水平扩展是并行地运行多个服务。</p>
<p>如今，几乎没有人说垂直扩展了。原因很简单：</p>
<ul>
<li>随着计算机性能的增长，其价格会成倍增长</li>
<li>单台计算机的性能是有上限的，不可能无限制地垂直扩展</li>
<li>多核CPU意味着即使是单台计算机也可以并行的。那么，为什么不一开始就并行化呢？</li>
</ul>
<p>现在我们水平扩展服务。需要哪些步骤呢？</p>
<h2 id="单台服务器-数据库"><a href="#单台服务器-数据库" class="headerlink" title="单台服务器 + 数据库"></a>单台服务器 + 数据库</h2><p><img src="/2019/04/05/图解-从单个服务器扩展到百万用户的系统/1.jpg" alt></p>
<p>上图可能是你后端服务最初的样子。有一个执行业务逻辑的应用服务器（Application Server）和保存数据的数据库。</p>
<p>看上去很不错。但是这样的配置，满足更高要求的唯一方法是在性能更强的计算机上运行，这点不是很好。</p>
<h2 id="增加一个反向代理"><a href="#增加一个反向代理" class="headerlink" title="增加一个反向代理"></a>增加一个反向代理</h2><p><img src="/2019/04/05/图解-从单个服务器扩展到百万用户的系统/2.jpg" alt></p>
<p>成为大规模服务架构的第一步是添加反向代理。类似于酒店大堂的接待处。</p>
<p>你也可以让客人直接去他们的客房。但是实际上，你需要一个中间人他去检查是否允许客人进入， 如果客房没有开放，得有人告诉客人，而不是让客人处于尴尬的境地。这些事情正是反向代理需要做的。</p>
<p>通常，代理是一个接收和转发请求的过程。正常情况下，「正向代理」代理的对象是客户端，「反向代理」代理的对象是服务端，它完成这些功能：</p>
<p>健康检查功能，确保我们的服务器是一直处于运行状态的</p>
<p>路由转发功能，把请求转发到正确的服务路径上</p>
<p>认证功能,确保用户有权限访问后端服务器</p>
<p>防火墙功能，确保用户只能访问允许使用的网络部分等等</p>
<h2 id="引入负载均衡器"><a href="#引入负载均衡器" class="headerlink" title="引入负载均衡器"></a>引入负载均衡器</h2><p><img src="/2019/04/05/图解-从单个服务器扩展到百万用户的系统/3.jpg" alt></p>
<p>大多数反向代理还有另外一个功能：他们也可以充当负载均衡器。</p>
<p>负载均衡器是个简单概念，想象下有一百个用户在一分钟之内在你的网店里付款。遗憾的是，你的付款服务器在一分钟内只能处理50笔付款。这怎么办呢？同时运行两个付款服务器就行了。</p>
<p>负载均衡器的功能就是把付款请求分发到两台付款服务器上。用户1往左，用户2往右，用户3再往左。。。以此类推。</p>
<p>如果一次有500个用户需要立刻付款，这该怎么解决呢？确切地说，你可以扩展到十台付款服务器，之后让负载均衡器分发请求到这十台服务器上。</p>
<h2 id="扩展数据库"><a href="#扩展数据库" class="headerlink" title="扩展数据库"></a>扩展数据库</h2><p><img src="/2019/04/05/图解-从单个服务器扩展到百万用户的系统/4.jpg" alt></p>
<p>负载均衡器的使用使得我们可以在多个服务器之间分配负载。但是你发现问题了吗？尽管我们可以用成百上千台服务器处理请求，但是他们都是用同一个数据库存储和检索数据。</p>
<p>那么，我们不能以同样的方式来扩展数据库吗？很遗憾，这里有个一致性的问题。</p>
<p>系统使用的所有服务需要就他们使用的数据达成一致。数据不一致会导致各种问题，如订单被多次处理，从一个余额只有100元的账户中扣除两笔90元的付款等等……那么我们在扩展数据库的时候如何确保一致性呢？</p>
<p>我们需要做的第一件事是把数据库分成多个部分。一部分专门负责接收并存储数据，其他部分负责检索数据。这个方案有时称为主从模式或者单实例写多副本读。这里假设是从数据库读的频率高于写的频率。这个方案的好处是保证了一致性，因为数据只能被单实例写入，之后把写入数据同步到其他部分即可。缺点是我们仍然只有一个写数据库实例。</p>
<p>这对于中小型的Web应用来说没问题， 但是像Facebook这样的则不会这样做了。我们会在第九节中研究扩展数据库的步骤。</p>
<h2 id="微服务"><a href="#微服务" class="headerlink" title="微服务"></a>微服务</h2><p><img src="/2019/04/05/图解-从单个服务器扩展到百万用户的系统/5.jpg" alt></p>
<p>到目前为止，我们的付款、订单、库存、用户管理等等这些功能都在一台服务器上。</p>
<p>这也不是坏事，单个服务器同时意味着更低的复杂性。随着规模的增加，事情会变得复杂和低效：</p>
<p>开发团队随着应用的发展而增长。但是随着越来越多的开发人员工作在同一台服务器上，发生冲突的可能性很大。</p>
<p>仅有一台服务器，意味着每当我们发布新版本时，必须要等所有工作完成后才能发布。当一个团队想快速地发布而另外一个团队只完成了一半工作的时候，这种互相依赖性很危险。</p>
<p>对于这些问题的解决方案是一个新的架构范式：微服务， 它已经在开发人员中掀起了风暴。</p>
<p>每个服务都可以单独扩展，更好地适应需求</p>
<p>开发团队之间相互独立，每个团队都负责自己的微服务生命周期(创建，部署，更新等)</p>
<p>每个微服务都有自己的资源，比如数据库，进一步缓解了第4节中的问题。</p>
<h2 id="缓存和内容分发网络-CDN"><a href="#缓存和内容分发网络-CDN" class="headerlink" title="缓存和内容分发网络(CDN)"></a>缓存和内容分发网络(CDN)</h2><p><img src="/2019/04/05/图解-从单个服务器扩展到百万用户的系统/6.jpg" alt></p>
<p>有什么方式能使服务更高效? 网络应用的很大一部由静态资源构成,如图片、CSS样式文件、JavaScript脚本以及一些针对特定产品提前渲染好的页面等等。</p>
<p>我们使用缓存而不是对每个请求都重新处理，缓存用于记住最后一次的结果并交由其他服务或者客户端，这样就不用每次都请求后端服务了。</p>
<p>缓存的加强版叫内容分发网络（Content Delivery Network），遍布全球的大量缓存。 这使得用户可以从物理上靠近他们的地方来获取网页内容，而不是每次都把数据从源头搬到用户那里。</p>
<h2 id="消息队列"><a href="#消息队列" class="headerlink" title="消息队列"></a>消息队列</h2><p><img src="/2019/04/05/图解-从单个服务器扩展到百万用户的系统/7.jpg" alt></p>
<p>你去过游乐园吗？你是否走到售票柜台去买票？也许不是这样，可能是排队等候。政府机构、邮局、游乐园入口都属于并行概念的例子，多个售票亭同时售票，但似乎也永远不足以为每个人立即服务，于是队列形成了。</p>
<p>队列同样也是用于大型Web应用。每分钟都有成千上万的图片上传到Instagram、Facebook每个图片都需要处理，调整大小，分析与打标签，这些都是耗时的处理过程。</p>
<p>因此，不要让用户等到完成所有步骤，图片接收服务只需要做以下三件事：</p>
<p>存储原始的、未处理的图片<br>向用户确认图片已经上传<br>创建一个待办的任务</p>
<p>这个待办事项列表中的任务可以被其他任意数量服务接收，每个服务完成其中一个任务，直到所有的待办事项完成。管理这些“待办事项列表”的称为消息队列。使用这样的队列有许多优点：</p>
<p>解耦了任务和处理过程。有时需要处理大量的图片，有时很少。有时有大量服务可用，有时很少可用。简单地把任务添加到待办事项而不是直接处理它们，这确保了系统保持响应并且任务也不会丢失。</p>
<p>可以按需扩展。启动大量的服务比较耗时，所以当有大量用户上传图片时再去启动服务，这已经太晚了。我们把任务添加到队列中，我们可以推迟提供额外的处理能力。</p>
<p>好了，如果按照我们上面的所有步骤操作下来，我们的系统已经做好提供大流量服务的准备了。但是如果还想提供更大量的，该怎么做呢？还有一些可以做：</p>
<h2 id="分片，分片，还是分片"><a href="#分片，分片，还是分片" class="headerlink" title="分片，分片，还是分片"></a>分片，分片，还是分片</h2><p><img src="/2019/04/05/图解-从单个服务器扩展到百万用户的系统/8.jpg" alt></p>
<p>什么是分片？好吧，深呼吸一下，准备好了吗？我们看下定义：</p>
<p><code>&quot;Sharding is a technique of parallelizing an application&#39;s stacks by separating them into multiple units, each responsible for a certain key or namespace&quot;</code></p>
<p>哎呦…… 分片究竟是是什么意思呢？</p>
<p>其实也很简单：Facebook上需要为20亿用户提供个人资料, 可以把你的应用架构分解为 26个mini-Facebook, 用户名如果以A开头，会被mini-facebook A处理， 用户名如果以B开头，会被mini-facebook B来处理……</p>
<p>分片不一定按字母顺序，根据业务需要，你可以基于任何数量的因素，比如位置、使用频率(特权用户被路由到好的硬件)等等。你可以根据需要以这种方式切分服务器、数据库或其他方面。</p>
<h2 id="对负载均衡器进行负载均衡"><a href="#对负载均衡器进行负载均衡" class="headerlink" title="对负载均衡器进行负载均衡"></a>对负载均衡器进行负载均衡</h2><p><img src="/2019/04/05/图解-从单个服务器扩展到百万用户的系统/9.jpg" alt></p>
<p>到目前为止，我们一直使用一个负载均衡器，即使你购买的一些功能强悍(且其价格极其昂贵)的硬件负载均衡器，但是他们可以处理的请求量也存在硬件限制。</p>
<p>幸运地是，我们可以有一个全球性、分散且稳定的层，用于在请求达到负载均衡器之前对请求负载均衡。最棒的地方是免费，这是域名系统或简称DNS。DNS将域名(如arcentry.com)映射到IP，143.204.47.77。DNS允许我们为域名指定多个IP，每个IP都会解析到不同的负载均衡器。</p>
<p>你看，扩展Web应用确实需要考虑很多东西，感谢你和我们一起待了这么久。我希望这篇文章能给你一些有用的东西。但是如果你做任何IT领域相关的工作，你在阅读本文的时候，可能有个问题一直萦绕在你的脑海：”云服务是怎样的呢？”</p>
<h2 id="Cloud-Computing-Serverless"><a href="#Cloud-Computing-Serverless" class="headerlink" title="Cloud Computing / Serverless"></a>Cloud Computing / Serverless</h2><p>但是云服务如何呢？确实，它是上面许多问题最有效的解决方案。</p>
<p>你无需解决这些难题。相反，这些难题留给了云厂商，他们为我们提供一个系统，可以根据需求进行扩展，而不用担心错综复杂的问题。</p>
<p>例如。Arcentry网站不会执行上述讨论的任何操作(除了数据库的读写分离)，而只是把这些难题留给Amazon Web Service Lambda函数处理了，用户省去了烦恼。</p>
<p>但是,并不是说你使用了云服务以后(如 Amazon Web Service Lambda)，所有的问题都解决了,它随之而来的是一系列挑战和权衡。请继续关注本系列的下一篇文章，<br>了解更多关于”the cloud for newbs and non-techies”.</p>
<p>原文链接：<br><a href="https://arcentry.com/blog/scaling-webapps-for-newbs-and-non-techies/" target="_blank" rel="noopener">https://arcentry.com/blog/scaling-webapps-for-newbs-and-non-techies/</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/05/java文件操作-正则表达式/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lichukuan">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/user.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/05/java文件操作-正则表达式/" itemprop="url">java文件操作---正则表达式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-05T09:19:10+08:00">
                2019-04-05
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>转载<a href="http://www.jianshu.com/p/6cb7e37e9e70" target="_blank" rel="noopener">这里</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/05/java文件操作-Path和Files/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lichukuan">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/user.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/05/java文件操作-Path和Files/" itemprop="url">java文件操作---Path和Files</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-05T09:18:36+08:00">
                2019-04-05
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Path"><a href="#Path" class="headerlink" title="Path"></a>Path</h2><p><code>Path</code>是一个接口，表示一个目录名序列，还可以表示一个文件。</p>
<p>创建<code>Path</code>的方法如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Paths类的get方法</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Path <span class="title">get</span><span class="params">(String first, String... more)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Path <span class="title">get</span><span class="params">(URI uri)</span></span></span><br></pre></td></tr></table></figure>
<p>例如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Path path = Paths.get(<span class="string">"D:/"</span>, <span class="string">"abc"</span>);</span><br><span class="line">Path path2 = Paths.get(<span class="string">"/abc"</span>);</span><br><span class="line"></span><br><span class="line">URI u = URI.create(<span class="string">"file:///D:/abc/a"</span>);</span><br><span class="line">Path path3 = Paths.get(u);</span><br></pre></td></tr></table></figure>
<h2 id="Path的常用方法"><a href="#Path的常用方法" class="headerlink" title="Path的常用方法"></a>Path的常用方法</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Path <span class="title">resolve</span><span class="params">(Path other)</span></span></span><br><span class="line"><span class="function">Path <span class="title">resolve</span><span class="params">(String other)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">如果`other`是绝对路径，那么返回`other`</span>;否则，返回通过连接`<span class="keyword">this</span>`和`other`获得路径。</span><br><span class="line"></span><br><span class="line"><span class="function">Path <span class="title">resolveSibling</span><span class="params">(Path other)</span></span></span><br><span class="line"><span class="function">Path <span class="title">resolveSibling</span><span class="params">(String other)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">根据指定路径的父路径产生兄弟路径</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">Path <span class="title">relativize</span><span class="params">(Path other)</span></span></span><br><span class="line"><span class="function">利用`<span class="keyword">this</span>`进行解析，相对于`other`的相对路径</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">Path <span class="title">normalize</span><span class="params">()</span></span></span><br><span class="line"><span class="function">移除诸如`.`和`...`等冗余的路径元素</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">Path <span class="title">toAbsolutePath</span><span class="params">()</span></span></span><br><span class="line"><span class="function">返回于该路径等价的绝对路径</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">Path <span class="title">getParent</span><span class="params">()</span></span></span><br><span class="line"><span class="function">返回父路径，或者在该路径没有父路径时，返回`<span class="keyword">null</span>`</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">Path <span class="title">getFileName</span><span class="params">()</span></span></span><br><span class="line"><span class="function">返回该路径的最后一个目录或文件名，或者在该路径没有任何目录时，返回`<span class="keyword">null</span>`</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">Path <span class="title">getRoot</span><span class="params">()</span></span></span><br><span class="line"><span class="function">返回该路径的根目录，或者在该路径没有任何根目录时返回`<span class="keyword">null</span>`</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">File <span class="title">toFile</span><span class="params">()</span></span></span><br><span class="line"><span class="function">从该路径创建一个`File`对象</span></span><br></pre></td></tr></table></figure>
<p>示例如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        Path path = Paths.get(<span class="string">"/abc/a/c/m.txt"</span>);</span><br><span class="line">        System.out.println(path.toString());</span><br><span class="line">        System.out.println(path.toAbsolutePath().toString());<span class="comment">//返回绝对路径</span></span><br><span class="line">        System.out.println(path.toUri().toString());<span class="comment">//返回uri</span></span><br><span class="line">        System.out.println(path.getNameCount());<span class="comment">//返回路径数量</span></span><br><span class="line">        System.out.println(path.getParent());<span class="comment">//获取父路径</span></span><br><span class="line">        System.out.println(path.getRoot());<span class="comment">//获取路径的根目录</span></span><br><span class="line">        System.out.println(path.getFileName());<span class="comment">//返回路径的最后一个目录</span></span><br><span class="line">        System.out.println(path.resolveSibling(<span class="string">"d/e"</span>).toAbsolutePath());</span><br><span class="line">        System.out.println(path.resolveSibling(<span class="string">"f"</span>).toAbsolutePath());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//结果如下：</span></span><br><span class="line">\abc\a\c\m.txt</span><br><span class="line">D:\abc\a\c\m.txt</span><br><span class="line">file:<span class="comment">///D:/abc/a/c/m.txt</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line">\abc\a\c</span><br><span class="line">\</span><br><span class="line">m.txt</span><br><span class="line">D:\abc\a\c\d\e</span><br><span class="line">D:\abc\a\c\f</span><br></pre></td></tr></table></figure>
<h2 id="Files"><a href="#Files" class="headerlink" title="Files"></a>Files</h2><p><code>Files</code>可以让我们很简单地处理常用的文件操作。</p>
<h3 id="读写文件"><a href="#读写文件" class="headerlink" title="读写文件"></a>读写文件</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">byte</span>[] readAllBytes(Path path)</span><br><span class="line"><span class="function"><span class="keyword">static</span> List&lt;String&gt; <span class="title">readAllLines</span><span class="params">(Path,Charset charset)</span></span></span><br><span class="line"><span class="function">读取文件</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> Path <span class="title">write</span><span class="params">(Path path,<span class="keyword">byte</span>[] content,OpenOption...op)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> Path <span class="title">write</span><span class="params">(Path path,Iterable&lt;? extends CharSequence&gt; content,OpenOption op)</span></span></span><br><span class="line"><span class="function">将指定内容写入文件中，并返回path</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> InputStream <span class="title">newInputStream</span><span class="params">(Path path,OpenOption... op)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> InputStream <span class="title">newOutputStream</span><span class="params">(Path path,OpenOption... op)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> BufferedReader <span class="title">newBufferedReader</span><span class="params">(Path path,Charset charset)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> BufferedWriter <span class="title">newBufferedWriter</span><span class="params">(Path path,Charset charset,OpenOption... op)</span></span></span><br><span class="line"><span class="function">打开一个文件，用于读入或读写（注意，这几个方法适合大文件的读入或读写，中小文件应该用上面的方法）</span></span><br></pre></td></tr></table></figure>
<p>关于<code>OpenOption</code>，下面会介绍。</p>
<h3 id="创建文件和目录"><a href="#创建文件和目录" class="headerlink" title="创建文件和目录"></a>创建文件和目录</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> Path <span class="title">createFile</span><span class="params">(Path path, FileAttribute&lt;?&gt;... attrs)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> Path <span class="title">createDirectory</span><span class="params">(Path dir, FileAttribute&lt;?&gt;... attrs)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> Path <span class="title">createDirectories</span><span class="params">(Path dir, FileAttribute&lt;?&gt;... attrs)</span></span></span><br><span class="line"><span class="function">创建一个文件或目录，`createDirectory`要求路径中除最后一个部件外，其他部分都存在；</span></span><br><span class="line"><span class="function">`createDirectories`不要求；`createFile`创建空文件</span>;`FileAttribute`表示文件或目录的属性</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> Path <span class="title">createTempDirectory</span><span class="params">(Path dir,String prefix,FileAttribute&lt;?&gt;... attrs)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> Path <span class="title">createTempDirectory</span><span class="params">(Path parentDir,String prefix,String suffix,FileAttribute&lt;?&gt;... attrs)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> Path <span class="title">createTempFile</span><span class="params">(Path dir,String prefix,FileAttribute&lt;?&gt;... attrs)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> Path <span class="title">createTempFile</span><span class="params">(Path parentDir,String prefix,String suffix,FileAttribute&lt;?&gt;... attrs)</span></span></span><br><span class="line"><span class="function">创建临时文件，并返回创建的文件和目录的路径</span></span><br></pre></td></tr></table></figure>
<h3 id="复制，移动和删除文件"><a href="#复制，移动和删除文件" class="headerlink" title="复制，移动和删除文件"></a>复制，移动和删除文件</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> Path <span class="title">Copy</span><span class="params">(Path from,Path to,CopyOption...op)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> Path <span class="title">move</span><span class="params">(Path from,Path to,CopyOption...op)</span></span></span><br><span class="line"><span class="function">将`from`复制或移动到`to`位置，并返回`to`</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">long</span> <span class="title">Copy</span><span class="params">(InputStream from,Path to,CopyOption...op)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">long</span> <span class="title">Copy</span><span class="params">(InputStream from,OutputStream to,CopyOption...op)</span></span></span><br><span class="line"><span class="function">从输入流复制到文件中，或者从文件复制到输出流中，返回复制的字节数</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">(Path path)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">deleteIfExists</span><span class="params">(Path path)</span></span></span><br><span class="line"><span class="function">删除指定的文件或路径。第一种方法在文件或路径不存在时抛出异常，而第二种</span></span><br><span class="line"><span class="function">方法在这种情况下返回`<span class="keyword">false</span>`</span></span><br></pre></td></tr></table></figure>
<h3 id="用于操作文件的标准选项"><a href="#用于操作文件的标准选项" class="headerlink" title="用于操作文件的标准选项"></a>用于操作文件的标准选项</h3><p><img src="/2019/04/05/java文件操作-Path和Files/option1.jpg" alt><br><img src="/2019/04/05/java文件操作-Path和Files/option2.jpg" alt></p>
<h3 id="获取文件信息"><a href="#获取文件信息" class="headerlink" title="获取文件信息"></a>获取文件信息</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">exists</span><span class="params">(Path path)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isHidden</span><span class="params">(Path path)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isReadable</span><span class="params">(Path path)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isWritable</span><span class="params">(Path path)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isExecutable</span><span class="params">(Path path)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isRegularFile</span><span class="params">(Path path)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isDirectory</span><span class="params">(Path path)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isSymbolicLink</span><span class="params">(Path path)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">long</span> <span class="title">size</span><span class="params">(Path path)</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> A <span class="title">readAttributes</span><span class="params">(Path path,Class&lt;A&gt; type,LinkOption...op)</span><span class="comment">//读取类型为A的属性</span></span></span><br></pre></td></tr></table></figure>
<p>可以通过<code>readAttributes</code>方法获取<code>BasicFileAttributes</code>接口，这个接口储存了文件的基本信息,例如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BasicFileAttributes attributes = Files.readAttributes(Paths.get(<span class="string">"/abc/a"</span>),BasicFileAttributes.class);</span><br></pre></td></tr></table></figure>
<p><code>BasicFileAttributes</code>的方法有</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">FileTime <span class="title">creationTime</span><span class="params">()</span></span></span><br><span class="line"><span class="function">FileTime <span class="title">lastAccessTime</span><span class="params">()</span></span></span><br><span class="line"><span class="function">FileTime <span class="title">lastModifiedTime</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">isRegularFile</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">isDirectory</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">isSymbolicLink</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">size</span><span class="params">()</span></span></span><br><span class="line"><span class="function">Object <span class="title">fileKey</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure>
<h3 id="访问目录的项"><a href="#访问目录的项" class="headerlink" title="访问目录的项"></a>访问目录的项</h3>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/03/java文件操作-IO/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lichukuan">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/user.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/03/java文件操作-IO/" itemprop="url">java文件操作---IO</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-03T20:15:04+08:00">
                2019-04-03
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="字节输入-输出流的介绍"><a href="#字节输入-输出流的介绍" class="headerlink" title="字节输入/输出流的介绍"></a>字节输入/输出流的介绍</h2><table>
<thead>
<tr>
<th>字节流</th>
<th>所在包</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>InputStream/OutputStream</td>
<td>java.io</td>
<td>抽象类</td>
</tr>
<tr>
<td>ByteArrayInputStream/ByteArrayOutputStream</td>
<td>java.io</td>
<td>字节数组输入/输出流</td>
</tr>
<tr>
<td>FileInputStream/FileOutputStream</td>
<td>java.io</td>
<td>文件输入/输出流</td>
</tr>
<tr>
<td>SequenceInputStream</td>
<td>java.io</td>
<td>SequenceInputStream类可以将几个输入流串联在一起，合并为一个输入流</td>
</tr>
<tr>
<td>PipedInputStream</td>
<td>java.io</td>
<td>管道输入/输出流,让多线程可以通过管道进行线程间的通讯</td>
</tr>
<tr>
<td>FilterInputStream/FilterOutputStream</td>
<td>java.io</td>
<td>过滤器字节输入/输出流</td>
</tr>
<tr>
<td>ObjectInputStream/ObjectOutputStream</td>
<td>java.io</td>
<td>对象的序列化流</td>
</tr>
<tr>
<td>BufferedInputStream/BufferedOutputStream</td>
<td>java.io</td>
<td>缓冲输入/输出流</td>
</tr>
<tr>
<td>PushbackInputStream</td>
<td>java.io</td>
<td>PushbackInputStream可以预览下一个字节，不需要时可以推回流中</td>
</tr>
<tr>
<td>DataInputStream/DataOutputStream</td>
<td>java.io</td>
<td>是两个与平台无关的数据操作流</td>
</tr>
<tr>
<td>PrintStream</td>
<td>java.io</td>
<td>打印流可以打印任意类型的数据，而不用先转化为字符类型</td>
</tr>
<tr>
<td>AudioInputStream</td>
<td>javax.sound.sampled</td>
<td>用于音频的流</td>
</tr>
<tr>
<td>CheckedInputStream/CheckedOutputStream</td>
<td>java.util.zip</td>
<td></td>
</tr>
<tr>
<td>InflaterInputStream/DeflaterInputStream</td>
<td>java.util.zip</td>
<td></td>
</tr>
<tr>
<td>CipherInputStream/CipherOutputStream</td>
<td>javax.crypto</td>
<td>对数据进行加密/解密的流</td>
</tr>
<tr>
<td>DigestInputStream/DigestOutputStream</td>
<td>java.security</td>
<td>对数据进行加密/解密的流</td>
</tr>
<tr>
<td>ProgressMonitorInputStream</td>
<td>javax.swing</td>
<td>监视读取某些 InputStream 的进度</td>
</tr>
<tr>
<td>LineNumberInputStream</td>
<td>java.io</td>
<td>已废弃</td>
</tr>
<tr>
<td>StringBufferInputStream</td>
<td>java.io</td>
<td>已经废弃</td>
</tr>
</tbody>
</table>
<h2 id="字符输入-输出流"><a href="#字符输入-输出流" class="headerlink" title="字符输入/输出流"></a>字符输入/输出流</h2><table>
<thead>
<tr>
<th>字符流</th>
<th>包</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>Reader/Writer</td>
<td>java.io</td>
<td>字符读写的抽象类</td>
</tr>
<tr>
<td>CharArrayReader/CharArrayWriter</td>
<td>java.io</td>
<td>字符数组输入/输出流，操作的数据是以字符为单位</td>
</tr>
<tr>
<td>PipedReader/PipedWriter</td>
<td>java.io</td>
<td>字符管道输入/输出流，作用是可以通过管道进行线程间的通讯</td>
</tr>
<tr>
<td>FilterReader/FilterWriter</td>
<td>java.io</td>
<td>字符过滤流与 字节过滤流的原理一致，都是通过操作要过滤的流本身的方法来实现。不同就是字符过滤流是抽象类，而字节过滤流不是</td>
</tr>
<tr>
<td>StringReader/StringWriter</td>
<td>java.io</td>
<td>字符串输入/输出流其本质就是字符串</td>
</tr>
<tr>
<td>BufferedReader/BufferedWriter</td>
<td>java.io</td>
<td>缓冲字符输入/输出流</td>
</tr>
<tr>
<td>PushbackReader</td>
<td>java.io</td>
<td>PushbackInputStream可以预览下一个字符，不需要时可以推回流中</td>
</tr>
<tr>
<td>LineNumberReader</td>
<td>java.io</td>
<td>LineNumberReader可以支持从任意行读取的功能</td>
</tr>
<tr>
<td>FileReader/FileWriter</td>
<td>java.io</td>
<td>文件字符输入/输出流</td>
</tr>
<tr>
<td>InputStreamReader/InputStreamWriter</td>
<td>java.io</td>
<td>转换流，将字节流转换为字符流</td>
</tr>
<tr>
<td>PrintWriter</td>
<td>java.io</td>
<td>字符类型的打印输出流</td>
</tr>
</tbody>
</table>
<h2 id="FilterInputStream-FilterOutputStream"><a href="#FilterInputStream-FilterOutputStream" class="headerlink" title="FilterInputStream/FilterOutputStream"></a>FilterInputStream/FilterOutputStream</h2><p><code>FilterInputStream/FilterOutputStream</code>类及其子类可以动态给流对象添加功能(利用了装饰者模式),例如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//组合FilterInputStream子类和非FilterInputStream子类</span></span><br><span class="line">DataInputStream data = <span class="keyword">new</span> DataInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">"hello.txt"</span>));</span><br><span class="line"><span class="comment">//组合FilterInputStream子类和FilterInputStream子类时，要注意顺序,最后构造的类的方法最后使用</span></span><br><span class="line">DataInputStream data1 = <span class="keyword">new</span> DataInputStream(<span class="keyword">new</span> BufferedInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">"hello.txt"</span>)));</span><br><span class="line"></span><br><span class="line">BufferedInputStream data2 = <span class="keyword">new</span> BufferedInputStream(<span class="keyword">new</span> DataInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">"hello.txt"</span>)));</span><br></pre></td></tr></table></figure>
<h3 id="Zip"><a href="#Zip" class="headerlink" title="Zip"></a>Zip</h3><h3 id="AudioInputStream"><a href="#AudioInputStream" class="headerlink" title="AudioInputStream"></a>AudioInputStream</h3><p>音频输入流是具有指定音频格式和长度的输入流。长度用示例帧表示，不用字节表示。提供几种方法，用于从流读取一定数量的字节，或未指定数量的字节。音频输入流跟踪所读取的最后一个字节。可以跳过任意数量的字节以到达稍后的读取位置。音频输入流可支持标记。设置标记时，会记住当前位置，以便可以稍后返回到该位置。</p>
<h3 id="ByteArrayInputStream"><a href="#ByteArrayInputStream" class="headerlink" title="ByteArrayInputStream"></a>ByteArrayInputStream</h3><p>ByteArrayInputStream 是字节数组输入流。它继承于InputStream。<br>它包含一个内部缓冲区，该缓冲区包含从流中读取的字节；通俗点说，它的内部缓冲区就是一个字节数组，而ByteArrayInputStream本质就是通过字节数组来实现的</p>
<h3 id="FileInputStream"><a href="#FileInputStream" class="headerlink" title="FileInputStream"></a>FileInputStream</h3><h3 id="SequenceInputStream"><a href="#SequenceInputStream" class="headerlink" title="SequenceInputStream"></a>SequenceInputStream</h3><p>可以把多个输入流串联起来读取，先从第一个开始i读取，然后再下一个….<br>序列流是没有读取文件的能力</p>
<p><a href="https://www.jianshu.com/p/0f746f184a4f" target="_blank" rel="noopener">https://www.jianshu.com/p/0f746f184a4f</a></p>
<h3 id="StringBufferInputStream"><a href="#StringBufferInputStream" class="headerlink" title="StringBufferInputStream"></a>StringBufferInputStream</h3><p>已废弃</p>
<h3 id="PipedInputStream"><a href="#PipedInputStream" class="headerlink" title="PipedInputStream"></a>PipedInputStream</h3><p><a href="https://www.cnblogs.com/skywang12345/p/io_04.html" target="_blank" rel="noopener">https://www.cnblogs.com/skywang12345/p/io_04.html</a></p>
<p>管道输入流。它的作用是让多线程可以通过管道进行线程间的通讯</p>
<h3 id="FilterInputStream"><a href="#FilterInputStream" class="headerlink" title="FilterInputStream"></a>FilterInputStream</h3><p><a href="https://www.cnblogs.com/xinhuaxuan/p/6054219.html" target="_blank" rel="noopener">https://www.cnblogs.com/xinhuaxuan/p/6054219.html</a></p>
<p>FilterInputStream、FilterOutputStream 过滤器字节输入流、输出流，这里用到了装饰器模式，它的主要用途在于给一个对象动态的添加功能。</p>
<h3 id="ObjectInputStream"><a href="#ObjectInputStream" class="headerlink" title="ObjectInputStream"></a>ObjectInputStream</h3><p>ObjectOutputStream 将 Java 对象的基本数据类型和图形写入 OutputStream。可以使用 ObjectInputStream 读取（重构）对象。通过在流中使用文件可以实现对象的持久存储。如果流是网络套接字流，则可以在另一台主机上或另一个进程中重构对象。</p>
<p>只能将支持 java.io.Serializable 接口的对象写入流中<br><a href="https://blog.csdn.net/chaoyu168/article/details/49766485" target="_blank" rel="noopener">https://blog.csdn.net/chaoyu168/article/details/49766485</a> </p>
<h3 id="BufferedInputStream"><a href="#BufferedInputStream" class="headerlink" title="BufferedInputStream"></a>BufferedInputStream</h3><p>BufferedInputStream 是缓冲输入流。它继承于FilterInputStream。<br>BufferedInputStream 的作用是为另一个输入流添加一些功能，例如，提供“缓冲功能”以及支持“mark()标记”和“reset()重置方法”。<br>BufferedInputStream 本质上是通过一个内部缓冲区数组实现的。例如，在新建某输入流对应的BufferedInputStream后，当我们通过read()读取输入流的数据时，BufferedInputStream会将该输入流的数据分批的填入到缓冲区中。每当缓冲区中的数据被读完之后，输入流会再次填充数据缓冲区；如此反复，直到我们读完输入流数据位置。</p>
<p><a href="http://www.cnblogs.com/skywang12345/p/io_12.html" target="_blank" rel="noopener">http://www.cnblogs.com/skywang12345/p/io_12.html</a></p>
<h3 id="CheckedInputStream"><a href="#CheckedInputStream" class="headerlink" title="CheckedInputStream"></a>CheckedInputStream</h3><p> CheckedInputStream和CheckedOutputStream<br>     这是两个过滤流，用于维护数据校验和。校验和是用于维护数据完整性的一项技术。</p>
<h3 id="CipherInputStream"><a href="#CipherInputStream" class="headerlink" title="CipherInputStream"></a>CipherInputStream</h3><p>CipherInputStream是由InputStream和一个Cipher组成,read()方法在读入时,对数据进行加解密操作</p>
<p><a href="https://blog.csdn.net/zmken497300/article/details/51918109" target="_blank" rel="noopener">https://blog.csdn.net/zmken497300/article/details/51918109</a></p>
<h3 id="DigestInputStream"><a href="#DigestInputStream" class="headerlink" title="DigestInputStream"></a>DigestInputStream</h3><p>MD5加密文件</p>
<h3 id="InflaterInputStream"><a href="#InflaterInputStream" class="headerlink" title="InflaterInputStream"></a>InflaterInputStream</h3><p>此类实现了一个流过滤器，用于以<em>“deflate”压缩格式解压缩数据。它还用作其他</em>解压缩过滤器的基础，例如GZIPInputStream。</p>
<h3 id="LineNumberInputStream"><a href="#LineNumberInputStream" class="headerlink" title="LineNumberInputStream"></a>LineNumberInputStream</h3><p>跟踪输入流中的行号；可调用getLineNumber()和setLineNumber(int)</p>
<h3 id="PushbackInputStream"><a href="#PushbackInputStream" class="headerlink" title="PushbackInputStream"></a>PushbackInputStream</h3><p>PushbackInputStream<br>具有“能弹出一个字节的缓冲区”。因此可以将读到的最后一个字符回退<br>通常作为编译器的扫描器，之所以包含在内是因为Java编译器的需要，我们基本上用不到</p>
<h3 id="DataInputStream"><a href="#DataInputStream" class="headerlink" title="DataInputStream"></a>DataInputStream</h3><p>与DataOutputStream搭配使用，因此我们可以按照可移植方式从流读取基本数据类型（int,char,long等）<br>包含用于读取基本类型数据的全部接口</p>
<h3 id="ProgressMonitorInputStream"><a href="#ProgressMonitorInputStream" class="headerlink" title="ProgressMonitorInputStream"></a>ProgressMonitorInputStream</h3><p>监视读取某些 InputStream 的进度。大致用以下形式调用此 ProgressMonitor： </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">InputStream in = <span class="keyword">new</span> BufferedInputStream(</span><br><span class="line">                         <span class="keyword">new</span> ProgressMonitorInputStream(</span><br><span class="line">                                 parentComponent,</span><br><span class="line">                                 <span class="string">"Reading "</span> + fileName,</span><br><span class="line">                                 <span class="keyword">new</span> FileInputStream(fileName)));<span class="number">12345</span></span><br></pre></td></tr></table></figure>
<p>这可以创建一个进度监视器，以监视读取输入流的进度。如果需要一段时间，将会弹出 ProgressDialog，以通知用户。如果用户单击 Cancel 按钮，则在进行下一次读取操作时会抛出 InterruptedIOException。当关闭流时，会执行所有的正确清除。</p>
<p><a href="https://blog.csdn.net/zmken497300/article/details/51924434" target="_blank" rel="noopener">https://blog.csdn.net/zmken497300/article/details/51924434</a></p>
<h3 id="PrintStream"><a href="#PrintStream" class="headerlink" title="PrintStream"></a>PrintStream</h3><p><a href="https://www.jianshu.com/p/88e576067f53" target="_blank" rel="noopener">https://www.jianshu.com/p/88e576067f53</a></p>
<p>打印流可以打印任意类型的数据。</p>
<h3 id="DeflaterOutputStream"><a href="#DeflaterOutputStream" class="headerlink" title="DeflaterOutputStream"></a>DeflaterOutputStream</h3><p><a href="https://www.cnblogs.com/kabi/p/6169430.html" target="_blank" rel="noopener">https://www.cnblogs.com/kabi/p/6169430.html</a></p>
<h2 id="Reader"><a href="#Reader" class="headerlink" title="Reader"></a>Reader</h2><h3 id="CharArrayReader"><a href="#CharArrayReader" class="headerlink" title="CharArrayReader"></a>CharArrayReader</h3><p>CharArrayReader 是字符数组输入流。它和ByteArrayInputStream类似，只不过ByteArrayInputStream是字节数组输入流，而CharArray是字符数组输入流。CharArrayReader 是用于读取字符数组，它继承于Reader。操作的数据是以字符为单位！</p>
<h3 id="PipedReader"><a href="#PipedReader" class="headerlink" title="PipedReader"></a>PipedReader</h3><p>PipedWriter 是字符管道输出流，它继承于Writer。<br>PipedReader 是字符管道输入流，它继承于Writer。<br>PipedWriter和PipedReader的作用是可以通过管道进行线程间的通讯</p>
<p><a href="http://www.cnblogs.com/skywang12345/p/io_20.html" target="_blank" rel="noopener">http://www.cnblogs.com/skywang12345/p/io_20.html</a></p>
<h3 id="FilterReader"><a href="#FilterReader" class="headerlink" title="FilterReader"></a>FilterReader</h3><p>字符过滤流（FilterReader/FilterWriter）与 字节过滤流（FilterInputStream / FilterOutputStream ）的原理一致，都是通过操作要过滤的流本身的方法来实现。<br>不同就是字符过滤流是抽象类，而字节过滤流不是</p>
<h3 id="StringReader"><a href="#StringReader" class="headerlink" title="StringReader"></a>StringReader</h3><p>本篇将要讲述的是java io包中的StringReader和StringWriter。这两个类都是Reader和Writer的装饰类，使它们拥有了对String类型数据进行操作的能力。</p>
<p><a href="https://blog.csdn.net/moonfish0607/article/details/78320363" target="_blank" rel="noopener">https://blog.csdn.net/moonfish0607/article/details/78320363</a></p>
<h3 id="BufferedReader"><a href="#BufferedReader" class="headerlink" title="BufferedReader"></a>BufferedReader</h3><p>BufferedReader 是缓冲字符输入流。它继承于Reader。<br>BufferedReader 的作用是为其他字符输入流添加一些缓冲功能。</p>
<p><a href="http://www.cnblogs.com/skywang12345/p/io_23.html" target="_blank" rel="noopener">http://www.cnblogs.com/skywang12345/p/io_23.html</a></p>
<h3 id="PushbackReader"><a href="#PushbackReader" class="headerlink" title="PushbackReader"></a>PushbackReader</h3><p>这里将 PushbackInputStream 和 PushbackReader 放到一起讨论主要是二者的原理机制几乎一模一样，掌握其一即可。它们分别表示 字节推回流、字符推回流。</p>
<p><a href="https://blog.csdn.net/u012420654/article/details/51549393" target="_blank" rel="noopener">https://blog.csdn.net/u012420654/article/details/51549393</a></p>
<h3 id="LineNumberReader"><a href="#LineNumberReader" class="headerlink" title="LineNumberReader"></a>LineNumberReader</h3><p>LineNumberReader可以支持从任意行读取的功能，并且提供了setLineNumber()的方法，但是这个按照并不能改变文件指针的位置，只是你调用getLineNumber()这个函数时，结果会变</p>
<p><a href="http://www.cnblogs.com/jokerSun/p/4172833.html" target="_blank" rel="noopener">http://www.cnblogs.com/jokerSun/p/4172833.html</a></p>
<h3 id="FileReader"><a href="#FileReader" class="headerlink" title="FileReader"></a>FileReader</h3><h3 id="InputStreamReader"><a href="#InputStreamReader" class="headerlink" title="InputStreamReader"></a>InputStreamReader</h3><p>转换流-InputStreamReader、OutputStreamWriter</p>
<p><a href="https://www.cnblogs.com/zhaoyanjun/p/6376996.html" target="_blank" rel="noopener">https://www.cnblogs.com/zhaoyanjun/p/6376996.html</a></p>
<h3 id="PrintWriter"><a href="#PrintWriter" class="headerlink" title="PrintWriter"></a>PrintWriter</h3><p>PrintWriter 是字符类型的打印输出流，它继承于Writer。<br>PrintStream 用于向文本输出流打印对象的格式化表示形式。它实现在 PrintStream 中的所有 print 方法。它不包含用于写入原始字节的方法，对于这些字节，程序应该使用未编码的字节流进行写入。</p>
<p><a href="https://www.cnblogs.com/skywang12345/p/io_25.html" target="_blank" rel="noopener">https://www.cnblogs.com/skywang12345/p/io_25.html</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/03/vscode的快捷键/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lichukuan">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/user.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/03/vscode的快捷键/" itemprop="url">vscode的快捷键</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-03T17:35:34+08:00">
                2019-04-03
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/工具的使用/" itemprop="url" rel="index">
                    <span itemprop="name">工具的使用</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>转载<a href="https://lzw.me/a/vscode-visual-studio-code-shortcut.html#" target="_blank" rel="noopener">vscode: Visual Studio Code 常用快捷键</a></p>
<h2 id="主命令框"><a href="#主命令框" class="headerlink" title="主命令框"></a>主命令框</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">F1 或 Ctrl+Shift+P : 打开命令面板。在打开的输入框内，可以输入任何命令，例如：</span><br><span class="line">按一下 Backspace 会进入到 Ctrl+P 模式</span><br><span class="line">在 Ctrl+P 下输入 &gt; 可以进入 Ctrl+Shift+P 模式</span><br><span class="line">在 Ctrl+P 窗口下还可以:</span><br><span class="line">-直接输入文件名，跳转到文件</span><br><span class="line"></span><br><span class="line">? 列出当前可执行的动作</span><br><span class="line">! 显示 Errors或 Warnings，也可以 Ctrl+Shift+M</span><br><span class="line">: 跳转到行数，也可以 Ctrl+G 直接进入</span><br><span class="line">@ 跳转到 symbol（搜索变量或者函数），也可以 Ctrl+Shift+O 直接进入</span><br><span class="line">@ 根据分类跳转 symbol，查找属性或函数，也可以 Ctrl+Shift+O 后输入:进入</span><br></pre></td></tr></table></figure>
<h2 id="根据名字查找-symbol，也可以-Ctrl-T"><a href="#根据名字查找-symbol，也可以-Ctrl-T" class="headerlink" title="根据名字查找 symbol，也可以 Ctrl+T"></a>根据名字查找 symbol，也可以 Ctrl+T</h2><h2 id="编辑器与窗口管理"><a href="#编辑器与窗口管理" class="headerlink" title="编辑器与窗口管理"></a>编辑器与窗口管理</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">打开一个新窗口： Ctrl+Shift+N</span><br><span class="line">关闭窗口： Ctrl+Shift+W</span><br><span class="line">同时打开多个编辑器（查看多个文件）</span><br><span class="line">新建文件 Ctrl+N</span><br><span class="line">文件之间切换 Ctrl+Tab</span><br><span class="line">切出一个新的编辑器（最多 <span class="number">3</span> 个） Ctrl+\，也可以按住 Ctrl 鼠标点击 Explorer 里的文件名</span><br><span class="line">左中右 <span class="number">3</span> 个编辑器的快捷键 Ctrl+<span class="number">1</span> Ctrl+<span class="number">2</span> Ctrl+<span class="number">3</span></span><br><span class="line"><span class="number">3</span> 个编辑器之间循环切换 Ctrl+</span><br><span class="line">编辑器换位置， Ctrl+k然后按 Left或 Right</span><br></pre></td></tr></table></figure>
<h2 id="代码编辑"><a href="#代码编辑" class="headerlink" title="代码编辑"></a>代码编辑</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">代码行缩进: Ctrl+[ 、 Ctrl+]</span><br><span class="line">Ctrl+C 、 Ctrl+V 复制或剪切当前行/当前选中内容</span><br><span class="line">代码格式化： Shift+Alt+F，或 Ctrl+Shift+P 后输入 format code</span><br><span class="line">上下移动一行： Alt+Up 或 Alt+Down</span><br><span class="line">向上向下复制一行： Shift+Alt+Up 或 Shift+Alt+Down</span><br><span class="line">在当前行下边插入一行: Ctrl+Enter</span><br><span class="line">在当前行上方插入一行 Ctrl+Shift+Enter</span><br></pre></td></tr></table></figure>
<h2 id="光标相关"><a href="#光标相关" class="headerlink" title="光标相关"></a>光标相关</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">移动到行首： Home</span><br><span class="line">移动到行尾： End</span><br><span class="line">移动到文件结尾： Ctrl+End</span><br><span class="line">移动到文件开头： Ctrl+Home</span><br><span class="line">移动到定义处： F12</span><br><span class="line">定义处缩略图：只看一眼而不跳转过去 Alt+F12</span><br><span class="line">移动到后半个括号： Ctrl+Shift+]</span><br><span class="line">选择从光标到行尾： Shift+End</span><br><span class="line">选择从行首到光标处： Shift+Home</span><br><span class="line">删除光标右侧的所有字： Ctrl+Delete</span><br><span class="line">扩展/缩小选取范围： Shift+Alt+Left 和 Shift+Alt+Right</span><br><span class="line">多行编辑(列编辑)：Alt+Shift+鼠标左键， Ctrl+Alt+Down/Up</span><br><span class="line">同时选中所有匹配： Ctrl+Shift+L</span><br><span class="line">Ctrl+D 下一个匹配的也被选中 (在 sublime 中是删除当前行，后面自定义快键键中，设置与 Ctrl+Shift+K 互换了)</span><br><span class="line">回退上一个光标操作： Ctrl+U</span><br><span class="line">选中所有匹配词批量编辑：鼠标高亮选中需要查找的词，按下 Ctrl + Shift + L键，即可快速选中当前文件中所有匹配的词，并在每一个词后面有一个编辑光标，可批量同步编辑</span><br></pre></td></tr></table></figure>
<h2 id="重构代码"><a href="#重构代码" class="headerlink" title="重构代码"></a>重构代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">找到所有的引用： Shift+F12</span><br><span class="line">同时修改本文件中所有匹配的： Ctrl+F12</span><br><span class="line">重命名：比如要修改一个方法名，可以选中后按 F2，输入新名字，回车，则所有该方法的引用也都同步更新了</span><br><span class="line">跳转到下一个 Error 或 Warning：当有多个错误时可以按 F8 逐个跳转</span><br><span class="line">查看 diff： 在 explorer 里选择文件右键 Set file tocompare，然后需要对比的文件上右键选择 Compare with file_name_you_chose</span><br><span class="line">查找替换</span><br><span class="line">查找 Ctrl+F</span><br><span class="line">查找替换 Ctrl+H</span><br><span class="line">整个文件夹中查找 Ctrl+Shift+F</span><br></pre></td></tr></table></figure>
<h2 id="显示相关"><a href="#显示相关" class="headerlink" title="显示相关"></a>显示相关</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">全屏：F11</span><br><span class="line">zoomIn/zoomOut：Ctrl +/-</span><br><span class="line">侧边栏显/隐： Ctrl+B</span><br><span class="line">显示资源管理器 Ctrl+Shift+E</span><br><span class="line">显示搜索 Ctrl+Shift+F</span><br><span class="line">显示 Git Ctrl+Shift+G</span><br><span class="line">显示 Debug Ctrl+Shift+D</span><br><span class="line">显示 Output Ctrl+Shift+U</span><br></pre></td></tr></table></figure>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">自动保存：File -&gt; AutoSave，或者 Ctrl+Shift+P，输入 auto</span><br><span class="line">修改默认快捷键</span><br><span class="line">打开默认键盘快捷方式设置：File -&gt; Preferences -&gt; Keyboard Shortcuts，或者：Alt+F -&gt; p -&gt; k</span><br></pre></td></tr></table></figure>
<h2 id="修改-keybindings-json："><a href="#修改-keybindings-json：" class="headerlink" title="修改 keybindings.json："></a>修改 keybindings.json：</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">// Place your key bindings in this file to overwrite the defaults</span><br><span class="line">[</span><br><span class="line">    // ctrl+space 被切换输入法快捷键占用</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"key"</span>: <span class="string">"ctrl+alt+space"</span>,</span><br><span class="line">        <span class="attr">"command"</span>: <span class="string">"editor.action.triggerSuggest"</span>,</span><br><span class="line">        <span class="attr">"when"</span>: <span class="string">"editorTextFocus"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    // ctrl+d 删除一行</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"key"</span>: <span class="string">"ctrl+d"</span>,</span><br><span class="line">        <span class="attr">"command"</span>: <span class="string">"editor.action.deleteLines"</span>,</span><br><span class="line">        <span class="attr">"when"</span>: <span class="string">"editorTextFocus"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    // 与删除一行的快捷键互换</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"key"</span>: <span class="string">"ctrl+shift+k"</span>,</span><br><span class="line">        <span class="attr">"command"</span>: <span class="string">"editor.action.addSelectionToNextFindMatch"</span>,</span><br><span class="line">        <span class="attr">"when"</span>: <span class="string">"editorFocus"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    // ctrl+shift+/多行注释</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"key"</span>:<span class="string">"ctrl+shift+/"</span>,</span><br><span class="line">        <span class="attr">"command"</span>: <span class="string">"editor.action.blockComment"</span>,</span><br><span class="line">        <span class="attr">"when"</span>: <span class="string">"editorTextFocus"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    // 定制与 sublime 相同的大小写转换快捷键</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"key"</span>: <span class="string">"ctrl+k ctrl+u"</span>,</span><br><span class="line">        <span class="attr">"command"</span>: <span class="string">"editor.action.transformToUppercase"</span>,</span><br><span class="line">        <span class="attr">"when"</span>: <span class="string">"editorTextFocus"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"key"</span>: <span class="string">"ctrl+k ctrl+l"</span>,</span><br><span class="line">        <span class="attr">"command"</span>: <span class="string">"editor.action.transformToLowercase"</span>,</span><br><span class="line">        <span class="attr">"when"</span>: <span class="string">"editorTextFocus"</span></span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h2 id="前端开发必备插件"><a href="#前端开发必备插件" class="headerlink" title="前端开发必备插件"></a>前端开发必备插件</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">PostCSS Sorting</span><br><span class="line">stylelint</span><br><span class="line">stylefmt</span><br><span class="line">ESLint</span><br><span class="line">javascript standard format</span><br><span class="line">beautify</span><br><span class="line">Babel ES6/ES7</span><br><span class="line">Debugger <span class="keyword">for</span> Chrome</span><br><span class="line">Add jsdoc comments</span><br><span class="line">javascript(ES6) code snippets</span><br><span class="line">vue</span><br><span class="line">weex</span><br><span class="line">Reactjs code snippets</span><br><span class="line">React Native Tools</span><br><span class="line">Npm Intellisense</span><br><span class="line">Instant Markdown</span><br><span class="line">Markdown Shortcuts</span><br><span class="line">TextTransform</span><br><span class="line">使用等宽字体：</span><br><span class="line">Fira Code</span><br></pre></td></tr></table></figure>
<h2 id="vscode-自定义配置参考："><a href="#vscode-自定义配置参考：" class="headerlink" title="vscode 自定义配置参考："></a>vscode 自定义配置参考：</h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"editor.fontSize"</span>: <span class="number">16</span>,</span><br><span class="line">    <span class="attr">"editor.tabSize"</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="attr">"editor.fontLigatures"</span>: <span class="literal">true</span>,</span><br><span class="line">        // 使用等宽字体 Fira Code</span><br><span class="line">    "editor.fontFamily": "Fira Code, 'Noto Sans CJK SC Medium', Consolas, 'Courier New', monospace",</span><br><span class="line">        // 关闭右侧的 minimap</span><br><span class="line">    "editor.minimap.enabled": false,</span><br><span class="line">    "editor.minimap.renderCharacters": false,</span><br><span class="line">    "files.associations": &#123;</span><br><span class="line">        "*.es": "javascript",</span><br><span class="line">        "*.es6": "javascript"</span><br><span class="line">    &#125;,</span><br><span class="line">    // 控制编辑器是否应呈现空白字符</span><br><span class="line">    "editor.renderWhitespace": "all",</span><br><span class="line">    // 启用后，将在保存文件时剪裁尾随空格。</span><br><span class="line">    "files.trimTrailingWhitespace": true,</span><br><span class="line">    // File extensions that can be beautified as javascript or JSON.</span><br><span class="line">    "beautify.JSfiles": [</span><br><span class="line">        "",</span><br><span class="line">        "es",</span><br><span class="line">        "es6",</span><br><span class="line">        "js",</span><br><span class="line">        "json",</span><br><span class="line">        "jsbeautifyrc",</span><br><span class="line">        <span class="string">"jshintrc"</span></span><br><span class="line">    ],</span><br><span class="line">    // 关闭 git 自动刷新、fetch、add 操作</span><br><span class="line">    "git.enableSmartCommit": false,</span><br><span class="line">    "git.enabled": true,</span><br><span class="line">    "git.autorefresh": false,</span><br><span class="line">    "git.autofetch": false,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>更多参考官方快捷键大全：<a href="https://code.visualstudio.com/docs/customization/keybindings" target="_blank" rel="noopener">https://code.visualstudio.com/docs/customization/keybindings</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/02/java流库/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lichukuan">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/user.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/02/java流库/" itemprop="url">java流库</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-02T20:22:30+08:00">
                2019-04-02
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/02/java图片处理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lichukuan">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/user.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/02/java图片处理/" itemprop="url">java图片处理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-02T19:32:46+08:00">
                2019-04-02
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>转载<a href="https://juejin.im/entry/5b205d49f265da6e3e37ed79" target="_blank" rel="noopener">Thumbnailator轻松搞定图片缩放、旋转、加水印</a></p>
<p><a href="https://github.com/coobird/thumbnailator" target="_blank" rel="noopener">Thumbnailator的GitHub地址</a></p>
<h2 id="Maven依赖"><a href="#Maven依赖" class="headerlink" title="Maven依赖"></a>Maven依赖</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>net.coobird<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>thumbnailator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.4.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="Gradle依赖"><a href="#Gradle依赖" class="headerlink" title="Gradle依赖"></a>Gradle依赖</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">implementation group: &apos;net.coobird&apos;, name: &apos;thumbnailator&apos;, version: &apos;0.4.1&apos;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/02/json的处理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lichukuan">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/user.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/02/json的处理/" itemprop="url">json的处理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-02T19:32:32+08:00">
                2019-04-02
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="JAVA中常用的JSON解析方式"><a href="#JAVA中常用的JSON解析方式" class="headerlink" title="JAVA中常用的JSON解析方式"></a>JAVA中常用的JSON解析方式</h2><ul>
<li>JSON官方,<a href="http://www.json.org/json-zh.html" target="_blank" rel="noopener">官网下载</a></li>
<li>GSON 谷歌的框架</li>
<li>FastJSON 阿里的框架</li>
<li>jackson Spring自带框架</li>
</ul>
<h2 id="Gson的下载"><a href="#Gson的下载" class="headerlink" title="Gson的下载"></a>Gson的下载</h2><h3 id="Gradle依赖"><a href="#Gradle依赖" class="headerlink" title="Gradle依赖"></a>Gradle依赖</h3><p>在<code>Gradle</code>中添加依赖</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">implementation &apos;com.google.code.gson:gson:2.8.5&apos;</span><br></pre></td></tr></table></figure>
<h3 id="Maven依赖"><a href="#Maven依赖" class="headerlink" title="Maven依赖"></a>Maven依赖</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.google.code.gson<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>gson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.8.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="Gson教程"><a href="#Gson教程" class="headerlink" title="Gson教程"></a>Gson教程</h2><ul>
<li><a href="https://www.jianshu.com/p/e740196225a4" target="_blank" rel="noopener">你真的会用Gson吗?Gson使用指南（一）</a></li>
<li><a href="https://www.jianshu.com/p/c88260adaf5e" target="_blank" rel="noopener">你真的会用Gson吗?Gson使用指南（二）</a></li>
<li><a href="https://www.jianshu.com/p/0e40a52c0063" target="_blank" rel="noopener">你真的会用Gson吗?Gson使用指南（三）</a></li>
<li><a href="https://www.jianshu.com/p/3108f1e44155" target="_blank" rel="noopener">你真的会用Gson吗?Gson使用指南（四）</a></li>
</ul>
<h2 id="FastJson的下载"><a href="#FastJson的下载" class="headerlink" title="FastJson的下载"></a>FastJson的下载</h2><h3 id="Gradle"><a href="#Gradle" class="headerlink" title="Gradle"></a>Gradle</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">compile &apos;com.alibaba:fastjson:1.2.55&apos;</span><br><span class="line">compile &apos;com.alibaba:fastjson:1.1.70.android&apos;</span><br></pre></td></tr></table></figure>
<h3 id="Maven"><a href="#Maven" class="headerlink" title="Maven"></a>Maven</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>fastjson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.55<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>fastjson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.70.android<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="FastJson的教程"><a href="#FastJson的教程" class="headerlink" title="FastJson的教程"></a>FastJson的教程</h2><p><a href="http://www.runoob.com/w3cnote/fastjson-intro.html" target="_blank" rel="noopener">菜鸟教程</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/user.jpg" alt="lichukuan">
            
              <p class="site-author-name" itemprop="name">lichukuan</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">48</span>
                  <span class="site-state-item-name">博客</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">lichukuan</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
